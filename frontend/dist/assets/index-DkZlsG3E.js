(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function wg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mf={exports:{}},ds={},yf={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dl=Symbol.for("react.element"),bg=Symbol.for("react.portal"),Sg=Symbol.for("react.fragment"),kg=Symbol.for("react.strict_mode"),jg=Symbol.for("react.profiler"),Cg=Symbol.for("react.provider"),Pg=Symbol.for("react.context"),Eg=Symbol.for("react.forward_ref"),Ag=Symbol.for("react.suspense"),Ng=Symbol.for("react.memo"),Tg=Symbol.for("react.lazy"),Eu=Symbol.iterator;function Lg(e){return e===null||typeof e!="object"?null:(e=Eu&&e[Eu]||e["@@iterator"],typeof e=="function"?e:null)}var xf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vf=Object.assign,wf={};function Oo(e,t,n){this.props=e,this.context=t,this.refs=wf,this.updater=n||xf}Oo.prototype.isReactComponent={};Oo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Oo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bf(){}bf.prototype=Oo.prototype;function yc(e,t,n){this.props=e,this.context=t,this.refs=wf,this.updater=n||xf}var xc=yc.prototype=new bf;xc.constructor=yc;vf(xc,Oo.prototype);xc.isPureReactComponent=!0;var Au=Array.isArray,Sf=Object.prototype.hasOwnProperty,vc={current:null},kf={key:!0,ref:!0,__self:!0,__source:!0};function jf(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Sf.call(t,r)&&!kf.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Dl,type:e,key:i,ref:s,props:o,_owner:vc.current}}function Rg(e,t){return{$$typeof:Dl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Dl}function Ig(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Nu=/\/+/g;function _s(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ig(""+e.key):t.toString(36)}function vi(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Dl:case bg:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+_s(s,0):r,Au(o)?(n="",e!=null&&(n=e.replace(Nu,"$&/")+"/"),vi(o,t,n,"",function(u){return u})):o!=null&&(wc(o)&&(o=Rg(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Nu,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Au(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+_s(i,a);s+=vi(i,t,n,c,o)}else if(c=Lg(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+_s(i,a++),s+=vi(i,t,n,c,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Xl(e,t,n){if(e==null)return e;var r=[],o=0;return vi(e,r,"","",function(i){return t.call(n,i,o++)}),r}function Fg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var on={current:null},wi={transition:null},zg={ReactCurrentDispatcher:on,ReactCurrentBatchConfig:wi,ReactCurrentOwner:vc};function Cf(){throw Error("act(...) is not supported in production builds of React.")}Ke.Children={map:Xl,forEach:function(e,t,n){Xl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xl(e,function(){t++}),t},toArray:function(e){return Xl(e,function(t){return t})||[]},only:function(e){if(!wc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ke.Component=Oo;Ke.Fragment=Sg;Ke.Profiler=jg;Ke.PureComponent=yc;Ke.StrictMode=kg;Ke.Suspense=Ag;Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zg;Ke.act=Cf;Ke.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=vf({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=vc.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Sf.call(t,c)&&!kf.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Dl,type:e.type,key:o,ref:i,props:r,_owner:s}};Ke.createContext=function(e){return e={$$typeof:Pg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Cg,_context:e},e.Consumer=e};Ke.createElement=jf;Ke.createFactory=function(e){var t=jf.bind(null,e);return t.type=e,t};Ke.createRef=function(){return{current:null}};Ke.forwardRef=function(e){return{$$typeof:Eg,render:e}};Ke.isValidElement=wc;Ke.lazy=function(e){return{$$typeof:Tg,_payload:{_status:-1,_result:e},_init:Fg}};Ke.memo=function(e,t){return{$$typeof:Ng,type:e,compare:t===void 0?null:t}};Ke.startTransition=function(e){var t=wi.transition;wi.transition={};try{e()}finally{wi.transition=t}};Ke.unstable_act=Cf;Ke.useCallback=function(e,t){return on.current.useCallback(e,t)};Ke.useContext=function(e){return on.current.useContext(e)};Ke.useDebugValue=function(){};Ke.useDeferredValue=function(e){return on.current.useDeferredValue(e)};Ke.useEffect=function(e,t){return on.current.useEffect(e,t)};Ke.useId=function(){return on.current.useId()};Ke.useImperativeHandle=function(e,t,n){return on.current.useImperativeHandle(e,t,n)};Ke.useInsertionEffect=function(e,t){return on.current.useInsertionEffect(e,t)};Ke.useLayoutEffect=function(e,t){return on.current.useLayoutEffect(e,t)};Ke.useMemo=function(e,t){return on.current.useMemo(e,t)};Ke.useReducer=function(e,t,n){return on.current.useReducer(e,t,n)};Ke.useRef=function(e){return on.current.useRef(e)};Ke.useState=function(e){return on.current.useState(e)};Ke.useSyncExternalStore=function(e,t,n){return on.current.useSyncExternalStore(e,t,n)};Ke.useTransition=function(){return on.current.useTransition()};Ke.version="18.3.1";yf.exports=Ke;var R=yf.exports;const ye=wg(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g=R,$g=Symbol.for("react.element"),Mg=Symbol.for("react.fragment"),Bg=Object.prototype.hasOwnProperty,Og=_g.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wg={key:!0,ref:!0,__self:!0,__source:!0};function Pf(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Bg.call(t,r)&&!Wg.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:$g,type:e,key:i,ref:s,props:o,_owner:Og.current}}ds.Fragment=Mg;ds.jsx=Pf;ds.jsxs=Pf;mf.exports=ds;var l=mf.exports,Ef={exports:{}},bn={},Af={exports:{}},Nf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,b){var A=S.length;S.push(b);e:for(;0<A;){var E=A-1>>>1,$=S[E];if(0<o($,b))S[E]=b,S[A]=$,A=E;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var b=S[0],A=S.pop();if(A!==b){S[0]=A;e:for(var E=0,$=S.length,he=$>>>1;E<he;){var de=2*(E+1)-1,ve=S[de],Fe=de+1,Q=S[Fe];if(0>o(ve,A))Fe<$&&0>o(Q,ve)?(S[E]=Q,S[Fe]=A,E=Fe):(S[E]=ve,S[de]=A,E=de);else if(Fe<$&&0>o(Q,A))S[E]=Q,S[Fe]=A,E=Fe;else break e}}return b}function o(S,b){var A=S.sortIndex-b.sortIndex;return A!==0?A:S.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var c=[],u=[],f=1,d=null,h=3,v=!1,g=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(S){for(var b=n(u);b!==null;){if(b.callback===null)r(u);else if(b.startTime<=S)r(u),b.sortIndex=b.expirationTime,t(c,b);else break;b=n(u)}}function k(S){if(x=!1,y(S),!g)if(n(c)!==null)g=!0,L(z);else{var b=n(u);b!==null&&N(k,b.startTime-S)}}function z(S,b){g=!1,x&&(x=!1,p(P),P=-1),v=!0;var A=h;try{for(y(b),d=n(c);d!==null&&(!(d.expirationTime>b)||S&&!ie());){var E=d.callback;if(typeof E=="function"){d.callback=null,h=d.priorityLevel;var $=E(d.expirationTime<=b);b=e.unstable_now(),typeof $=="function"?d.callback=$:d===n(c)&&r(c),y(b)}else r(c);d=n(c)}if(d!==null)var he=!0;else{var de=n(u);de!==null&&N(k,de.startTime-b),he=!1}return he}finally{d=null,h=A,v=!1}}var T=!1,C=null,P=-1,M=5,D=-1;function ie(){return!(e.unstable_now()-D<M)}function X(){if(C!==null){var S=e.unstable_now();D=S;var b=!0;try{b=C(!0,S)}finally{b?O():(T=!1,C=null)}}else T=!1}var O;if(typeof m=="function")O=function(){m(X)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,I=_.port2;_.port1.onmessage=X,O=function(){I.postMessage(null)}}else O=function(){w(X,0)};function L(S){C=S,T||(T=!0,O())}function N(S,b){P=w(function(){S(e.unstable_now())},b)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){g||v||(g=!0,L(z))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(S){switch(h){case 1:case 2:case 3:var b=3;break;default:b=h}var A=h;h=b;try{return S()}finally{h=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,b){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var A=h;h=S;try{return b()}finally{h=A}},e.unstable_scheduleCallback=function(S,b,A){var E=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?E+A:E):A=E,S){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=A+$,S={id:f++,callback:b,priorityLevel:S,startTime:A,expirationTime:$,sortIndex:-1},A>E?(S.sortIndex=A,t(u,S),n(c)===null&&S===n(u)&&(x?(p(P),P=-1):x=!0,N(k,A-E))):(S.sortIndex=$,t(c,S),g||v||(g=!0,L(z))),S},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function(S){var b=h;return function(){var A=h;h=b;try{return S.apply(this,arguments)}finally{h=A}}}})(Nf);Af.exports=Nf;var Dg=Af.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug=R,wn=Dg;function le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tf=new Set,bl={};function lo(e,t){Ro(e,t),Ro(e+"Capture",t)}function Ro(e,t){for(bl[e]=t,e=0;e<t.length;e++)Tf.add(t[e])}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ga=Object.prototype.hasOwnProperty,Vg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tu={},Lu={};function Hg(e){return ga.call(Lu,e)?!0:ga.call(Tu,e)?!1:Vg.test(e)?Lu[e]=!0:(Tu[e]=!0,!1)}function Gg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qg(e,t,n,r){if(t===null||typeof t>"u"||Gg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ln(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ht[e]=new ln(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ht[t]=new ln(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ht[e]=new ln(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ht[e]=new ln(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ht[e]=new ln(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ht[e]=new ln(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ht[e]=new ln(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ht[e]=new ln(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ht[e]=new ln(e,5,!1,e.toLowerCase(),null,!1,!1)});var bc=/[\-:]([a-z])/g;function Sc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bc,Sc);Ht[t]=new ln(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bc,Sc);Ht[t]=new ln(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bc,Sc);Ht[t]=new ln(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ht[e]=new ln(e,1,!1,e.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ht[e]=new ln(e,1,!1,e.toLowerCase(),null,!0,!0)});function kc(e,t,n,r){var o=Ht.hasOwnProperty(t)?Ht[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qg(t,n,o,r)&&(n=null),r||o===null?Hg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var dr=Ug.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zl=Symbol.for("react.element"),po=Symbol.for("react.portal"),ho=Symbol.for("react.fragment"),jc=Symbol.for("react.strict_mode"),ma=Symbol.for("react.profiler"),Lf=Symbol.for("react.provider"),Rf=Symbol.for("react.context"),Cc=Symbol.for("react.forward_ref"),ya=Symbol.for("react.suspense"),xa=Symbol.for("react.suspense_list"),Pc=Symbol.for("react.memo"),wr=Symbol.for("react.lazy"),If=Symbol.for("react.offscreen"),Ru=Symbol.iterator;function Yo(e){return e===null||typeof e!="object"?null:(e=Ru&&e[Ru]||e["@@iterator"],typeof e=="function"?e:null)}var jt=Object.assign,$s;function sl(e){if($s===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$s=t&&t[1]||""}return`
`+$s+e}var Ms=!1;function Bs(e,t){if(!e||Ms)return"";Ms=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var c=`
`+o[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=a);break}}}finally{Ms=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?sl(e):""}function Kg(e){switch(e.tag){case 5:return sl(e.type);case 16:return sl("Lazy");case 13:return sl("Suspense");case 19:return sl("SuspenseList");case 0:case 2:case 15:return e=Bs(e.type,!1),e;case 11:return e=Bs(e.type.render,!1),e;case 1:return e=Bs(e.type,!0),e;default:return""}}function va(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ho:return"Fragment";case po:return"Portal";case ma:return"Profiler";case jc:return"StrictMode";case ya:return"Suspense";case xa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Rf:return(e.displayName||"Context")+".Consumer";case Lf:return(e._context.displayName||"Context")+".Provider";case Cc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pc:return t=e.displayName||null,t!==null?t:va(e.type)||"Memo";case wr:t=e._payload,e=e._init;try{return va(e(t))}catch{}}return null}function Yg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return va(t);case 8:return t===jc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ff(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qg(e){var t=Ff(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ei(e){e._valueTracker||(e._valueTracker=Qg(e))}function zf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ff(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function $i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wa(e,t){var n=t.checked;return jt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Iu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Fr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _f(e,t){t=t.checked,t!=null&&kc(e,"checked",t,!1)}function ba(e,t){_f(e,t);var n=Fr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sa(e,t.type,n):t.hasOwnProperty("defaultValue")&&Sa(e,t.type,Fr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Fu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Sa(e,t,n){(t!=="number"||$i(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var al=Array.isArray;function Po(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Fr(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function ka(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(le(91));return jt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(le(92));if(al(n)){if(1<n.length)throw Error(le(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Fr(n)}}function $f(e,t){var n=Fr(t.value),r=Fr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function _u(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Mf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ja(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Mf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ti,Bf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ti=ti||document.createElement("div"),ti.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ti.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var fl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jg=["Webkit","ms","Moz","O"];Object.keys(fl).forEach(function(e){Jg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fl[t]=fl[e]})});function Of(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||fl.hasOwnProperty(e)&&fl[e]?(""+t).trim():t+"px"}function Wf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Of(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Xg=jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ca(e,t){if(t){if(Xg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(le(62))}}function Pa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ea=null;function Ec(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Aa=null,Eo=null,Ao=null;function $u(e){if(e=Hl(e)){if(typeof Aa!="function")throw Error(le(280));var t=e.stateNode;t&&(t=ms(t),Aa(e.stateNode,e.type,t))}}function Df(e){Eo?Ao?Ao.push(e):Ao=[e]:Eo=e}function Uf(){if(Eo){var e=Eo,t=Ao;if(Ao=Eo=null,$u(e),t)for(e=0;e<t.length;e++)$u(t[e])}}function Vf(e,t){return e(t)}function Hf(){}var Os=!1;function Gf(e,t,n){if(Os)return e(t,n);Os=!0;try{return Vf(e,t,n)}finally{Os=!1,(Eo!==null||Ao!==null)&&(Hf(),Uf())}}function kl(e,t){var n=e.stateNode;if(n===null)return null;var r=ms(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(le(231,t,typeof n));return n}var Na=!1;if(sr)try{var Qo={};Object.defineProperty(Qo,"passive",{get:function(){Na=!0}}),window.addEventListener("test",Qo,Qo),window.removeEventListener("test",Qo,Qo)}catch{Na=!1}function Zg(e,t,n,r,o,i,s,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var pl=!1,Mi=null,Bi=!1,Ta=null,em={onError:function(e){pl=!0,Mi=e}};function tm(e,t,n,r,o,i,s,a,c){pl=!1,Mi=null,Zg.apply(em,arguments)}function nm(e,t,n,r,o,i,s,a,c){if(tm.apply(this,arguments),pl){if(pl){var u=Mi;pl=!1,Mi=null}else throw Error(le(198));Bi||(Bi=!0,Ta=u)}}function io(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function qf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Mu(e){if(io(e)!==e)throw Error(le(188))}function rm(e){var t=e.alternate;if(!t){if(t=io(e),t===null)throw Error(le(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Mu(o),e;if(i===r)return Mu(o),t;i=i.sibling}throw Error(le(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(le(189))}}if(n.alternate!==r)throw Error(le(190))}if(n.tag!==3)throw Error(le(188));return n.stateNode.current===n?e:t}function Kf(e){return e=rm(e),e!==null?Yf(e):null}function Yf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Yf(e);if(t!==null)return t;e=e.sibling}return null}var Qf=wn.unstable_scheduleCallback,Bu=wn.unstable_cancelCallback,om=wn.unstable_shouldYield,lm=wn.unstable_requestPaint,Lt=wn.unstable_now,im=wn.unstable_getCurrentPriorityLevel,Ac=wn.unstable_ImmediatePriority,Jf=wn.unstable_UserBlockingPriority,Oi=wn.unstable_NormalPriority,sm=wn.unstable_LowPriority,Xf=wn.unstable_IdlePriority,fs=null,Qn=null;function am(e){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(fs,e,void 0,(e.current.flags&128)===128)}catch{}}var Bn=Math.clz32?Math.clz32:dm,cm=Math.log,um=Math.LN2;function dm(e){return e>>>=0,e===0?32:31-(cm(e)/um|0)|0}var ni=64,ri=4194304;function cl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=cl(a):(i&=s,i!==0&&(r=cl(i)))}else s=n&~o,s!==0?r=cl(s):i!==0&&(r=cl(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Bn(t),o=1<<n,r|=e[n],t&=~o;return r}function fm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Bn(i),a=1<<s,c=o[s];c===-1?(!(a&n)||a&r)&&(o[s]=fm(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function La(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zf(){var e=ni;return ni<<=1,!(ni&4194240)&&(ni=64),e}function Ws(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ul(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Bn(t),e[t]=n}function hm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Bn(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Nc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Bn(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ot=0;function ep(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var tp,Tc,np,rp,op,Ra=!1,oi=[],Pr=null,Er=null,Ar=null,jl=new Map,Cl=new Map,Sr=[],gm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ou(e,t){switch(e){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":jl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(t.pointerId)}}function Jo(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=Hl(t),t!==null&&Tc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function mm(e,t,n,r,o){switch(t){case"focusin":return Pr=Jo(Pr,e,t,n,r,o),!0;case"dragenter":return Er=Jo(Er,e,t,n,r,o),!0;case"mouseover":return Ar=Jo(Ar,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return jl.set(i,Jo(jl.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Cl.set(i,Jo(Cl.get(i)||null,e,t,n,r,o)),!0}return!1}function lp(e){var t=Vr(e.target);if(t!==null){var n=io(t);if(n!==null){if(t=n.tag,t===13){if(t=qf(n),t!==null){e.blockedOn=t,op(e.priority,function(){np(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ia(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ea=r,n.target.dispatchEvent(r),Ea=null}else return t=Hl(n),t!==null&&Tc(t),e.blockedOn=n,!1;t.shift()}return!0}function Wu(e,t,n){bi(e)&&n.delete(t)}function ym(){Ra=!1,Pr!==null&&bi(Pr)&&(Pr=null),Er!==null&&bi(Er)&&(Er=null),Ar!==null&&bi(Ar)&&(Ar=null),jl.forEach(Wu),Cl.forEach(Wu)}function Xo(e,t){e.blockedOn===t&&(e.blockedOn=null,Ra||(Ra=!0,wn.unstable_scheduleCallback(wn.unstable_NormalPriority,ym)))}function Pl(e){function t(o){return Xo(o,e)}if(0<oi.length){Xo(oi[0],e);for(var n=1;n<oi.length;n++){var r=oi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pr!==null&&Xo(Pr,e),Er!==null&&Xo(Er,e),Ar!==null&&Xo(Ar,e),jl.forEach(t),Cl.forEach(t),n=0;n<Sr.length;n++)r=Sr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Sr.length&&(n=Sr[0],n.blockedOn===null);)lp(n),n.blockedOn===null&&Sr.shift()}var No=dr.ReactCurrentBatchConfig,Di=!0;function xm(e,t,n,r){var o=ot,i=No.transition;No.transition=null;try{ot=1,Lc(e,t,n,r)}finally{ot=o,No.transition=i}}function vm(e,t,n,r){var o=ot,i=No.transition;No.transition=null;try{ot=4,Lc(e,t,n,r)}finally{ot=o,No.transition=i}}function Lc(e,t,n,r){if(Di){var o=Ia(e,t,n,r);if(o===null)Js(e,t,r,Ui,n),Ou(e,r);else if(mm(o,e,t,n,r))r.stopPropagation();else if(Ou(e,r),t&4&&-1<gm.indexOf(e)){for(;o!==null;){var i=Hl(o);if(i!==null&&tp(i),i=Ia(e,t,n,r),i===null&&Js(e,t,r,Ui,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Js(e,t,r,null,n)}}var Ui=null;function Ia(e,t,n,r){if(Ui=null,e=Ec(r),e=Vr(e),e!==null)if(t=io(e),t===null)e=null;else if(n=t.tag,n===13){if(e=qf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ui=e,null}function ip(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(im()){case Ac:return 1;case Jf:return 4;case Oi:case sm:return 16;case Xf:return 536870912;default:return 16}default:return 16}}var jr=null,Rc=null,Si=null;function sp(){if(Si)return Si;var e,t=Rc,n=t.length,r,o="value"in jr?jr.value:jr.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return Si=o.slice(e,1<r?1-r:void 0)}function ki(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function li(){return!0}function Du(){return!1}function Sn(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?li:Du,this.isPropagationStopped=Du,this}return jt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),t}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ic=Sn(Wo),Vl=jt({},Wo,{view:0,detail:0}),wm=Sn(Vl),Ds,Us,Zo,ps=jt({},Vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zo&&(Zo&&e.type==="mousemove"?(Ds=e.screenX-Zo.screenX,Us=e.screenY-Zo.screenY):Us=Ds=0,Zo=e),Ds)},movementY:function(e){return"movementY"in e?e.movementY:Us}}),Uu=Sn(ps),bm=jt({},ps,{dataTransfer:0}),Sm=Sn(bm),km=jt({},Vl,{relatedTarget:0}),Vs=Sn(km),jm=jt({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),Cm=Sn(jm),Pm=jt({},Wo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Em=Sn(Pm),Am=jt({},Wo,{data:0}),Vu=Sn(Am),Nm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lm[e])?!!t[e]:!1}function Fc(){return Rm}var Im=jt({},Vl,{key:function(e){if(e.key){var t=Nm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ki(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fc,charCode:function(e){return e.type==="keypress"?ki(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ki(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fm=Sn(Im),zm=jt({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hu=Sn(zm),_m=jt({},Vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fc}),$m=Sn(_m),Mm=jt({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bm=Sn(Mm),Om=jt({},ps,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wm=Sn(Om),Dm=[9,13,27,32],zc=sr&&"CompositionEvent"in window,hl=null;sr&&"documentMode"in document&&(hl=document.documentMode);var Um=sr&&"TextEvent"in window&&!hl,ap=sr&&(!zc||hl&&8<hl&&11>=hl),Gu=" ",qu=!1;function cp(e,t){switch(e){case"keyup":return Dm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function up(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var go=!1;function Vm(e,t){switch(e){case"compositionend":return up(t);case"keypress":return t.which!==32?null:(qu=!0,Gu);case"textInput":return e=t.data,e===Gu&&qu?null:e;default:return null}}function Hm(e,t){if(go)return e==="compositionend"||!zc&&cp(e,t)?(e=sp(),Si=Rc=jr=null,go=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ap&&t.locale!=="ko"?null:t.data;default:return null}}var Gm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ku(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gm[e.type]:t==="textarea"}function dp(e,t,n,r){Df(r),t=Vi(t,"onChange"),0<t.length&&(n=new Ic("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var gl=null,El=null;function qm(e){Sp(e,0)}function hs(e){var t=xo(e);if(zf(t))return e}function Km(e,t){if(e==="change")return t}var fp=!1;if(sr){var Hs;if(sr){var Gs="oninput"in document;if(!Gs){var Yu=document.createElement("div");Yu.setAttribute("oninput","return;"),Gs=typeof Yu.oninput=="function"}Hs=Gs}else Hs=!1;fp=Hs&&(!document.documentMode||9<document.documentMode)}function Qu(){gl&&(gl.detachEvent("onpropertychange",pp),El=gl=null)}function pp(e){if(e.propertyName==="value"&&hs(El)){var t=[];dp(t,El,e,Ec(e)),Gf(qm,t)}}function Ym(e,t,n){e==="focusin"?(Qu(),gl=t,El=n,gl.attachEvent("onpropertychange",pp)):e==="focusout"&&Qu()}function Qm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hs(El)}function Jm(e,t){if(e==="click")return hs(t)}function Xm(e,t){if(e==="input"||e==="change")return hs(t)}function Zm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wn=typeof Object.is=="function"?Object.is:Zm;function Al(e,t){if(Wn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ga.call(t,o)||!Wn(e[o],t[o]))return!1}return!0}function Ju(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xu(e,t){var n=Ju(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ju(n)}}function hp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gp(){for(var e=window,t=$i();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$i(e.document)}return t}function _c(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ey(e){var t=gp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hp(n.ownerDocument.documentElement,n)){if(r!==null&&_c(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Xu(n,i);var s=Xu(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ty=sr&&"documentMode"in document&&11>=document.documentMode,mo=null,Fa=null,ml=null,za=!1;function Zu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;za||mo==null||mo!==$i(r)||(r=mo,"selectionStart"in r&&_c(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ml&&Al(ml,r)||(ml=r,r=Vi(Fa,"onSelect"),0<r.length&&(t=new Ic("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mo)))}function ii(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yo={animationend:ii("Animation","AnimationEnd"),animationiteration:ii("Animation","AnimationIteration"),animationstart:ii("Animation","AnimationStart"),transitionend:ii("Transition","TransitionEnd")},qs={},mp={};sr&&(mp=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function gs(e){if(qs[e])return qs[e];if(!yo[e])return e;var t=yo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in mp)return qs[e]=t[n];return e}var yp=gs("animationend"),xp=gs("animationiteration"),vp=gs("animationstart"),wp=gs("transitionend"),bp=new Map,ed="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $r(e,t){bp.set(e,t),lo(t,[e])}for(var Ks=0;Ks<ed.length;Ks++){var Ys=ed[Ks],ny=Ys.toLowerCase(),ry=Ys[0].toUpperCase()+Ys.slice(1);$r(ny,"on"+ry)}$r(yp,"onAnimationEnd");$r(xp,"onAnimationIteration");$r(vp,"onAnimationStart");$r("dblclick","onDoubleClick");$r("focusin","onFocus");$r("focusout","onBlur");$r(wp,"onTransitionEnd");Ro("onMouseEnter",["mouseout","mouseover"]);Ro("onMouseLeave",["mouseout","mouseover"]);Ro("onPointerEnter",["pointerout","pointerover"]);Ro("onPointerLeave",["pointerout","pointerover"]);lo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lo("onBeforeInput",["compositionend","keypress","textInput","paste"]);lo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oy=new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));function td(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,nm(r,t,void 0,e),e.currentTarget=null}function Sp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&o.isPropagationStopped())break e;td(o,a,u),i=c}else for(s=0;s<r.length;s++){if(a=r[s],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&o.isPropagationStopped())break e;td(o,a,u),i=c}}}if(Bi)throw e=Ta,Bi=!1,Ta=null,e}function xt(e,t){var n=t[Oa];n===void 0&&(n=t[Oa]=new Set);var r=e+"__bubble";n.has(r)||(kp(t,e,2,!1),n.add(r))}function Qs(e,t,n){var r=0;t&&(r|=4),kp(n,e,r,t)}var si="_reactListening"+Math.random().toString(36).slice(2);function Nl(e){if(!e[si]){e[si]=!0,Tf.forEach(function(n){n!=="selectionchange"&&(oy.has(n)||Qs(n,!1,e),Qs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[si]||(t[si]=!0,Qs("selectionchange",!1,t))}}function kp(e,t,n,r){switch(ip(t)){case 1:var o=xm;break;case 4:o=vm;break;default:o=Lc}n=o.bind(null,t,n,e),o=void 0,!Na||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Js(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;s=s.return}for(;a!==null;){if(s=Vr(a),s===null)return;if(c=s.tag,c===5||c===6){r=i=s;continue e}a=a.parentNode}}r=r.return}Gf(function(){var u=i,f=Ec(n),d=[];e:{var h=bp.get(e);if(h!==void 0){var v=Ic,g=e;switch(e){case"keypress":if(ki(n)===0)break e;case"keydown":case"keyup":v=Fm;break;case"focusin":g="focus",v=Vs;break;case"focusout":g="blur",v=Vs;break;case"beforeblur":case"afterblur":v=Vs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Uu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Sm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=$m;break;case yp:case xp:case vp:v=Cm;break;case wp:v=Bm;break;case"scroll":v=wm;break;case"wheel":v=Wm;break;case"copy":case"cut":case"paste":v=Em;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Hu}var x=(t&4)!==0,w=!x&&e==="scroll",p=x?h!==null?h+"Capture":null:h;x=[];for(var m=u,y;m!==null;){y=m;var k=y.stateNode;if(y.tag===5&&k!==null&&(y=k,p!==null&&(k=kl(m,p),k!=null&&x.push(Tl(m,k,y)))),w)break;m=m.return}0<x.length&&(h=new v(h,g,null,n,f),d.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==Ea&&(g=n.relatedTarget||n.fromElement)&&(Vr(g)||g[ar]))break e;if((v||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,v?(g=n.relatedTarget||n.toElement,v=u,g=g?Vr(g):null,g!==null&&(w=io(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(v=null,g=u),v!==g)){if(x=Uu,k="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=Hu,k="onPointerLeave",p="onPointerEnter",m="pointer"),w=v==null?h:xo(v),y=g==null?h:xo(g),h=new x(k,m+"leave",v,n,f),h.target=w,h.relatedTarget=y,k=null,Vr(f)===u&&(x=new x(p,m+"enter",g,n,f),x.target=y,x.relatedTarget=w,k=x),w=k,v&&g)t:{for(x=v,p=g,m=0,y=x;y;y=ao(y))m++;for(y=0,k=p;k;k=ao(k))y++;for(;0<m-y;)x=ao(x),m--;for(;0<y-m;)p=ao(p),y--;for(;m--;){if(x===p||p!==null&&x===p.alternate)break t;x=ao(x),p=ao(p)}x=null}else x=null;v!==null&&nd(d,h,v,x,!1),g!==null&&w!==null&&nd(d,w,g,x,!0)}}e:{if(h=u?xo(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var z=Km;else if(Ku(h))if(fp)z=Xm;else{z=Qm;var T=Ym}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(z=Jm);if(z&&(z=z(e,u))){dp(d,z,n,f);break e}T&&T(e,h,u),e==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Sa(h,"number",h.value)}switch(T=u?xo(u):window,e){case"focusin":(Ku(T)||T.contentEditable==="true")&&(mo=T,Fa=u,ml=null);break;case"focusout":ml=Fa=mo=null;break;case"mousedown":za=!0;break;case"contextmenu":case"mouseup":case"dragend":za=!1,Zu(d,n,f);break;case"selectionchange":if(ty)break;case"keydown":case"keyup":Zu(d,n,f)}var C;if(zc)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else go?cp(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(ap&&n.locale!=="ko"&&(go||P!=="onCompositionStart"?P==="onCompositionEnd"&&go&&(C=sp()):(jr=f,Rc="value"in jr?jr.value:jr.textContent,go=!0)),T=Vi(u,P),0<T.length&&(P=new Vu(P,e,null,n,f),d.push({event:P,listeners:T}),C?P.data=C:(C=up(n),C!==null&&(P.data=C)))),(C=Um?Vm(e,n):Hm(e,n))&&(u=Vi(u,"onBeforeInput"),0<u.length&&(f=new Vu("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:u}),f.data=C))}Sp(d,t)})}function Tl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vi(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=kl(e,n),i!=null&&r.unshift(Tl(e,i,o)),i=kl(e,t),i!=null&&r.push(Tl(e,i,o))),e=e.return}return r}function ao(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nd(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,o?(c=kl(n,i),c!=null&&s.unshift(Tl(n,c,a))):o||(c=kl(n,i),c!=null&&s.push(Tl(n,c,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var ly=/\r\n?/g,iy=/\u0000|\uFFFD/g;function rd(e){return(typeof e=="string"?e:""+e).replace(ly,`
`).replace(iy,"")}function ai(e,t,n){if(t=rd(t),rd(e)!==t&&n)throw Error(le(425))}function Hi(){}var _a=null,$a=null;function Ma(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ba=typeof setTimeout=="function"?setTimeout:void 0,sy=typeof clearTimeout=="function"?clearTimeout:void 0,od=typeof Promise=="function"?Promise:void 0,ay=typeof queueMicrotask=="function"?queueMicrotask:typeof od<"u"?function(e){return od.resolve(null).then(e).catch(cy)}:Ba;function cy(e){setTimeout(function(){throw e})}function Xs(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Pl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Pl(t)}function Nr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ld(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Do=Math.random().toString(36).slice(2),Yn="__reactFiber$"+Do,Ll="__reactProps$"+Do,ar="__reactContainer$"+Do,Oa="__reactEvents$"+Do,uy="__reactListeners$"+Do,dy="__reactHandles$"+Do;function Vr(e){var t=e[Yn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ar]||n[Yn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ld(e);e!==null;){if(n=e[Yn])return n;e=ld(e)}return t}e=n,n=e.parentNode}return null}function Hl(e){return e=e[Yn]||e[ar],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(le(33))}function ms(e){return e[Ll]||null}var Wa=[],vo=-1;function Mr(e){return{current:e}}function vt(e){0>vo||(e.current=Wa[vo],Wa[vo]=null,vo--)}function ht(e,t){vo++,Wa[vo]=e.current,e.current=t}var zr={},Xt=Mr(zr),dn=Mr(!1),Xr=zr;function Io(e,t){var n=e.type.contextTypes;if(!n)return zr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function fn(e){return e=e.childContextTypes,e!=null}function Gi(){vt(dn),vt(Xt)}function id(e,t,n){if(Xt.current!==zr)throw Error(le(168));ht(Xt,t),ht(dn,n)}function jp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(le(108,Yg(e)||"Unknown",o));return jt({},n,r)}function qi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zr,Xr=Xt.current,ht(Xt,e),ht(dn,dn.current),!0}function sd(e,t,n){var r=e.stateNode;if(!r)throw Error(le(169));n?(e=jp(e,t,Xr),r.__reactInternalMemoizedMergedChildContext=e,vt(dn),vt(Xt),ht(Xt,e)):vt(dn),ht(dn,n)}var tr=null,ys=!1,Zs=!1;function Cp(e){tr===null?tr=[e]:tr.push(e)}function fy(e){ys=!0,Cp(e)}function Br(){if(!Zs&&tr!==null){Zs=!0;var e=0,t=ot;try{var n=tr;for(ot=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}tr=null,ys=!1}catch(o){throw tr!==null&&(tr=tr.slice(e+1)),Qf(Ac,Br),o}finally{ot=t,Zs=!1}}return null}var wo=[],bo=0,Ki=null,Yi=0,Cn=[],Pn=0,Zr=null,nr=1,rr="";function Dr(e,t){wo[bo++]=Yi,wo[bo++]=Ki,Ki=e,Yi=t}function Pp(e,t,n){Cn[Pn++]=nr,Cn[Pn++]=rr,Cn[Pn++]=Zr,Zr=e;var r=nr;e=rr;var o=32-Bn(r)-1;r&=~(1<<o),n+=1;var i=32-Bn(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,nr=1<<32-Bn(t)+o|n<<o|r,rr=i+e}else nr=1<<i|n<<o|r,rr=e}function $c(e){e.return!==null&&(Dr(e,1),Pp(e,1,0))}function Mc(e){for(;e===Ki;)Ki=wo[--bo],wo[bo]=null,Yi=wo[--bo],wo[bo]=null;for(;e===Zr;)Zr=Cn[--Pn],Cn[Pn]=null,rr=Cn[--Pn],Cn[Pn]=null,nr=Cn[--Pn],Cn[Pn]=null}var vn=null,xn=null,wt=!1,Mn=null;function Ep(e,t){var n=An(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ad(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vn=e,xn=Nr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vn=e,xn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Zr!==null?{id:nr,overflow:rr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=An(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,vn=e,xn=null,!0):!1;default:return!1}}function Da(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ua(e){if(wt){var t=xn;if(t){var n=t;if(!ad(e,t)){if(Da(e))throw Error(le(418));t=Nr(n.nextSibling);var r=vn;t&&ad(e,t)?Ep(r,n):(e.flags=e.flags&-4097|2,wt=!1,vn=e)}}else{if(Da(e))throw Error(le(418));e.flags=e.flags&-4097|2,wt=!1,vn=e}}}function cd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vn=e}function ci(e){if(e!==vn)return!1;if(!wt)return cd(e),wt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ma(e.type,e.memoizedProps)),t&&(t=xn)){if(Da(e))throw Ap(),Error(le(418));for(;t;)Ep(e,t),t=Nr(t.nextSibling)}if(cd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xn=Nr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xn=null}}else xn=vn?Nr(e.stateNode.nextSibling):null;return!0}function Ap(){for(var e=xn;e;)e=Nr(e.nextSibling)}function Fo(){xn=vn=null,wt=!1}function Bc(e){Mn===null?Mn=[e]:Mn.push(e)}var py=dr.ReactCurrentBatchConfig;function el(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(le(309));var r=n.stateNode}if(!r)throw Error(le(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=o.refs;s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(le(284));if(!n._owner)throw Error(le(290,e))}return e}function ui(e,t){throw e=Object.prototype.toString.call(t),Error(le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ud(e){var t=e._init;return t(e._payload)}function Np(e){function t(p,m){if(e){var y=p.deletions;y===null?(p.deletions=[m],p.flags|=16):y.push(m)}}function n(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function o(p,m){return p=Ir(p,m),p.index=0,p.sibling=null,p}function i(p,m,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<m?(p.flags|=2,m):y):(p.flags|=2,m)):(p.flags|=1048576,m)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,m,y,k){return m===null||m.tag!==6?(m=ia(y,p.mode,k),m.return=p,m):(m=o(m,y),m.return=p,m)}function c(p,m,y,k){var z=y.type;return z===ho?f(p,m,y.props.children,k,y.key):m!==null&&(m.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===wr&&ud(z)===m.type)?(k=o(m,y.props),k.ref=el(p,m,y),k.return=p,k):(k=Ti(y.type,y.key,y.props,null,p.mode,k),k.ref=el(p,m,y),k.return=p,k)}function u(p,m,y,k){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=sa(y,p.mode,k),m.return=p,m):(m=o(m,y.children||[]),m.return=p,m)}function f(p,m,y,k,z){return m===null||m.tag!==7?(m=Qr(y,p.mode,k,z),m.return=p,m):(m=o(m,y),m.return=p,m)}function d(p,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ia(""+m,p.mode,y),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Zl:return y=Ti(m.type,m.key,m.props,null,p.mode,y),y.ref=el(p,null,m),y.return=p,y;case po:return m=sa(m,p.mode,y),m.return=p,m;case wr:var k=m._init;return d(p,k(m._payload),y)}if(al(m)||Yo(m))return m=Qr(m,p.mode,y,null),m.return=p,m;ui(p,m)}return null}function h(p,m,y,k){var z=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return z!==null?null:a(p,m,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Zl:return y.key===z?c(p,m,y,k):null;case po:return y.key===z?u(p,m,y,k):null;case wr:return z=y._init,h(p,m,z(y._payload),k)}if(al(y)||Yo(y))return z!==null?null:f(p,m,y,k,null);ui(p,y)}return null}function v(p,m,y,k,z){if(typeof k=="string"&&k!==""||typeof k=="number")return p=p.get(y)||null,a(m,p,""+k,z);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Zl:return p=p.get(k.key===null?y:k.key)||null,c(m,p,k,z);case po:return p=p.get(k.key===null?y:k.key)||null,u(m,p,k,z);case wr:var T=k._init;return v(p,m,y,T(k._payload),z)}if(al(k)||Yo(k))return p=p.get(y)||null,f(m,p,k,z,null);ui(m,k)}return null}function g(p,m,y,k){for(var z=null,T=null,C=m,P=m=0,M=null;C!==null&&P<y.length;P++){C.index>P?(M=C,C=null):M=C.sibling;var D=h(p,C,y[P],k);if(D===null){C===null&&(C=M);break}e&&C&&D.alternate===null&&t(p,C),m=i(D,m,P),T===null?z=D:T.sibling=D,T=D,C=M}if(P===y.length)return n(p,C),wt&&Dr(p,P),z;if(C===null){for(;P<y.length;P++)C=d(p,y[P],k),C!==null&&(m=i(C,m,P),T===null?z=C:T.sibling=C,T=C);return wt&&Dr(p,P),z}for(C=r(p,C);P<y.length;P++)M=v(C,p,P,y[P],k),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?P:M.key),m=i(M,m,P),T===null?z=M:T.sibling=M,T=M);return e&&C.forEach(function(ie){return t(p,ie)}),wt&&Dr(p,P),z}function x(p,m,y,k){var z=Yo(y);if(typeof z!="function")throw Error(le(150));if(y=z.call(y),y==null)throw Error(le(151));for(var T=z=null,C=m,P=m=0,M=null,D=y.next();C!==null&&!D.done;P++,D=y.next()){C.index>P?(M=C,C=null):M=C.sibling;var ie=h(p,C,D.value,k);if(ie===null){C===null&&(C=M);break}e&&C&&ie.alternate===null&&t(p,C),m=i(ie,m,P),T===null?z=ie:T.sibling=ie,T=ie,C=M}if(D.done)return n(p,C),wt&&Dr(p,P),z;if(C===null){for(;!D.done;P++,D=y.next())D=d(p,D.value,k),D!==null&&(m=i(D,m,P),T===null?z=D:T.sibling=D,T=D);return wt&&Dr(p,P),z}for(C=r(p,C);!D.done;P++,D=y.next())D=v(C,p,P,D.value,k),D!==null&&(e&&D.alternate!==null&&C.delete(D.key===null?P:D.key),m=i(D,m,P),T===null?z=D:T.sibling=D,T=D);return e&&C.forEach(function(X){return t(p,X)}),wt&&Dr(p,P),z}function w(p,m,y,k){if(typeof y=="object"&&y!==null&&y.type===ho&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Zl:e:{for(var z=y.key,T=m;T!==null;){if(T.key===z){if(z=y.type,z===ho){if(T.tag===7){n(p,T.sibling),m=o(T,y.props.children),m.return=p,p=m;break e}}else if(T.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===wr&&ud(z)===T.type){n(p,T.sibling),m=o(T,y.props),m.ref=el(p,T,y),m.return=p,p=m;break e}n(p,T);break}else t(p,T);T=T.sibling}y.type===ho?(m=Qr(y.props.children,p.mode,k,y.key),m.return=p,p=m):(k=Ti(y.type,y.key,y.props,null,p.mode,k),k.ref=el(p,m,y),k.return=p,p=k)}return s(p);case po:e:{for(T=y.key;m!==null;){if(m.key===T)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(p,m.sibling),m=o(m,y.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else t(p,m);m=m.sibling}m=sa(y,p.mode,k),m.return=p,p=m}return s(p);case wr:return T=y._init,w(p,m,T(y._payload),k)}if(al(y))return g(p,m,y,k);if(Yo(y))return x(p,m,y,k);ui(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(p,m.sibling),m=o(m,y),m.return=p,p=m):(n(p,m),m=ia(y,p.mode,k),m.return=p,p=m),s(p)):n(p,m)}return w}var zo=Np(!0),Tp=Np(!1),Qi=Mr(null),Ji=null,So=null,Oc=null;function Wc(){Oc=So=Ji=null}function Dc(e){var t=Qi.current;vt(Qi),e._currentValue=t}function Va(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function To(e,t){Ji=e,Oc=So=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(cn=!0),e.firstContext=null)}function Ln(e){var t=e._currentValue;if(Oc!==e)if(e={context:e,memoizedValue:t,next:null},So===null){if(Ji===null)throw Error(le(308));So=e,Ji.dependencies={lanes:0,firstContext:e}}else So=So.next=e;return t}var Hr=null;function Uc(e){Hr===null?Hr=[e]:Hr.push(e)}function Lp(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Uc(t)):(n.next=o.next,o.next=n),t.interleaved=n,cr(e,r)}function cr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var br=!1;function Vc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Tr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ze&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,cr(e,n)}return o=r.interleaved,o===null?(t.next=t,Uc(r)):(t.next=o.next,o.next=t),r.interleaved=t,cr(e,n)}function ji(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nc(e,n)}}function dd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Xi(e,t,n,r){var o=e.updateQueue;br=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var c=a,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=c))}if(i!==null){var d=o.baseState;s=0,f=u=c=null,a=i;do{var h=a.lane,v=a.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,x=a;switch(h=t,v=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){d=g.call(v,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,h=typeof g=="function"?g.call(v,d,h):g,h==null)break e;d=jt({},d,h);break e;case 2:br=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else v={eventTime:v,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=v,c=d):f=f.next=v,s|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(f===null&&(c=d),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=f,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);to|=s,e.lanes=s,e.memoizedState=d}}function fd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(le(191,o));o.call(r)}}}var Gl={},Jn=Mr(Gl),Rl=Mr(Gl),Il=Mr(Gl);function Gr(e){if(e===Gl)throw Error(le(174));return e}function Hc(e,t){switch(ht(Il,t),ht(Rl,e),ht(Jn,Gl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ja(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ja(t,e)}vt(Jn),ht(Jn,t)}function _o(){vt(Jn),vt(Rl),vt(Il)}function Ip(e){Gr(Il.current);var t=Gr(Jn.current),n=ja(t,e.type);t!==n&&(ht(Rl,e),ht(Jn,n))}function Gc(e){Rl.current===e&&(vt(Jn),vt(Rl))}var St=Mr(0);function Zi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ea=[];function qc(){for(var e=0;e<ea.length;e++)ea[e]._workInProgressVersionPrimary=null;ea.length=0}var Ci=dr.ReactCurrentDispatcher,ta=dr.ReactCurrentBatchConfig,eo=0,kt=null,It=null,Bt=null,es=!1,yl=!1,Fl=0,hy=0;function Kt(){throw Error(le(321))}function Kc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wn(e[n],t[n]))return!1;return!0}function Yc(e,t,n,r,o,i){if(eo=i,kt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ci.current=e===null||e.memoizedState===null?xy:vy,e=n(r,o),yl){i=0;do{if(yl=!1,Fl=0,25<=i)throw Error(le(301));i+=1,Bt=It=null,t.updateQueue=null,Ci.current=wy,e=n(r,o)}while(yl)}if(Ci.current=ts,t=It!==null&&It.next!==null,eo=0,Bt=It=kt=null,es=!1,t)throw Error(le(300));return e}function Qc(){var e=Fl!==0;return Fl=0,e}function Kn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?kt.memoizedState=Bt=e:Bt=Bt.next=e,Bt}function Rn(){if(It===null){var e=kt.alternate;e=e!==null?e.memoizedState:null}else e=It.next;var t=Bt===null?kt.memoizedState:Bt.next;if(t!==null)Bt=t,It=e;else{if(e===null)throw Error(le(310));It=e,e={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Bt===null?kt.memoizedState=Bt=e:Bt=Bt.next=e}return Bt}function zl(e,t){return typeof t=="function"?t(e):t}function na(e){var t=Rn(),n=t.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=e;var r=It,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,c=null,u=i;do{var f=u.lane;if((eo&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=d,s=r):c=c.next=d,kt.lanes|=f,to|=f}u=u.next}while(u!==null&&u!==i);c===null?s=r:c.next=a,Wn(r,t.memoizedState)||(cn=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,kt.lanes|=i,to|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ra(e){var t=Rn(),n=t.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);Wn(i,t.memoizedState)||(cn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Fp(){}function zp(e,t){var n=kt,r=Rn(),o=t(),i=!Wn(r.memoizedState,o);if(i&&(r.memoizedState=o,cn=!0),r=r.queue,Jc(Mp.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Bt!==null&&Bt.memoizedState.tag&1){if(n.flags|=2048,_l(9,$p.bind(null,n,r,o,t),void 0,null),Ot===null)throw Error(le(349));eo&30||_p(n,t,o)}return o}function _p(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=kt.updateQueue,t===null?(t={lastEffect:null,stores:null},kt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $p(e,t,n,r){t.value=n,t.getSnapshot=r,Bp(t)&&Op(e)}function Mp(e,t,n){return n(function(){Bp(t)&&Op(e)})}function Bp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wn(e,n)}catch{return!0}}function Op(e){var t=cr(e,1);t!==null&&On(t,e,1,-1)}function pd(e){var t=Kn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zl,lastRenderedState:e},t.queue=e,e=e.dispatch=yy.bind(null,kt,e),[t.memoizedState,e]}function _l(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=kt.updateQueue,t===null?(t={lastEffect:null,stores:null},kt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Wp(){return Rn().memoizedState}function Pi(e,t,n,r){var o=Kn();kt.flags|=e,o.memoizedState=_l(1|t,n,void 0,r===void 0?null:r)}function xs(e,t,n,r){var o=Rn();r=r===void 0?null:r;var i=void 0;if(It!==null){var s=It.memoizedState;if(i=s.destroy,r!==null&&Kc(r,s.deps)){o.memoizedState=_l(t,n,i,r);return}}kt.flags|=e,o.memoizedState=_l(1|t,n,i,r)}function hd(e,t){return Pi(8390656,8,e,t)}function Jc(e,t){return xs(2048,8,e,t)}function Dp(e,t){return xs(4,2,e,t)}function Up(e,t){return xs(4,4,e,t)}function Vp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hp(e,t,n){return n=n!=null?n.concat([e]):null,xs(4,4,Vp.bind(null,t,e),n)}function Xc(){}function Gp(e,t){var n=Rn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Kc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qp(e,t){var n=Rn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Kc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Kp(e,t,n){return eo&21?(Wn(n,t)||(n=Zf(),kt.lanes|=n,to|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,cn=!0),e.memoizedState=n)}function gy(e,t){var n=ot;ot=n!==0&&4>n?n:4,e(!0);var r=ta.transition;ta.transition={};try{e(!1),t()}finally{ot=n,ta.transition=r}}function Yp(){return Rn().memoizedState}function my(e,t,n){var r=Rr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qp(e))Jp(t,n);else if(n=Lp(e,t,n,r),n!==null){var o=nn();On(n,e,r,o),Xp(n,t,r)}}function yy(e,t,n){var r=Rr(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qp(e))Jp(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,Wn(a,s)){var c=t.interleaved;c===null?(o.next=o,Uc(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=Lp(e,t,o,r),n!==null&&(o=nn(),On(n,e,r,o),Xp(n,t,r))}}function Qp(e){var t=e.alternate;return e===kt||t!==null&&t===kt}function Jp(e,t){yl=es=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nc(e,n)}}var ts={readContext:Ln,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},xy={readContext:Ln,useCallback:function(e,t){return Kn().memoizedState=[e,t===void 0?null:t],e},useContext:Ln,useEffect:hd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Pi(4194308,4,Vp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pi(4,2,e,t)},useMemo:function(e,t){var n=Kn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Kn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=my.bind(null,kt,e),[r.memoizedState,e]},useRef:function(e){var t=Kn();return e={current:e},t.memoizedState=e},useState:pd,useDebugValue:Xc,useDeferredValue:function(e){return Kn().memoizedState=e},useTransition:function(){var e=pd(!1),t=e[0];return e=gy.bind(null,e[1]),Kn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=kt,o=Kn();if(wt){if(n===void 0)throw Error(le(407));n=n()}else{if(n=t(),Ot===null)throw Error(le(349));eo&30||_p(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,hd(Mp.bind(null,r,i,e),[e]),r.flags|=2048,_l(9,$p.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Kn(),t=Ot.identifierPrefix;if(wt){var n=rr,r=nr;n=(r&~(1<<32-Bn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Fl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=hy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vy={readContext:Ln,useCallback:Gp,useContext:Ln,useEffect:Jc,useImperativeHandle:Hp,useInsertionEffect:Dp,useLayoutEffect:Up,useMemo:qp,useReducer:na,useRef:Wp,useState:function(){return na(zl)},useDebugValue:Xc,useDeferredValue:function(e){var t=Rn();return Kp(t,It.memoizedState,e)},useTransition:function(){var e=na(zl)[0],t=Rn().memoizedState;return[e,t]},useMutableSource:Fp,useSyncExternalStore:zp,useId:Yp,unstable_isNewReconciler:!1},wy={readContext:Ln,useCallback:Gp,useContext:Ln,useEffect:Jc,useImperativeHandle:Hp,useInsertionEffect:Dp,useLayoutEffect:Up,useMemo:qp,useReducer:ra,useRef:Wp,useState:function(){return ra(zl)},useDebugValue:Xc,useDeferredValue:function(e){var t=Rn();return It===null?t.memoizedState=e:Kp(t,It.memoizedState,e)},useTransition:function(){var e=ra(zl)[0],t=Rn().memoizedState;return[e,t]},useMutableSource:Fp,useSyncExternalStore:zp,useId:Yp,unstable_isNewReconciler:!1};function _n(e,t){if(e&&e.defaultProps){t=jt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ha(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:jt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vs={isMounted:function(e){return(e=e._reactInternals)?io(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nn(),o=Rr(e),i=lr(r,o);i.payload=t,n!=null&&(i.callback=n),t=Tr(e,i,o),t!==null&&(On(t,e,o,r),ji(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nn(),o=Rr(e),i=lr(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Tr(e,i,o),t!==null&&(On(t,e,o,r),ji(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nn(),r=Rr(e),o=lr(n,r);o.tag=2,t!=null&&(o.callback=t),t=Tr(e,o,r),t!==null&&(On(t,e,r,n),ji(t,e,r))}};function gd(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Al(n,r)||!Al(o,i):!0}function Zp(e,t,n){var r=!1,o=zr,i=t.contextType;return typeof i=="object"&&i!==null?i=Ln(i):(o=fn(t)?Xr:Xt.current,r=t.contextTypes,i=(r=r!=null)?Io(e,o):zr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function md(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vs.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Vc(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Ln(i):(i=fn(t)?Xr:Xt.current,o.context=Io(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ha(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&vs.enqueueReplaceState(o,o.state,null),Xi(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function $o(e,t){try{var n="",r=t;do n+=Kg(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function oa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function qa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var by=typeof WeakMap=="function"?WeakMap:Map;function eh(e,t,n){n=lr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){rs||(rs=!0,rc=r),qa(e,t)},n}function th(e,t,n){n=lr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){qa(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){qa(e,t),typeof r!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function yd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new by;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=zy.bind(null,e,t,n),t.then(e,e))}function xd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vd(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=lr(-1,1),t.tag=2,Tr(n,t,1))),n.lanes|=1),e)}var Sy=dr.ReactCurrentOwner,cn=!1;function tn(e,t,n,r){t.child=e===null?Tp(t,null,n,r):zo(t,e.child,n,r)}function wd(e,t,n,r,o){n=n.render;var i=t.ref;return To(t,o),r=Yc(e,t,n,r,i,o),n=Qc(),e!==null&&!cn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,ur(e,t,o)):(wt&&n&&$c(t),t.flags|=1,tn(e,t,r,o),t.child)}function bd(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!iu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,nh(e,t,i,r,o)):(e=Ti(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Al,n(s,r)&&e.ref===t.ref)return ur(e,t,o)}return t.flags|=1,e=Ir(i,r),e.ref=t.ref,e.return=t,t.child=e}function nh(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Al(i,r)&&e.ref===t.ref)if(cn=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(cn=!0);else return t.lanes=e.lanes,ur(e,t,o)}return Ka(e,t,n,r,o)}function rh(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(jo,yn),yn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ht(jo,yn),yn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ht(jo,yn),yn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ht(jo,yn),yn|=r;return tn(e,t,o,n),t.child}function oh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ka(e,t,n,r,o){var i=fn(n)?Xr:Xt.current;return i=Io(t,i),To(t,o),n=Yc(e,t,n,r,i,o),r=Qc(),e!==null&&!cn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,ur(e,t,o)):(wt&&r&&$c(t),t.flags|=1,tn(e,t,n,o),t.child)}function Sd(e,t,n,r,o){if(fn(n)){var i=!0;qi(t)}else i=!1;if(To(t,o),t.stateNode===null)Ei(e,t),Zp(t,n,r),Ga(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ln(u):(u=fn(n)?Xr:Xt.current,u=Io(t,u));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||c!==u)&&md(t,s,r,u),br=!1;var h=t.memoizedState;s.state=h,Xi(t,r,s,o),c=t.memoizedState,a!==r||h!==c||dn.current||br?(typeof f=="function"&&(Ha(t,n,f,r),c=t.memoizedState),(a=br||gd(t,n,a,r,h,c,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Rp(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:_n(t.type,a),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ln(c):(c=fn(n)?Xr:Xt.current,c=Io(t,c));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==c)&&md(t,s,r,c),br=!1,h=t.memoizedState,s.state=h,Xi(t,r,s,o);var g=t.memoizedState;a!==d||h!==g||dn.current||br?(typeof v=="function"&&(Ha(t,n,v,r),g=t.memoizedState),(u=br||gd(t,n,u,r,h,g,c)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),s.props=r,s.state=g,s.context=c,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ya(e,t,n,r,i,o)}function Ya(e,t,n,r,o,i){oh(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&sd(t,n,!1),ur(e,t,i);r=t.stateNode,Sy.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=zo(t,e.child,null,i),t.child=zo(t,null,a,i)):tn(e,t,a,i),t.memoizedState=r.state,o&&sd(t,n,!0),t.child}function lh(e){var t=e.stateNode;t.pendingContext?id(e,t.pendingContext,t.pendingContext!==t.context):t.context&&id(e,t.context,!1),Hc(e,t.containerInfo)}function kd(e,t,n,r,o){return Fo(),Bc(o),t.flags|=256,tn(e,t,n,r),t.child}var Qa={dehydrated:null,treeContext:null,retryLane:0};function Ja(e){return{baseLanes:e,cachePool:null,transitions:null}}function ih(e,t,n){var r=t.pendingProps,o=St.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ht(St,o&1),e===null)return Ua(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Ss(s,r,0,null),e=Qr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ja(n),t.memoizedState=Qa,e):Zc(t,s));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return ky(e,t,s,r,a,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,a=o.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ir(o,c),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=Ir(a,i):(i=Qr(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?Ja(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=Qa,r}return i=e.child,e=i.sibling,r=Ir(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Zc(e,t){return t=Ss({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function di(e,t,n,r){return r!==null&&Bc(r),zo(t,e.child,null,n),e=Zc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ky(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=oa(Error(le(422))),di(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Ss({mode:"visible",children:r.children},o,0,null),i=Qr(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&zo(t,e.child,null,s),t.child.memoizedState=Ja(s),t.memoizedState=Qa,i);if(!(t.mode&1))return di(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(le(419)),r=oa(i,r,void 0),di(e,t,s,r)}if(a=(s&e.childLanes)!==0,cn||a){if(r=Ot,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,cr(e,o),On(r,e,o,-1))}return lu(),r=oa(Error(le(421))),di(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=_y.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,xn=Nr(o.nextSibling),vn=t,wt=!0,Mn=null,e!==null&&(Cn[Pn++]=nr,Cn[Pn++]=rr,Cn[Pn++]=Zr,nr=e.id,rr=e.overflow,Zr=t),t=Zc(t,r.children),t.flags|=4096,t)}function jd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Va(e.return,t,n)}function la(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function sh(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(tn(e,t,r.children,n),r=St.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jd(e,n,t);else if(e.tag===19)jd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ht(St,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Zi(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),la(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Zi(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}la(t,!0,n,null,i);break;case"together":la(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ei(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ur(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),to|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(le(153));if(t.child!==null){for(e=t.child,n=Ir(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ir(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function jy(e,t,n){switch(t.tag){case 3:lh(t),Fo();break;case 5:Ip(t);break;case 1:fn(t.type)&&qi(t);break;case 4:Hc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ht(Qi,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ht(St,St.current&1),t.flags|=128,null):n&t.child.childLanes?ih(e,t,n):(ht(St,St.current&1),e=ur(e,t,n),e!==null?e.sibling:null);ht(St,St.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return sh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ht(St,St.current),r)break;return null;case 22:case 23:return t.lanes=0,rh(e,t,n)}return ur(e,t,n)}var ah,Xa,ch,uh;ah=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xa=function(){};ch=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Gr(Jn.current);var i=null;switch(n){case"input":o=wa(e,o),r=wa(e,r),i=[];break;case"select":o=jt({},o,{value:void 0}),r=jt({},r,{value:void 0}),i=[];break;case"textarea":o=ka(e,o),r=ka(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Hi)}Ca(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&xt("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};uh=function(e,t,n,r){n!==r&&(t.flags|=4)};function tl(e,t){if(!wt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Cy(e,t,n){var r=t.pendingProps;switch(Mc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(t),null;case 1:return fn(t.type)&&Gi(),Yt(t),null;case 3:return r=t.stateNode,_o(),vt(dn),vt(Xt),qc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ci(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mn!==null&&(ic(Mn),Mn=null))),Xa(e,t),Yt(t),null;case 5:Gc(t);var o=Gr(Il.current);if(n=t.type,e!==null&&t.stateNode!=null)ch(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(le(166));return Yt(t),null}if(e=Gr(Jn.current),ci(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Yn]=t,r[Ll]=i,e=(t.mode&1)!==0,n){case"dialog":xt("cancel",r),xt("close",r);break;case"iframe":case"object":case"embed":xt("load",r);break;case"video":case"audio":for(o=0;o<ul.length;o++)xt(ul[o],r);break;case"source":xt("error",r);break;case"img":case"image":case"link":xt("error",r),xt("load",r);break;case"details":xt("toggle",r);break;case"input":Iu(r,i),xt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},xt("invalid",r);break;case"textarea":zu(r,i),xt("invalid",r)}Ca(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ai(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ai(r.textContent,a,e),o=["children",""+a]):bl.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&xt("scroll",r)}switch(n){case"input":ei(r),Fu(r,i,!0);break;case"textarea":ei(r),_u(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Hi)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Mf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Yn]=t,e[Ll]=r,ah(e,t,!1,!1),t.stateNode=e;e:{switch(s=Pa(n,r),n){case"dialog":xt("cancel",e),xt("close",e),o=r;break;case"iframe":case"object":case"embed":xt("load",e),o=r;break;case"video":case"audio":for(o=0;o<ul.length;o++)xt(ul[o],e);o=r;break;case"source":xt("error",e),o=r;break;case"img":case"image":case"link":xt("error",e),xt("load",e),o=r;break;case"details":xt("toggle",e),o=r;break;case"input":Iu(e,r),o=wa(e,r),xt("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=jt({},r,{value:void 0}),xt("invalid",e);break;case"textarea":zu(e,r),o=ka(e,r),xt("invalid",e);break;default:o=r}Ca(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Wf(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Bf(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Sl(e,c):typeof c=="number"&&Sl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(bl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&xt("scroll",e):c!=null&&kc(e,i,c,s))}switch(n){case"input":ei(e),Fu(e,r,!1);break;case"textarea":ei(e),_u(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Fr(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Po(e,!!r.multiple,i,!1):r.defaultValue!=null&&Po(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Hi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Yt(t),null;case 6:if(e&&t.stateNode!=null)uh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(le(166));if(n=Gr(Il.current),Gr(Jn.current),ci(t)){if(r=t.stateNode,n=t.memoizedProps,r[Yn]=t,(i=r.nodeValue!==n)&&(e=vn,e!==null))switch(e.tag){case 3:ai(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ai(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yn]=t,t.stateNode=r}return Yt(t),null;case 13:if(vt(St),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(wt&&xn!==null&&t.mode&1&&!(t.flags&128))Ap(),Fo(),t.flags|=98560,i=!1;else if(i=ci(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(le(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(le(317));i[Yn]=t}else Fo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Yt(t),i=!1}else Mn!==null&&(ic(Mn),Mn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||St.current&1?Ft===0&&(Ft=3):lu())),t.updateQueue!==null&&(t.flags|=4),Yt(t),null);case 4:return _o(),Xa(e,t),e===null&&Nl(t.stateNode.containerInfo),Yt(t),null;case 10:return Dc(t.type._context),Yt(t),null;case 17:return fn(t.type)&&Gi(),Yt(t),null;case 19:if(vt(St),i=t.memoizedState,i===null)return Yt(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)tl(i,!1);else{if(Ft!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Zi(e),s!==null){for(t.flags|=128,tl(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ht(St,St.current&1|2),t.child}e=e.sibling}i.tail!==null&&Lt()>Mo&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(e=Zi(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),tl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!wt)return Yt(t),null}else 2*Lt()-i.renderingStartTime>Mo&&n!==1073741824&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Lt(),t.sibling=null,n=St.current,ht(St,r?n&1|2:n&1),t):(Yt(t),null);case 22:case 23:return ou(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?yn&1073741824&&(Yt(t),t.subtreeFlags&6&&(t.flags|=8192)):Yt(t),null;case 24:return null;case 25:return null}throw Error(le(156,t.tag))}function Py(e,t){switch(Mc(t),t.tag){case 1:return fn(t.type)&&Gi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _o(),vt(dn),vt(Xt),qc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gc(t),null;case 13:if(vt(St),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(le(340));Fo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return vt(St),null;case 4:return _o(),null;case 10:return Dc(t.type._context),null;case 22:case 23:return ou(),null;case 24:return null;default:return null}}var fi=!1,Qt=!1,Ey=typeof WeakSet=="function"?WeakSet:Set,je=null;function ko(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){At(e,t,r)}else n.current=null}function Za(e,t,n){try{n()}catch(r){At(e,t,r)}}var Cd=!1;function Ay(e,t){if(_a=Di,e=gp(),_c(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var v;d!==n||o!==0&&d.nodeType!==3||(a=s+o),d!==i||r!==0&&d.nodeType!==3||(c=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(v=d.firstChild)!==null;)h=d,d=v;for(;;){if(d===e)break t;if(h===n&&++u===o&&(a=s),h===i&&++f===r&&(c=s),(v=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=v}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for($a={focusedElem:e,selectionRange:n},Di=!1,je=t;je!==null;)if(t=je,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,je=e;else for(;je!==null;){t=je;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,w=g.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:_n(t.type,x),w);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(k){At(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,je=e;break}je=t.return}return g=Cd,Cd=!1,g}function xl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Za(t,n,i)}o=o.next}while(o!==r)}}function ws(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ec(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function dh(e){var t=e.alternate;t!==null&&(e.alternate=null,dh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yn],delete t[Ll],delete t[Oa],delete t[uy],delete t[dy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fh(e){return e.tag===5||e.tag===3||e.tag===4}function Pd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Hi));else if(r!==4&&(e=e.child,e!==null))for(tc(e,t,n),e=e.sibling;e!==null;)tc(e,t,n),e=e.sibling}function nc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(nc(e,t,n),e=e.sibling;e!==null;)nc(e,t,n),e=e.sibling}var Ut=null,$n=!1;function gr(e,t,n){for(n=n.child;n!==null;)ph(e,t,n),n=n.sibling}function ph(e,t,n){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(fs,n)}catch{}switch(n.tag){case 5:Qt||ko(n,t);case 6:var r=Ut,o=$n;Ut=null,gr(e,t,n),Ut=r,$n=o,Ut!==null&&($n?(e=Ut,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ut.removeChild(n.stateNode));break;case 18:Ut!==null&&($n?(e=Ut,n=n.stateNode,e.nodeType===8?Xs(e.parentNode,n):e.nodeType===1&&Xs(e,n),Pl(e)):Xs(Ut,n.stateNode));break;case 4:r=Ut,o=$n,Ut=n.stateNode.containerInfo,$n=!0,gr(e,t,n),Ut=r,$n=o;break;case 0:case 11:case 14:case 15:if(!Qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Za(n,t,s),o=o.next}while(o!==r)}gr(e,t,n);break;case 1:if(!Qt&&(ko(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){At(n,t,a)}gr(e,t,n);break;case 21:gr(e,t,n);break;case 22:n.mode&1?(Qt=(r=Qt)||n.memoizedState!==null,gr(e,t,n),Qt=r):gr(e,t,n);break;default:gr(e,t,n)}}function Ed(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ey),t.forEach(function(r){var o=$y.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function zn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ut=a.stateNode,$n=!1;break e;case 3:Ut=a.stateNode.containerInfo,$n=!0;break e;case 4:Ut=a.stateNode.containerInfo,$n=!0;break e}a=a.return}if(Ut===null)throw Error(le(160));ph(i,s,o),Ut=null,$n=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){At(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hh(t,e),t=t.sibling}function hh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zn(t,e),Gn(e),r&4){try{xl(3,e,e.return),ws(3,e)}catch(x){At(e,e.return,x)}try{xl(5,e,e.return)}catch(x){At(e,e.return,x)}}break;case 1:zn(t,e),Gn(e),r&512&&n!==null&&ko(n,n.return);break;case 5:if(zn(t,e),Gn(e),r&512&&n!==null&&ko(n,n.return),e.flags&32){var o=e.stateNode;try{Sl(o,"")}catch(x){At(e,e.return,x)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&_f(o,i),Pa(a,s);var u=Pa(a,i);for(s=0;s<c.length;s+=2){var f=c[s],d=c[s+1];f==="style"?Wf(o,d):f==="dangerouslySetInnerHTML"?Bf(o,d):f==="children"?Sl(o,d):kc(o,f,d,u)}switch(a){case"input":ba(o,i);break;case"textarea":$f(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Po(o,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?Po(o,!!i.multiple,i.defaultValue,!0):Po(o,!!i.multiple,i.multiple?[]:"",!1))}o[Ll]=i}catch(x){At(e,e.return,x)}}break;case 6:if(zn(t,e),Gn(e),r&4){if(e.stateNode===null)throw Error(le(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(x){At(e,e.return,x)}}break;case 3:if(zn(t,e),Gn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pl(t.containerInfo)}catch(x){At(e,e.return,x)}break;case 4:zn(t,e),Gn(e);break;case 13:zn(t,e),Gn(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(nu=Lt())),r&4&&Ed(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Qt=(u=Qt)||f,zn(t,e),Qt=u):zn(t,e),Gn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(je=e,f=e.child;f!==null;){for(d=je=f;je!==null;){switch(h=je,v=h.child,h.tag){case 0:case 11:case 14:case 15:xl(4,h,h.return);break;case 1:ko(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){At(r,n,x)}}break;case 5:ko(h,h.return);break;case 22:if(h.memoizedState!==null){Nd(d);continue}}v!==null?(v.return=h,je=v):Nd(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{o=d.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,c=d.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Of("display",s))}catch(x){At(e,e.return,x)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){At(e,e.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:zn(t,e),Gn(e),r&4&&Ed(e);break;case 21:break;default:zn(t,e),Gn(e)}}function Gn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(fh(n)){var r=n;break e}n=n.return}throw Error(le(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Sl(o,""),r.flags&=-33);var i=Pd(e);nc(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Pd(e);tc(e,a,s);break;default:throw Error(le(161))}}catch(c){At(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ny(e,t,n){je=e,gh(e)}function gh(e,t,n){for(var r=(e.mode&1)!==0;je!==null;){var o=je,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||fi;if(!s){var a=o.alternate,c=a!==null&&a.memoizedState!==null||Qt;a=fi;var u=Qt;if(fi=s,(Qt=c)&&!u)for(je=o;je!==null;)s=je,c=s.child,s.tag===22&&s.memoizedState!==null?Td(o):c!==null?(c.return=s,je=c):Td(o);for(;i!==null;)je=i,gh(i),i=i.sibling;je=o,fi=a,Qt=u}Ad(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,je=i):Ad(e)}}function Ad(e){for(;je!==null;){var t=je;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qt||ws(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:_n(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&fd(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}fd(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Pl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}Qt||t.flags&512&&ec(t)}catch(h){At(t,t.return,h)}}if(t===e){je=null;break}if(n=t.sibling,n!==null){n.return=t.return,je=n;break}je=t.return}}function Nd(e){for(;je!==null;){var t=je;if(t===e){je=null;break}var n=t.sibling;if(n!==null){n.return=t.return,je=n;break}je=t.return}}function Td(e){for(;je!==null;){var t=je;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ws(4,t)}catch(c){At(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){At(t,o,c)}}var i=t.return;try{ec(t)}catch(c){At(t,i,c)}break;case 5:var s=t.return;try{ec(t)}catch(c){At(t,s,c)}}}catch(c){At(t,t.return,c)}if(t===e){je=null;break}var a=t.sibling;if(a!==null){a.return=t.return,je=a;break}je=t.return}}var Ty=Math.ceil,ns=dr.ReactCurrentDispatcher,eu=dr.ReactCurrentOwner,Tn=dr.ReactCurrentBatchConfig,Ze=0,Ot=null,Rt=null,Vt=0,yn=0,jo=Mr(0),Ft=0,$l=null,to=0,bs=0,tu=0,vl=null,an=null,nu=0,Mo=1/0,er=null,rs=!1,rc=null,Lr=null,pi=!1,Cr=null,os=0,wl=0,oc=null,Ai=-1,Ni=0;function nn(){return Ze&6?Lt():Ai!==-1?Ai:Ai=Lt()}function Rr(e){return e.mode&1?Ze&2&&Vt!==0?Vt&-Vt:py.transition!==null?(Ni===0&&(Ni=Zf()),Ni):(e=ot,e!==0||(e=window.event,e=e===void 0?16:ip(e.type)),e):1}function On(e,t,n,r){if(50<wl)throw wl=0,oc=null,Error(le(185));Ul(e,n,r),(!(Ze&2)||e!==Ot)&&(e===Ot&&(!(Ze&2)&&(bs|=n),Ft===4&&kr(e,Vt)),pn(e,r),n===1&&Ze===0&&!(t.mode&1)&&(Mo=Lt()+500,ys&&Br()))}function pn(e,t){var n=e.callbackNode;pm(e,t);var r=Wi(e,e===Ot?Vt:0);if(r===0)n!==null&&Bu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Bu(n),t===1)e.tag===0?fy(Ld.bind(null,e)):Cp(Ld.bind(null,e)),ay(function(){!(Ze&6)&&Br()}),n=null;else{switch(ep(r)){case 1:n=Ac;break;case 4:n=Jf;break;case 16:n=Oi;break;case 536870912:n=Xf;break;default:n=Oi}n=kh(n,mh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function mh(e,t){if(Ai=-1,Ni=0,Ze&6)throw Error(le(327));var n=e.callbackNode;if(Lo()&&e.callbackNode!==n)return null;var r=Wi(e,e===Ot?Vt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ls(e,r);else{t=r;var o=Ze;Ze|=2;var i=xh();(Ot!==e||Vt!==t)&&(er=null,Mo=Lt()+500,Yr(e,t));do try{Iy();break}catch(a){yh(e,a)}while(!0);Wc(),ns.current=i,Ze=o,Rt!==null?t=0:(Ot=null,Vt=0,t=Ft)}if(t!==0){if(t===2&&(o=La(e),o!==0&&(r=o,t=lc(e,o))),t===1)throw n=$l,Yr(e,0),kr(e,r),pn(e,Lt()),n;if(t===6)kr(e,r);else{if(o=e.current.alternate,!(r&30)&&!Ly(o)&&(t=ls(e,r),t===2&&(i=La(e),i!==0&&(r=i,t=lc(e,i))),t===1))throw n=$l,Yr(e,0),kr(e,r),pn(e,Lt()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(le(345));case 2:Ur(e,an,er);break;case 3:if(kr(e,r),(r&130023424)===r&&(t=nu+500-Lt(),10<t)){if(Wi(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){nn(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ba(Ur.bind(null,e,an,er),t);break}Ur(e,an,er);break;case 4:if(kr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-Bn(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=Lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ty(r/1960))-r,10<r){e.timeoutHandle=Ba(Ur.bind(null,e,an,er),r);break}Ur(e,an,er);break;case 5:Ur(e,an,er);break;default:throw Error(le(329))}}}return pn(e,Lt()),e.callbackNode===n?mh.bind(null,e):null}function lc(e,t){var n=vl;return e.current.memoizedState.isDehydrated&&(Yr(e,t).flags|=256),e=ls(e,t),e!==2&&(t=an,an=n,t!==null&&ic(t)),e}function ic(e){an===null?an=e:an.push.apply(an,e)}function Ly(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Wn(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kr(e,t){for(t&=~tu,t&=~bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bn(t),r=1<<n;e[n]=-1,t&=~r}}function Ld(e){if(Ze&6)throw Error(le(327));Lo();var t=Wi(e,0);if(!(t&1))return pn(e,Lt()),null;var n=ls(e,t);if(e.tag!==0&&n===2){var r=La(e);r!==0&&(t=r,n=lc(e,r))}if(n===1)throw n=$l,Yr(e,0),kr(e,t),pn(e,Lt()),n;if(n===6)throw Error(le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ur(e,an,er),pn(e,Lt()),null}function ru(e,t){var n=Ze;Ze|=1;try{return e(t)}finally{Ze=n,Ze===0&&(Mo=Lt()+500,ys&&Br())}}function no(e){Cr!==null&&Cr.tag===0&&!(Ze&6)&&Lo();var t=Ze;Ze|=1;var n=Tn.transition,r=ot;try{if(Tn.transition=null,ot=1,e)return e()}finally{ot=r,Tn.transition=n,Ze=t,!(Ze&6)&&Br()}}function ou(){yn=jo.current,vt(jo)}function Yr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sy(n)),Rt!==null)for(n=Rt.return;n!==null;){var r=n;switch(Mc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gi();break;case 3:_o(),vt(dn),vt(Xt),qc();break;case 5:Gc(r);break;case 4:_o();break;case 13:vt(St);break;case 19:vt(St);break;case 10:Dc(r.type._context);break;case 22:case 23:ou()}n=n.return}if(Ot=e,Rt=e=Ir(e.current,null),Vt=yn=t,Ft=0,$l=null,tu=bs=to=0,an=vl=null,Hr!==null){for(t=0;t<Hr.length;t++)if(n=Hr[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Hr=null}return e}function yh(e,t){do{var n=Rt;try{if(Wc(),Ci.current=ts,es){for(var r=kt.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}es=!1}if(eo=0,Bt=It=kt=null,yl=!1,Fl=0,eu.current=null,n===null||n.return===null){Ft=1,$l=t,Rt=null;break}e:{var i=e,s=n.return,a=n,c=t;if(t=Vt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=a,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=xd(s);if(v!==null){v.flags&=-257,vd(v,s,a,i,t),v.mode&1&&yd(i,u,t),t=v,c=u;var g=t.updateQueue;if(g===null){var x=new Set;x.add(c),t.updateQueue=x}else g.add(c);break e}else{if(!(t&1)){yd(i,u,t),lu();break e}c=Error(le(426))}}else if(wt&&a.mode&1){var w=xd(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),vd(w,s,a,i,t),Bc($o(c,a));break e}}i=c=$o(c,a),Ft!==4&&(Ft=2),vl===null?vl=[i]:vl.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=eh(i,c,t);dd(i,p);break e;case 1:a=c;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Lr===null||!Lr.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=th(i,a,t);dd(i,k);break e}}i=i.return}while(i!==null)}wh(n)}catch(z){t=z,Rt===n&&n!==null&&(Rt=n=n.return);continue}break}while(!0)}function xh(){var e=ns.current;return ns.current=ts,e===null?ts:e}function lu(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Ot===null||!(to&268435455)&&!(bs&268435455)||kr(Ot,Vt)}function ls(e,t){var n=Ze;Ze|=2;var r=xh();(Ot!==e||Vt!==t)&&(er=null,Yr(e,t));do try{Ry();break}catch(o){yh(e,o)}while(!0);if(Wc(),Ze=n,ns.current=r,Rt!==null)throw Error(le(261));return Ot=null,Vt=0,Ft}function Ry(){for(;Rt!==null;)vh(Rt)}function Iy(){for(;Rt!==null&&!om();)vh(Rt)}function vh(e){var t=Sh(e.alternate,e,yn);e.memoizedProps=e.pendingProps,t===null?wh(e):Rt=t,eu.current=null}function wh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Py(n,t),n!==null){n.flags&=32767,Rt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ft=6,Rt=null;return}}else if(n=Cy(n,t,yn),n!==null){Rt=n;return}if(t=t.sibling,t!==null){Rt=t;return}Rt=t=e}while(t!==null);Ft===0&&(Ft=5)}function Ur(e,t,n){var r=ot,o=Tn.transition;try{Tn.transition=null,ot=1,Fy(e,t,n,r)}finally{Tn.transition=o,ot=r}return null}function Fy(e,t,n,r){do Lo();while(Cr!==null);if(Ze&6)throw Error(le(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(le(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(hm(e,i),e===Ot&&(Rt=Ot=null,Vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pi||(pi=!0,kh(Oi,function(){return Lo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Tn.transition,Tn.transition=null;var s=ot;ot=1;var a=Ze;Ze|=4,eu.current=null,Ay(e,n),hh(n,e),ey($a),Di=!!_a,$a=_a=null,e.current=n,Ny(n),lm(),Ze=a,ot=s,Tn.transition=i}else e.current=n;if(pi&&(pi=!1,Cr=e,os=o),i=e.pendingLanes,i===0&&(Lr=null),am(n.stateNode),pn(e,Lt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(rs)throw rs=!1,e=rc,rc=null,e;return os&1&&e.tag!==0&&Lo(),i=e.pendingLanes,i&1?e===oc?wl++:(wl=0,oc=e):wl=0,Br(),null}function Lo(){if(Cr!==null){var e=ep(os),t=Tn.transition,n=ot;try{if(Tn.transition=null,ot=16>e?16:e,Cr===null)var r=!1;else{if(e=Cr,Cr=null,os=0,Ze&6)throw Error(le(331));var o=Ze;for(Ze|=4,je=e.current;je!==null;){var i=je,s=i.child;if(je.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(je=u;je!==null;){var f=je;switch(f.tag){case 0:case 11:case 15:xl(8,f,i)}var d=f.child;if(d!==null)d.return=f,je=d;else for(;je!==null;){f=je;var h=f.sibling,v=f.return;if(dh(f),f===u){je=null;break}if(h!==null){h.return=v,je=h;break}je=v}}}var g=i.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}je=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,je=s;else e:for(;je!==null;){if(i=je,i.flags&2048)switch(i.tag){case 0:case 11:case 15:xl(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,je=p;break e}je=i.return}}var m=e.current;for(je=m;je!==null;){s=je;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,je=y;else e:for(s=m;je!==null;){if(a=je,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ws(9,a)}}catch(z){At(a,a.return,z)}if(a===s){je=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,je=k;break e}je=a.return}}if(Ze=o,Br(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(fs,e)}catch{}r=!0}return r}finally{ot=n,Tn.transition=t}}return!1}function Rd(e,t,n){t=$o(n,t),t=eh(e,t,1),e=Tr(e,t,1),t=nn(),e!==null&&(Ul(e,1,t),pn(e,t))}function At(e,t,n){if(e.tag===3)Rd(e,e,n);else for(;t!==null;){if(t.tag===3){Rd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Lr===null||!Lr.has(r))){e=$o(n,e),e=th(t,e,1),t=Tr(t,e,1),e=nn(),t!==null&&(Ul(t,1,e),pn(t,e));break}}t=t.return}}function zy(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=nn(),e.pingedLanes|=e.suspendedLanes&n,Ot===e&&(Vt&n)===n&&(Ft===4||Ft===3&&(Vt&130023424)===Vt&&500>Lt()-nu?Yr(e,0):tu|=n),pn(e,t)}function bh(e,t){t===0&&(e.mode&1?(t=ri,ri<<=1,!(ri&130023424)&&(ri=4194304)):t=1);var n=nn();e=cr(e,t),e!==null&&(Ul(e,t,n),pn(e,n))}function _y(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bh(e,n)}function $y(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(le(314))}r!==null&&r.delete(t),bh(e,n)}var Sh;Sh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||dn.current)cn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return cn=!1,jy(e,t,n);cn=!!(e.flags&131072)}else cn=!1,wt&&t.flags&1048576&&Pp(t,Yi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ei(e,t),e=t.pendingProps;var o=Io(t,Xt.current);To(t,n),o=Yc(null,t,r,e,o,n);var i=Qc();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,fn(r)?(i=!0,qi(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Vc(t),o.updater=vs,t.stateNode=o,o._reactInternals=t,Ga(t,r,e,n),t=Ya(null,t,r,!0,i,n)):(t.tag=0,wt&&i&&$c(t),tn(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ei(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=By(r),e=_n(r,e),o){case 0:t=Ka(null,t,r,e,n);break e;case 1:t=Sd(null,t,r,e,n);break e;case 11:t=wd(null,t,r,e,n);break e;case 14:t=bd(null,t,r,_n(r.type,e),n);break e}throw Error(le(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:_n(r,o),Ka(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:_n(r,o),Sd(e,t,r,o,n);case 3:e:{if(lh(t),e===null)throw Error(le(387));r=t.pendingProps,i=t.memoizedState,o=i.element,Rp(e,t),Xi(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=$o(Error(le(423)),t),t=kd(e,t,r,n,o);break e}else if(r!==o){o=$o(Error(le(424)),t),t=kd(e,t,r,n,o);break e}else for(xn=Nr(t.stateNode.containerInfo.firstChild),vn=t,wt=!0,Mn=null,n=Tp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fo(),r===o){t=ur(e,t,n);break e}tn(e,t,r,n)}t=t.child}return t;case 5:return Ip(t),e===null&&Ua(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,Ma(r,o)?s=null:i!==null&&Ma(r,i)&&(t.flags|=32),oh(e,t),tn(e,t,s,n),t.child;case 6:return e===null&&Ua(t),null;case 13:return ih(e,t,n);case 4:return Hc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=zo(t,null,r,n):tn(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:_n(r,o),wd(e,t,r,o,n);case 7:return tn(e,t,t.pendingProps,n),t.child;case 8:return tn(e,t,t.pendingProps.children,n),t.child;case 12:return tn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,ht(Qi,r._currentValue),r._currentValue=s,i!==null)if(Wn(i.value,s)){if(i.children===o.children&&!dn.current){t=ur(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=lr(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Va(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(le(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Va(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}tn(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,To(t,n),o=Ln(o),r=r(o),t.flags|=1,tn(e,t,r,n),t.child;case 14:return r=t.type,o=_n(r,t.pendingProps),o=_n(r.type,o),bd(e,t,r,o,n);case 15:return nh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:_n(r,o),Ei(e,t),t.tag=1,fn(r)?(e=!0,qi(t)):e=!1,To(t,n),Zp(t,r,o),Ga(t,r,o,n),Ya(null,t,r,!0,e,n);case 19:return sh(e,t,n);case 22:return rh(e,t,n)}throw Error(le(156,t.tag))};function kh(e,t){return Qf(e,t)}function My(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(e,t,n,r){return new My(e,t,n,r)}function iu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function By(e){if(typeof e=="function")return iu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cc)return 11;if(e===Pc)return 14}return 2}function Ir(e,t){var n=e.alternate;return n===null?(n=An(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ti(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")iu(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case ho:return Qr(n.children,o,i,t);case jc:s=8,o|=8;break;case ma:return e=An(12,n,t,o|2),e.elementType=ma,e.lanes=i,e;case ya:return e=An(13,n,t,o),e.elementType=ya,e.lanes=i,e;case xa:return e=An(19,n,t,o),e.elementType=xa,e.lanes=i,e;case If:return Ss(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Lf:s=10;break e;case Rf:s=9;break e;case Cc:s=11;break e;case Pc:s=14;break e;case wr:s=16,r=null;break e}throw Error(le(130,e==null?e:typeof e,""))}return t=An(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Qr(e,t,n,r){return e=An(7,e,r,t),e.lanes=n,e}function Ss(e,t,n,r){return e=An(22,e,r,t),e.elementType=If,e.lanes=n,e.stateNode={isHidden:!1},e}function ia(e,t,n){return e=An(6,e,null,t),e.lanes=n,e}function sa(e,t,n){return t=An(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Oy(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ws(0),this.expirationTimes=Ws(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ws(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function su(e,t,n,r,o,i,s,a,c){return e=new Oy(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=An(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vc(i),e}function Wy(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:po,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function jh(e){if(!e)return zr;e=e._reactInternals;e:{if(io(e)!==e||e.tag!==1)throw Error(le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(fn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(le(171))}if(e.tag===1){var n=e.type;if(fn(n))return jp(e,n,t)}return t}function Ch(e,t,n,r,o,i,s,a,c){return e=su(n,r,!0,e,o,i,s,a,c),e.context=jh(null),n=e.current,r=nn(),o=Rr(n),i=lr(r,o),i.callback=t??null,Tr(n,i,o),e.current.lanes=o,Ul(e,o,r),pn(e,r),e}function ks(e,t,n,r){var o=t.current,i=nn(),s=Rr(o);return n=jh(n),t.context===null?t.context=n:t.pendingContext=n,t=lr(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Tr(o,t,s),e!==null&&(On(e,o,s,i),ji(e,o,s)),s}function is(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Id(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function au(e,t){Id(e,t),(e=e.alternate)&&Id(e,t)}function Dy(){return null}var Ph=typeof reportError=="function"?reportError:function(e){console.error(e)};function cu(e){this._internalRoot=e}js.prototype.render=cu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(le(409));ks(e,t,null,null)};js.prototype.unmount=cu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;no(function(){ks(null,e,null,null)}),t[ar]=null}};function js(e){this._internalRoot=e}js.prototype.unstable_scheduleHydration=function(e){if(e){var t=rp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sr.length&&t!==0&&t<Sr[n].priority;n++);Sr.splice(n,0,e),n===0&&lp(e)}};function uu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fd(){}function Uy(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=is(s);i.call(u)}}var s=Ch(t,r,e,0,null,!1,!1,"",Fd);return e._reactRootContainer=s,e[ar]=s.current,Nl(e.nodeType===8?e.parentNode:e),no(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var u=is(c);a.call(u)}}var c=su(e,0,!1,null,null,!1,!1,"",Fd);return e._reactRootContainer=c,e[ar]=c.current,Nl(e.nodeType===8?e.parentNode:e),no(function(){ks(t,c,n,r)}),c}function Ps(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var c=is(s);a.call(c)}}ks(t,s,e,o)}else s=Uy(n,t,e,o,r);return is(s)}tp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=cl(t.pendingLanes);n!==0&&(Nc(t,n|1),pn(t,Lt()),!(Ze&6)&&(Mo=Lt()+500,Br()))}break;case 13:no(function(){var r=cr(e,1);if(r!==null){var o=nn();On(r,e,1,o)}}),au(e,1)}};Tc=function(e){if(e.tag===13){var t=cr(e,134217728);if(t!==null){var n=nn();On(t,e,134217728,n)}au(e,134217728)}};np=function(e){if(e.tag===13){var t=Rr(e),n=cr(e,t);if(n!==null){var r=nn();On(n,e,t,r)}au(e,t)}};rp=function(){return ot};op=function(e,t){var n=ot;try{return ot=e,t()}finally{ot=n}};Aa=function(e,t,n){switch(t){case"input":if(ba(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=ms(r);if(!o)throw Error(le(90));zf(r),ba(r,o)}}}break;case"textarea":$f(e,n);break;case"select":t=n.value,t!=null&&Po(e,!!n.multiple,t,!1)}};Vf=ru;Hf=no;var Vy={usingClientEntryPoint:!1,Events:[Hl,xo,ms,Df,Uf,ru]},nl={findFiberByHostInstance:Vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hy={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Kf(e),e===null?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||Dy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hi.isDisabled&&hi.supportsFiber)try{fs=hi.inject(Hy),Qn=hi}catch{}}bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vy;bn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uu(t))throw Error(le(200));return Wy(e,t,null,n)};bn.createRoot=function(e,t){if(!uu(e))throw Error(le(299));var n=!1,r="",o=Ph;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=su(e,1,!1,null,null,n,!1,r,o),e[ar]=t.current,Nl(e.nodeType===8?e.parentNode:e),new cu(t)};bn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(le(188)):(e=Object.keys(e).join(","),Error(le(268,e)));return e=Kf(t),e=e===null?null:e.stateNode,e};bn.flushSync=function(e){return no(e)};bn.hydrate=function(e,t,n){if(!Cs(t))throw Error(le(200));return Ps(null,e,t,!0,n)};bn.hydrateRoot=function(e,t,n){if(!uu(e))throw Error(le(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Ph;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Ch(t,null,e,1,n??null,o,!1,i,s),e[ar]=t.current,Nl(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new js(t)};bn.render=function(e,t,n){if(!Cs(t))throw Error(le(200));return Ps(null,e,t,!1,n)};bn.unmountComponentAtNode=function(e){if(!Cs(e))throw Error(le(40));return e._reactRootContainer?(no(function(){Ps(null,null,e,!1,function(){e._reactRootContainer=null,e[ar]=null})}),!0):!1};bn.unstable_batchedUpdates=ru;bn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Cs(n))throw Error(le(200));if(e==null||e._reactInternals===void 0)throw Error(le(38));return Ps(e,t,n,!1,r)};bn.version="18.3.1-next-f1338f8080-20240426";function Eh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Eh)}catch(e){console.error(e)}}Eh(),Ef.exports=bn;var Gy=Ef.exports,Ah,zd=Gy;Ah=zd.createRoot,zd.hydrateRoot;const Nh="--app";function qy(e){return`${Nh}-${e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}`}function Ky(e,t=document.documentElement){const n=Object.entries(e);for(const[r,o]of n)if(typeof o=="string"){const i=qy(r),s=i.replace("--app-","--mw-");t.style.setProperty(i,o),t.style.setProperty(s,o)}t.style.setProperty(`${Nh}-mode`,e.mode)}const Yy={mode:"dark",bgApp:"#15171f",bgAppAlt:"#191b24",bgPanel:"#22242b",bgPanelAlt:"#272a33",bgInteractive:"rgba(255,255,255,0.06)",bgInteractiveHover:"rgba(255,255,255,0.1)",bgAccentSoft:"rgba(69,183,115,0.18)",headerBg:"#22242b",headerBgAlt:"#272a33",tableBg:"#22242b",tableHeaderBg:"#262830",tableBorder:"#2a2d35",tableStripeBg:"#24272f",tableRowHoverBg:"#2b2e37",border:"#30333b",borderStrong:"#3a3e47",divider:"#30333b",textPrimary:"#f4f4f4",textSecondary:"#a2a9b5",textMuted:"#6d757f",textOnAccent:"#0f1712",primary:"#45b773",primaryHover:"#54c381",primaryActive:"#379f62",primarySubtle:"#1c2d24",accent:"#9fe8c0",accentAlt:"#45b773",accentGrad:"linear-gradient(135deg,#45b773 0%, #6fd299 50%, #9fe8c0 100%)",success:"#45b773",warning:"#d99738",danger:"#ff5f56",info:"#6fd299",shadowLight:"0 2px 4px -1px rgba(0,0,0,0.45), 0 4px 18px -4px rgba(0,0,0,0.55)",shadowHover:"0 4px 10px -2px rgba(0,0,0,0.55), 0 6px 22px -6px rgba(0,0,0,0.6)",focusRing:"0 0 0 2px rgba(69,183,115,0.55)"},Qy={mode:"light",bgApp:"#f0f2f4",bgAppAlt:"#e8ebee",bgPanel:"#ffffff",bgPanelAlt:"#f7f9fb",bgInteractive:"rgba(0,0,0,0.04)",bgInteractiveHover:"rgba(0,0,0,0.07)",bgAccentSoft:"rgba(45,152,115,0.15)",headerBg:"#ffffff",headerBgAlt:"#f4f6f8",tableBg:"#ffffff",tableHeaderBg:"#f4f6f8",tableBorder:"#d9dde2",tableStripeBg:"#f7f9fa",tableRowHoverBg:"#ecf0f3",border:"#d9dde2",borderStrong:"#c7ccd2",divider:"#e3e6ea",textPrimary:"#2f3137",textSecondary:"#798698",textMuted:"#909aa6",textOnAccent:"#ffffff",primary:"#2d9873",primaryHover:"#32a77e",primaryActive:"#257e60",primarySubtle:"#d8efe6",accent:"#2d9873",accentAlt:"#4abf95",accentGrad:"linear-gradient(120deg,#2d9873 0%, #4abf95 55%, #8ad9ba 100%)",success:"#2d9873",warning:"#e29a29",danger:"#e14f48",info:"#4abf95",shadowLight:"0 1px 2px rgba(0,0,0,0.05), 0 3px 6px rgba(0,0,0,0.08)",shadowHover:"0 4px 10px -2px rgba(0,0,0,0.14), 0 8px 24px -6px rgba(0,0,0,0.18)",focusRing:"0 0 0 2px rgba(45,152,115,0.45)"},sc=e=>e==="light"?Qy:Yy,Th=R.createContext({mode:"dark",theme:sc("dark"),toggleTheme:()=>{},setMode:()=>{}}),Jy=({initialMode:e="dark",children:t})=>{const[n,r]=R.useState(e);R.useEffect(()=>{try{localStorage.setItem("defi10_theme_mode",n)}catch{}},[n]),R.useEffect(()=>{try{const s=localStorage.getItem("defi10_theme_mode");s&&(s==="dark"||s==="light")&&r(s)}catch{}},[]);const o=R.useCallback(()=>{r(s=>s==="dark"?"light":"dark")},[]),i={mode:n,theme:sc(n),toggleTheme:o,setMode:r};return R.useEffect(()=>{const s=sc(n);document.body.style.backgroundColor=s.bgApp,document.body.style.color=s.textPrimary,document.body.classList.remove("light","dark"),document.body.classList.add(n==="light"?"light":"dark"),Ky(s)},[n]),l.jsx(Th.Provider,{value:i,children:t})},Ct=()=>R.useContext(Th),Xy=({supportedChains:e=[],selectedChains:t,onSelectionChange:n})=>{const{theme:r}=Ct(),[o,i]=R.useState(!1),s=R.useRef(null);R.useEffect(()=>{const g=x=>{s.current&&!s.current.contains(x.target)&&i(!1)};if(o)return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[o]);const a=g=>{if(g!=null)return String(g).trim().toLowerCase()},c=g=>{const x=g.displayName||g.name||g.shortName||g.id||g.chainId||g.chain||g.network||g.networkId;return a(x)},u=t===null||t.size===e.length&&e.every(g=>t.has(c(g))),f=()=>{n(u?new Set:null)},d=g=>{const x=c(g),w=t===null?new Set(e.map(c)):new Set(t);w.has(x)?w.delete(x):w.add(x),w.size===e.length&&e.every(p=>w.has(c(p)))?n(null):n(w)},h=g=>t===null?!0:t.has(c(g)),v=()=>{if(u)return"All networks";const g=t.size;if(g===0)return"No networks";if(g===1){const x=Array.from(t)[0],w=e.find(p=>c(p)===x);return(w==null?void 0:w.displayName)||(w==null?void 0:w.name)||"Selected network"}return`${g} networks`};return!e||e.length===0?null:l.jsxs("div",{ref:s,style:{position:"relative",display:"inline-block"},children:[l.jsxs("button",{onClick:()=>i(!o),style:{display:"flex",alignItems:"center",gap:8,padding:"10px 16px",minWidth:180,maxWidth:200,backgroundColor:r.bgPanel,color:r.textPrimary,border:`1px solid ${r.border}`,borderRadius:8,cursor:"pointer",fontSize:14,fontWeight:500,transition:"all 0.2s ease",outline:"none"},onMouseEnter:g=>{g.currentTarget.style.backgroundColor=r.bgHover,g.currentTarget.style.borderColor=r.textSecondary},onMouseLeave:g=>{g.currentTarget.style.backgroundColor=r.bgPanel,g.currentTarget.style.borderColor=r.border},children:[l.jsx("span",{style:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:v()}),l.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",style:{transform:o?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"},children:l.jsx("path",{d:"M2 4L6 8L10 4",stroke:r.textSecondary,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),o&&l.jsxs("div",{style:{position:"absolute",top:"calc(100% + 4px)",left:0,width:240,maxHeight:400,overflowY:"auto",backgroundColor:r.bgPanel,border:`1px solid ${r.border}`,borderRadius:8,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:1e3,padding:"8px 0"},children:[l.jsxs("div",{onClick:f,style:{display:"flex",alignItems:"center",gap:12,padding:"10px 16px",cursor:"pointer",transition:"background-color 0.15s ease",backgroundColor:"transparent"},onMouseEnter:g=>{g.currentTarget.style.backgroundColor=r.bgHover},onMouseLeave:g=>{g.currentTarget.style.backgroundColor="transparent"},children:[l.jsx("span",{style:{flex:1,fontSize:14,fontWeight:500,color:r.textPrimary},children:"All networks"}),l.jsx("div",{style:{width:20,height:20,borderRadius:4,border:`2px solid ${u?r.accent:r.border}`,backgroundColor:u?r.accent:"transparent",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:u&&l.jsx("svg",{width:"12",height:"10",viewBox:"0 0 12 10",fill:"none",children:l.jsx("path",{d:"M1 5L4.5 8.5L11 1.5",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),l.jsx("div",{style:{height:1,backgroundColor:r.border,margin:"8px 0"}}),e.map((g,x)=>{const w=h(g),p=g.displayName||g.name||`Chain ${x+1}`;return l.jsxs("div",{onClick:()=>d(g),style:{display:"flex",alignItems:"center",gap:12,padding:"10px 16px",cursor:"pointer",transition:"background-color 0.15s ease",backgroundColor:"transparent"},onMouseEnter:m=>{m.currentTarget.style.backgroundColor=r.bgHover},onMouseLeave:m=>{m.currentTarget.style.backgroundColor="transparent"},children:[l.jsx("div",{style:{width:24,height:24,borderRadius:"50%",overflow:"hidden",backgroundColor:r.bgSecondary,display:"flex",alignItems:"center",justifyContent:"center"},children:g.iconUrl?l.jsx("img",{src:g.iconUrl,alt:p,style:{width:"100%",height:"100%",objectFit:"fill"}}):l.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:10,fontWeight:600,color:r.textSecondary},children:p.charAt(0)})}),l.jsx("span",{style:{flex:1,fontSize:14,fontWeight:400,color:r.textPrimary,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:p}),l.jsx("div",{style:{width:20,height:20,borderRadius:4,border:`2px solid ${w?r.accent:r.border}`,backgroundColor:w?r.accent:"transparent",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:w&&l.jsx("svg",{width:"12",height:"10",viewBox:"0 0 12 10",fill:"none",children:l.jsx("path",{d:"M1 5L4.5 8.5L11 1.5",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]},c(g))})]})]})},Uo=[{id:"rabby",name:"Rabby",description:"Connect with Rabby",icon:"",color:"#8697FF",type:"evm",detectFn:()=>!!window.rabby},{id:"metamask",name:"MetaMask",description:"Connect with MetaMask",icon:"",color:"#F6851B",type:"evm",detectFn:()=>!!window.ethereum},{id:"phantom",name:"Phantom",description:"Connect with Phantom",icon:"",color:"#AB9FF2",type:"solana",detectFn:()=>window.solana&&window.solana.isPhantom}];function Lh(){const e={};return Uo.forEach(t=>{e[t.id]=t.detectFn()}),e}function Rh(e){return Uo.find(t=>t.id===e)||null}function Zy(){return Uo.some(e=>e.detectFn())}function e0(){return Uo.map(e=>e.name).join(", ")}const t0=({theme:e,onConnect:t,onManageGroups:n})=>l.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",background:`linear-gradient(135deg, ${e.bgPrimary} 0%, ${e.bgSecondary||e.bgPrimary} 100%)`},children:l.jsxs("div",{style:{maxWidth:480,width:"100%",background:e.bgPanel,borderRadius:24,padding:"48px 40px",border:`1px solid ${e.border}`,boxShadow:e.shadowHover,textAlign:"center"},children:[l.jsx("div",{style:{width:80,height:80,margin:"0 auto 24px",borderRadius:"50%",background:"linear-gradient(135deg, #35f7a5 0%, #2fbfd9 100%)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 24px rgba(53, 247, 165, 0.25)",padding:"12px"},children:l.jsx("img",{src:"/logo_white_border.svg",alt:"DeFi10",style:{width:"100%",height:"100%",objectFit:"contain"}})}),l.jsx("h1",{style:{margin:"0 0 12px 0",fontSize:28,fontWeight:700,color:e.textPrimary,letterSpacing:"0.5px"},children:"Welcome to DeFi10"}),l.jsx("p",{style:{margin:"0 0 32px 0",fontSize:15,color:e.textSecondary,lineHeight:1.6},children:"Connect your wallet to view and manage your DeFi portfolio across multiple chains"}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[l.jsx("button",{onClick:t,style:{width:"100%",padding:"14px 24px",fontSize:16,fontWeight:600,color:"white",background:"linear-gradient(135deg, #35f7a5 0%, #2fbfd9 100%)",border:"none",borderRadius:12,cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",boxShadow:"0 4px 12px rgba(53, 247, 165, 0.3)"},onMouseEnter:r=>{r.currentTarget.style.transform="translateY(-2px)",r.currentTarget.style.boxShadow="0 6px 20px rgba(53, 247, 165, 0.4)"},onMouseLeave:r=>{r.currentTarget.style.transform="translateY(0)",r.currentTarget.style.boxShadow="0 4px 12px rgba(53, 247, 165, 0.3)"},children:"Connect Wallet"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,margin:"8px 0"},children:[l.jsx("div",{style:{flex:1,height:1,background:e.border}}),l.jsx("span",{style:{fontSize:12,color:e.textMuted,fontWeight:600,textTransform:"uppercase"},children:"or"}),l.jsx("div",{style:{flex:1,height:1,background:e.border}})]}),l.jsxs("button",{onClick:n,style:{width:"100%",padding:"14px 24px",fontSize:16,fontWeight:600,color:e.textPrimary,background:"transparent",border:`2px solid ${e.textMuted||e.border}`,borderRadius:12,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:8},onMouseEnter:r=>{r.currentTarget.style.transform="translateY(-2px)",r.currentTarget.style.borderColor="#35f7a5",r.currentTarget.style.background="rgba(53, 247, 165, 0.1)"},onMouseLeave:r=>{r.currentTarget.style.transform="translateY(0)",r.currentTarget.style.borderColor=e.textMuted||e.border,r.currentTarget.style.background="transparent"},children:[l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),l.jsx("circle",{cx:"9",cy:"7",r:"4"}),l.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),l.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"Manage Wallet Groups"]}),l.jsx("p",{style:{margin:"12px 0 0 0",fontSize:12,color:e.textMuted,lineHeight:1.5,textAlign:"center"},children:" Create groups with up to 3 wallets to track multiple addresses together"})]}),l.jsxs("div",{style:{marginTop:24,padding:"16px",background:e.bgSecondary||e.bgPrimary,borderRadius:12,border:`1px solid ${e.border}`},children:[l.jsx("p",{style:{margin:"0 0 12px 0",fontSize:12,fontWeight:600,color:e.textMuted,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Supported Wallets"}),l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:16,flexWrap:"wrap"},children:Uo.map(r=>l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{width:40,height:40,margin:"0 auto 4px",borderRadius:8,background:r.color,display:"flex",alignItems:"center",justifyContent:"center",fontSize:20},children:r.icon}),l.jsx("span",{style:{fontSize:11,color:e.textSecondary},children:r.name})]},r.id))})]}),l.jsx("div",{style:{marginTop:32,display:"flex",flexDirection:"column",gap:12,textAlign:"left"},children:[{icon:"",text:"Track your DeFi portfolio in real-time"},{icon:"",text:"Multi-chain support (Ethereum, Solana, BSC)"},{icon:"",text:"Manage multiple wallets in groups (up to 3)"},{icon:"",text:"Secure and decentralized"}].map((r,o)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,fontSize:13,color:e.textSecondary},children:[l.jsx("span",{style:{fontSize:18},children:r.icon}),l.jsx("span",{children:r.text})]},o))})]})});class n0 extends ye.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){this.setState({errorInfo:n}),console.error("[ErrorBoundary] Caught error:",t,n)}render(){return this.state.hasError?l.jsxs("div",{style:{color:"red",padding:16,background:"#fff0f0",border:"1px solid #f00"},children:[l.jsx("h2",{children:"Algo deu errado."}),l.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),l.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}const r0=({theme:e,error:t,onRetry:n,onGoBack:r})=>l.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",background:e.bgPrimary},children:l.jsxs("div",{style:{maxWidth:480,width:"100%",background:e.bgPanel,borderRadius:24,padding:"48px 40px",border:`1px solid ${e.border}`,boxShadow:e.shadowHover,textAlign:"center"},children:[l.jsx("div",{style:{width:80,height:80,margin:"0 auto 24px",borderRadius:"50%",background:"linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 24px rgba(255, 107, 107, 0.25)"},children:l.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),l.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),l.jsx("h1",{style:{margin:"0 0 12px 0",fontSize:28,fontWeight:700,color:e.textPrimary,letterSpacing:"0.5px"},children:"Oops! Something went wrong"}),l.jsx("p",{style:{margin:"0 0 8px 0",fontSize:15,color:e.textSecondary,lineHeight:1.6},children:"We're sorry, but we encountered an error while loading your data."}),t&&l.jsxs("div",{style:{marginTop:16,marginBottom:24,padding:"12px 16px",background:e.bgSecondary||e.bgPrimary,borderRadius:8,border:`1px solid ${e.border}`,textAlign:"left"},children:[l.jsx("p",{style:{margin:"0 0 4px 0",fontSize:11,fontWeight:600,color:e.textMuted,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Error Details"}),l.jsx("p",{style:{margin:0,fontSize:13,color:e.textSecondary,fontFamily:"monospace",wordBreak:"break-word"},children:typeof t=="string"?t:(t==null?void 0:t.message)||"Unknown error"})]}),l.jsxs("div",{style:{display:"flex",gap:12,marginTop:32},children:[r&&l.jsx("button",{onClick:r,style:{flex:1,padding:"12px 20px",fontSize:15,fontWeight:600,color:e.textPrimary,background:"transparent",border:`2px solid ${e.border}`,borderRadius:12,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:o=>{o.currentTarget.style.background=e.bgSecondary||e.bgPrimary,o.currentTarget.style.borderColor=e.textMuted},onMouseLeave:o=>{o.currentTarget.style.background="transparent",o.currentTarget.style.borderColor=e.border},children:"Go Back"}),n&&l.jsx("button",{onClick:n,style:{flex:1,padding:"12px 20px",fontSize:15,fontWeight:600,color:"white",background:"linear-gradient(135deg, #35f7a5 0%, #2fbfd9 100%)",border:"none",borderRadius:12,cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",boxShadow:"0 4px 12px rgba(53, 247, 165, 0.3)"},onMouseEnter:o=>{o.currentTarget.style.transform="translateY(-2px)",o.currentTarget.style.boxShadow="0 6px 20px rgba(53, 247, 165, 0.4)"},onMouseLeave:o=>{o.currentTarget.style.transform="translateY(0)",o.currentTarget.style.boxShadow="0 4px 12px rgba(53, 247, 165, 0.3)"},children:"Try Again"})]}),l.jsxs("div",{style:{marginTop:32,padding:"16px",background:e.bgSecondary||e.bgPrimary,borderRadius:12,border:`1px solid ${e.border}`,textAlign:"left"},children:[l.jsx("p",{style:{margin:"0 0 8px 0",fontSize:12,fontWeight:600,color:e.textMuted,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Possible Solutions"}),l.jsxs("ul",{style:{margin:0,padding:"0 0 0 20px",fontSize:13,color:e.textSecondary,lineHeight:1.8},children:[l.jsx("li",{children:"Check your internet connection"}),l.jsx("li",{children:"Make sure your wallet is properly connected"}),l.jsx("li",{children:"Try refreshing the page"}),l.jsx("li",{children:"Contact support if the problem persists"})]})]})]})}),Ih=R.createContext({maskValues:!1,maskValue:e=>e==null?"":String(e),toggleMaskValues:()=>{},setMaskValues:()=>{}}),o0=({value:e,children:t})=>l.jsx(Ih.Provider,{value:e,children:t}),In=()=>R.useContext(Ih);function Fh(e,t){return function(){return e.apply(t,arguments)}}const{toString:l0}=Object.prototype,{getPrototypeOf:du}=Object,{iterator:Es,toStringTag:zh}=Symbol,As=(e=>t=>{const n=l0.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Dn=e=>(e=e.toLowerCase(),t=>As(t)===e),Ns=e=>t=>typeof t===e,{isArray:Vo}=Array,Bo=Ns("undefined");function ql(e){return e!==null&&!Bo(e)&&e.constructor!==null&&!Bo(e.constructor)&&hn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const _h=Dn("ArrayBuffer");function i0(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&_h(e.buffer),t}const s0=Ns("string"),hn=Ns("function"),$h=Ns("number"),Kl=e=>e!==null&&typeof e=="object",a0=e=>e===!0||e===!1,Li=e=>{if(As(e)!=="object")return!1;const t=du(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(zh in e)&&!(Es in e)},c0=e=>{if(!Kl(e)||ql(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},u0=Dn("Date"),d0=Dn("File"),f0=Dn("Blob"),p0=Dn("FileList"),h0=e=>Kl(e)&&hn(e.pipe),g0=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||hn(e.append)&&((t=As(e))==="formdata"||t==="object"&&hn(e.toString)&&e.toString()==="[object FormData]"))},m0=Dn("URLSearchParams"),[y0,x0,v0,w0]=["ReadableStream","Request","Response","Headers"].map(Dn),b0=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Yl(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),Vo(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{if(ql(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length;let a;for(r=0;r<s;r++)a=i[r],t.call(null,e[a],a,e)}}function Mh(e,t){if(ql(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const qr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Bh=e=>!Bo(e)&&e!==qr;function ac(){const{caseless:e,skipUndefined:t}=Bh(this)&&this||{},n={},r=(o,i)=>{const s=e&&Mh(n,i)||i;Li(n[s])&&Li(o)?n[s]=ac(n[s],o):Li(o)?n[s]=ac({},o):Vo(o)?n[s]=o.slice():(!t||!Bo(o))&&(n[s]=o)};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&Yl(arguments[o],r);return n}const S0=(e,t,n,{allOwnKeys:r}={})=>(Yl(t,(o,i)=>{n&&hn(o)?e[i]=Fh(o,n):e[i]=o},{allOwnKeys:r}),e),k0=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),j0=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},C0=(e,t,n,r)=>{let o,i,s;const a={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)s=o[i],(!r||r(s,e,t))&&!a[s]&&(t[s]=e[s],a[s]=!0);e=n!==!1&&du(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},P0=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},E0=e=>{if(!e)return null;if(Vo(e))return e;let t=e.length;if(!$h(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},A0=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&du(Uint8Array)),N0=(e,t)=>{const r=(e&&e[Es]).call(e);let o;for(;(o=r.next())&&!o.done;){const i=o.value;t.call(e,i[0],i[1])}},T0=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},L0=Dn("HTMLFormElement"),R0=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),_d=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),I0=Dn("RegExp"),Oh=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Yl(n,(o,i)=>{let s;(s=t(o,i,e))!==!1&&(r[i]=s||o)}),Object.defineProperties(e,r)},F0=e=>{Oh(e,(t,n)=>{if(hn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(hn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},z0=(e,t)=>{const n={},r=o=>{o.forEach(i=>{n[i]=!0})};return Vo(e)?r(e):r(String(e).split(t)),n},_0=()=>{},$0=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function M0(e){return!!(e&&hn(e.append)&&e[zh]==="FormData"&&e[Es])}const B0=e=>{const t=new Array(10),n=(r,o)=>{if(Kl(r)){if(t.indexOf(r)>=0)return;if(ql(r))return r;if(!("toJSON"in r)){t[o]=r;const i=Vo(r)?[]:{};return Yl(r,(s,a)=>{const c=n(s,o+1);!Bo(c)&&(i[a]=c)}),t[o]=void 0,i}}return r};return n(e,0)},O0=Dn("AsyncFunction"),W0=e=>e&&(Kl(e)||hn(e))&&hn(e.then)&&hn(e.catch),Wh=((e,t)=>e?setImmediate:t?((n,r)=>(qr.addEventListener("message",({source:o,data:i})=>{o===qr&&i===n&&r.length&&r.shift()()},!1),o=>{r.push(o),qr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",hn(qr.postMessage)),D0=typeof queueMicrotask<"u"?queueMicrotask.bind(qr):typeof process<"u"&&process.nextTick||Wh,U0=e=>e!=null&&hn(e[Es]),W={isArray:Vo,isArrayBuffer:_h,isBuffer:ql,isFormData:g0,isArrayBufferView:i0,isString:s0,isNumber:$h,isBoolean:a0,isObject:Kl,isPlainObject:Li,isEmptyObject:c0,isReadableStream:y0,isRequest:x0,isResponse:v0,isHeaders:w0,isUndefined:Bo,isDate:u0,isFile:d0,isBlob:f0,isRegExp:I0,isFunction:hn,isStream:h0,isURLSearchParams:m0,isTypedArray:A0,isFileList:p0,forEach:Yl,merge:ac,extend:S0,trim:b0,stripBOM:k0,inherits:j0,toFlatObject:C0,kindOf:As,kindOfTest:Dn,endsWith:P0,toArray:E0,forEachEntry:N0,matchAll:T0,isHTMLForm:L0,hasOwnProperty:_d,hasOwnProp:_d,reduceDescriptors:Oh,freezeMethods:F0,toObjectSet:z0,toCamelCase:R0,noop:_0,toFiniteNumber:$0,findKey:Mh,global:qr,isContextDefined:Bh,isSpecCompliantForm:M0,toJSONObject:B0,isAsyncFn:O0,isThenable:W0,setImmediate:Wh,asap:D0,isIterable:U0};function Ve(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}W.inherits(Ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const Dh=Ve.prototype,Uh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Uh[e]={value:e}});Object.defineProperties(Ve,Uh);Object.defineProperty(Dh,"isAxiosError",{value:!0});Ve.from=(e,t,n,r,o,i)=>{const s=Object.create(Dh);W.toFlatObject(e,s,function(f){return f!==Error.prototype},u=>u!=="isAxiosError");const a=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Ve.call(s,a,c,n,r,o),e&&s.cause==null&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",i&&Object.assign(s,i),s};const V0=null;function cc(e){return W.isPlainObject(e)||W.isArray(e)}function Vh(e){return W.endsWith(e,"[]")?e.slice(0,-2):e}function $d(e,t,n){return e?e.concat(t).map(function(o,i){return o=Vh(o),!n&&i?"["+o+"]":o}).join(n?".":""):t}function H0(e){return W.isArray(e)&&!e.some(cc)}const G0=W.toFlatObject(W,{},null,function(t){return/^is[A-Z]/.test(t)});function Ts(e,t,n){if(!W.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=W.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,w){return!W.isUndefined(w[x])});const r=n.metaTokens,o=n.visitor||f,i=n.dots,s=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(t);if(!W.isFunction(o))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(W.isDate(g))return g.toISOString();if(W.isBoolean(g))return g.toString();if(!c&&W.isBlob(g))throw new Ve("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(g)||W.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function f(g,x,w){let p=g;if(g&&!w&&typeof g=="object"){if(W.endsWith(x,"{}"))x=r?x:x.slice(0,-2),g=JSON.stringify(g);else if(W.isArray(g)&&H0(g)||(W.isFileList(g)||W.endsWith(x,"[]"))&&(p=W.toArray(g)))return x=Vh(x),p.forEach(function(y,k){!(W.isUndefined(y)||y===null)&&t.append(s===!0?$d([x],k,i):s===null?x:x+"[]",u(y))}),!1}return cc(g)?!0:(t.append($d(w,x,i),u(g)),!1)}const d=[],h=Object.assign(G0,{defaultVisitor:f,convertValue:u,isVisitable:cc});function v(g,x){if(!W.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+x.join("."));d.push(g),W.forEach(g,function(p,m){(!(W.isUndefined(p)||p===null)&&o.call(t,p,W.isString(m)?m.trim():m,x,h))===!0&&v(p,x?x.concat(m):[m])}),d.pop()}}if(!W.isObject(e))throw new TypeError("data must be an object");return v(e),t}function Md(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function fu(e,t){this._pairs=[],e&&Ts(e,this,t)}const Hh=fu.prototype;Hh.append=function(t,n){this._pairs.push([t,n])};Hh.toString=function(t){const n=t?function(r){return t.call(this,r,Md)}:Md;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function q0(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Gh(e,t,n){if(!t)return e;const r=n&&n.encode||q0;W.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(o?i=o(t,n):i=W.isURLSearchParams(t)?t.toString():new fu(t,n).toString(r),i){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Bd{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){W.forEach(this.handlers,function(r){r!==null&&t(r)})}}const qh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},K0=typeof URLSearchParams<"u"?URLSearchParams:fu,Y0=typeof FormData<"u"?FormData:null,Q0=typeof Blob<"u"?Blob:null,J0={isBrowser:!0,classes:{URLSearchParams:K0,FormData:Y0,Blob:Q0},protocols:["http","https","file","blob","url","data"]},pu=typeof window<"u"&&typeof document<"u",uc=typeof navigator=="object"&&navigator||void 0,X0=pu&&(!uc||["ReactNative","NativeScript","NS"].indexOf(uc.product)<0),Z0=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ex=pu&&window.location.href||"http://localhost",tx=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:pu,hasStandardBrowserEnv:X0,hasStandardBrowserWebWorkerEnv:Z0,navigator:uc,origin:ex},Symbol.toStringTag,{value:"Module"})),Jt={...tx,...J0};function nx(e,t){return Ts(e,new Jt.classes.URLSearchParams,{visitor:function(n,r,o,i){return Jt.isNode&&W.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function rx(e){return W.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ox(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}function Kh(e){function t(n,r,o,i){let s=n[i++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),c=i>=n.length;return s=!s&&W.isArray(o)?o.length:s,c?(W.hasOwnProp(o,s)?o[s]=[o[s],r]:o[s]=r,!a):((!o[s]||!W.isObject(o[s]))&&(o[s]=[]),t(n,r,o[s],i)&&W.isArray(o[s])&&(o[s]=ox(o[s])),!a)}if(W.isFormData(e)&&W.isFunction(e.entries)){const n={};return W.forEachEntry(e,(r,o)=>{t(rx(r),o,n,0)}),n}return null}function lx(e,t,n){if(W.isString(e))try{return(t||JSON.parse)(e),W.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Ql={transitional:qh,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,i=W.isObject(t);if(i&&W.isHTMLForm(t)&&(t=new FormData(t)),W.isFormData(t))return o?JSON.stringify(Kh(t)):t;if(W.isArrayBuffer(t)||W.isBuffer(t)||W.isStream(t)||W.isFile(t)||W.isBlob(t)||W.isReadableStream(t))return t;if(W.isArrayBufferView(t))return t.buffer;if(W.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return nx(t,this.formSerializer).toString();if((a=W.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ts(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),lx(t)):t}],transformResponse:[function(t){const n=this.transitional||Ql.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(W.isResponse(t)||W.isReadableStream(t))return t;if(t&&W.isString(t)&&(r&&!this.responseType||o)){const s=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t,this.parseReviver)}catch(a){if(s)throw a.name==="SyntaxError"?Ve.from(a,Ve.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Jt.classes.FormData,Blob:Jt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],e=>{Ql.headers[e]={}});const ix=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sx=e=>{const t={};let n,r,o;return e&&e.split(`
`).forEach(function(s){o=s.indexOf(":"),n=s.substring(0,o).trim().toLowerCase(),r=s.substring(o+1).trim(),!(!n||t[n]&&ix[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Od=Symbol("internals");function rl(e){return e&&String(e).trim().toLowerCase()}function Ri(e){return e===!1||e==null?e:W.isArray(e)?e.map(Ri):String(e)}function ax(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const cx=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function aa(e,t,n,r,o){if(W.isFunction(r))return r.call(this,t,n);if(o&&(t=n),!!W.isString(t)){if(W.isString(r))return t.indexOf(r)!==-1;if(W.isRegExp(r))return r.test(t)}}function ux(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function dx(e,t){const n=W.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,i,s){return this[r].call(this,t,o,i,s)},configurable:!0})})}let gn=class{constructor(t){t&&this.set(t)}set(t,n,r){const o=this;function i(a,c,u){const f=rl(c);if(!f)throw new Error("header name must be a non-empty string");const d=W.findKey(o,f);(!d||o[d]===void 0||u===!0||u===void 0&&o[d]!==!1)&&(o[d||c]=Ri(a))}const s=(a,c)=>W.forEach(a,(u,f)=>i(u,f,c));if(W.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(W.isString(t)&&(t=t.trim())&&!cx(t))s(sx(t),n);else if(W.isObject(t)&&W.isIterable(t)){let a={},c,u;for(const f of t){if(!W.isArray(f))throw TypeError("Object iterator must return a key-value pair");a[u=f[0]]=(c=a[u])?W.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}s(a,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=rl(t),t){const r=W.findKey(this,t);if(r){const o=this[r];if(!n)return o;if(n===!0)return ax(o);if(W.isFunction(n))return n.call(this,o,r);if(W.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=rl(t),t){const r=W.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||aa(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let o=!1;function i(s){if(s=rl(s),s){const a=W.findKey(r,s);a&&(!n||aa(r,r[a],a,n))&&(delete r[a],o=!0)}}return W.isArray(t)?t.forEach(i):i(t),o}clear(t){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const i=n[r];(!t||aa(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){const n=this,r={};return W.forEach(this,(o,i)=>{const s=W.findKey(r,i);if(s){n[s]=Ri(o),delete n[i];return}const a=t?ux(i):String(i).trim();a!==i&&delete n[i],n[a]=Ri(o),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return W.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=t&&W.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[Od]=this[Od]={accessors:{}}).accessors,o=this.prototype;function i(s){const a=rl(s);r[a]||(dx(o,s),r[a]=!0)}return W.isArray(t)?t.forEach(i):i(t),this}};gn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(gn.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});W.freezeMethods(gn);function ca(e,t){const n=this||Ql,r=t||n,o=gn.from(r.headers);let i=r.data;return W.forEach(e,function(a){i=a.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function Yh(e){return!!(e&&e.__CANCEL__)}function Ho(e,t,n){Ve.call(this,e??"canceled",Ve.ERR_CANCELED,t,n),this.name="CanceledError"}W.inherits(Ho,Ve,{__CANCEL__:!0});function Qh(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Ve("Request failed with status code "+n.status,[Ve.ERR_BAD_REQUEST,Ve.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function fx(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function px(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o=0,i=0,s;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),f=r[i];s||(s=u),n[o]=c,r[o]=u;let d=i,h=0;for(;d!==o;)h+=n[d++],d=d%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),u-s<t)return;const v=f&&u-f;return v?Math.round(h*1e3/v):void 0}}function hx(e,t){let n=0,r=1e3/t,o,i;const s=(u,f=Date.now())=>{n=f,o=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const f=Date.now(),d=f-n;d>=r?s(u,f):(o=u,i||(i=setTimeout(()=>{i=null,s(o)},r-d)))},()=>o&&s(o)]}const ss=(e,t,n=3)=>{let r=0;const o=px(50,250);return hx(i=>{const s=i.loaded,a=i.lengthComputable?i.total:void 0,c=s-r,u=o(c),f=s<=a;r=s;const d={loaded:s,total:a,progress:a?s/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&f?(a-s)/u:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},n)},Wd=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Dd=e=>(...t)=>W.asap(()=>e(...t)),gx=Jt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Jt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Jt.origin),Jt.navigator&&/(msie|trident)/i.test(Jt.navigator.userAgent)):()=>!0,mx=Jt.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const s=[e+"="+encodeURIComponent(t)];W.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),W.isString(r)&&s.push("path="+r),W.isString(o)&&s.push("domain="+o),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function yx(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xx(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Jh(e,t,n){let r=!yx(t);return e&&(r||n==!1)?xx(e,t):t}const Ud=e=>e instanceof gn?{...e}:e;function ro(e,t){t=t||{};const n={};function r(u,f,d,h){return W.isPlainObject(u)&&W.isPlainObject(f)?W.merge.call({caseless:h},u,f):W.isPlainObject(f)?W.merge({},f):W.isArray(f)?f.slice():f}function o(u,f,d,h){if(W.isUndefined(f)){if(!W.isUndefined(u))return r(void 0,u,d,h)}else return r(u,f,d,h)}function i(u,f){if(!W.isUndefined(f))return r(void 0,f)}function s(u,f){if(W.isUndefined(f)){if(!W.isUndefined(u))return r(void 0,u)}else return r(void 0,f)}function a(u,f,d){if(d in t)return r(u,f);if(d in e)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(u,f,d)=>o(Ud(u),Ud(f),d,!0)};return W.forEach(Object.keys({...e,...t}),function(f){const d=c[f]||o,h=d(e[f],t[f],f);W.isUndefined(h)&&d!==a||(n[f]=h)}),n}const Xh=e=>{const t=ro({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:i,headers:s,auth:a}=t;if(t.headers=s=gn.from(s),t.url=Gh(Jh(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),W.isFormData(n)){if(Jt.hasStandardBrowserEnv||Jt.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(W.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([f,d])=>{u.includes(f.toLowerCase())&&s.set(f,d)})}}if(Jt.hasStandardBrowserEnv&&(r&&W.isFunction(r)&&(r=r(t)),r||r!==!1&&gx(t.url))){const c=o&&i&&mx.read(i);c&&s.set(o,c)}return t},vx=typeof XMLHttpRequest<"u",wx=vx&&function(e){return new Promise(function(n,r){const o=Xh(e);let i=o.data;const s=gn.from(o.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=o,f,d,h,v,g;function x(){v&&v(),g&&g(),o.cancelToken&&o.cancelToken.unsubscribe(f),o.signal&&o.signal.removeEventListener("abort",f)}let w=new XMLHttpRequest;w.open(o.method.toUpperCase(),o.url,!0),w.timeout=o.timeout;function p(){if(!w)return;const y=gn.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),z={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:y,config:e,request:w};Qh(function(C){n(C),x()},function(C){r(C),x()},z),w=null}"onloadend"in w?w.onloadend=p:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(p)},w.onabort=function(){w&&(r(new Ve("Request aborted",Ve.ECONNABORTED,e,w)),w=null)},w.onerror=function(k){const z=k&&k.message?k.message:"Network Error",T=new Ve(z,Ve.ERR_NETWORK,e,w);T.event=k||null,r(T),w=null},w.ontimeout=function(){let k=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const z=o.transitional||qh;o.timeoutErrorMessage&&(k=o.timeoutErrorMessage),r(new Ve(k,z.clarifyTimeoutError?Ve.ETIMEDOUT:Ve.ECONNABORTED,e,w)),w=null},i===void 0&&s.setContentType(null),"setRequestHeader"in w&&W.forEach(s.toJSON(),function(k,z){w.setRequestHeader(z,k)}),W.isUndefined(o.withCredentials)||(w.withCredentials=!!o.withCredentials),a&&a!=="json"&&(w.responseType=o.responseType),u&&([h,g]=ss(u,!0),w.addEventListener("progress",h)),c&&w.upload&&([d,v]=ss(c),w.upload.addEventListener("progress",d),w.upload.addEventListener("loadend",v)),(o.cancelToken||o.signal)&&(f=y=>{w&&(r(!y||y.type?new Ho(null,e,w):y),w.abort(),w=null)},o.cancelToken&&o.cancelToken.subscribe(f),o.signal&&(o.signal.aborted?f():o.signal.addEventListener("abort",f)));const m=fx(o.url);if(m&&Jt.protocols.indexOf(m)===-1){r(new Ve("Unsupported protocol "+m+":",Ve.ERR_BAD_REQUEST,e));return}w.send(i||null)})},bx=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,o;const i=function(u){if(!o){o=!0,a();const f=u instanceof Error?u:this.reason;r.abort(f instanceof Ve?f:new Ho(f instanceof Error?f.message:f))}};let s=t&&setTimeout(()=>{s=null,i(new Ve(`timeout ${t} of ms exceeded`,Ve.ETIMEDOUT))},t);const a=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>W.asap(a),c}},Sx=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,o;for(;r<n;)o=r+t,yield e.slice(r,o),r=o},kx=async function*(e,t){for await(const n of jx(e))yield*Sx(n,t)},jx=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Vd=(e,t,n,r)=>{const o=kx(e,t);let i=0,s,a=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:f}=await o.next();if(u){a(),c.close();return}let d=f.byteLength;if(n){let h=i+=d;n(h)}c.enqueue(new Uint8Array(f))}catch(u){throw a(u),u}},cancel(c){return a(c),o.return()}},{highWaterMark:2})},Hd=64*1024,{isFunction:gi}=W,Cx=(({Request:e,Response:t})=>({Request:e,Response:t}))(W.global),{ReadableStream:Gd,TextEncoder:qd}=W.global,Kd=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Px=e=>{e=W.merge.call({skipUndefined:!0},Cx,e);const{fetch:t,Request:n,Response:r}=e,o=t?gi(t):typeof fetch=="function",i=gi(n),s=gi(r);if(!o)return!1;const a=o&&gi(Gd),c=o&&(typeof qd=="function"?(g=>x=>g.encode(x))(new qd):async g=>new Uint8Array(await new n(g).arrayBuffer())),u=i&&a&&Kd(()=>{let g=!1;const x=new n(Jt.origin,{body:new Gd,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!x}),f=s&&a&&Kd(()=>W.isReadableStream(new r("").body)),d={stream:f&&(g=>g.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!d[g]&&(d[g]=(x,w)=>{let p=x&&x[g];if(p)return p.call(x);throw new Ve(`Response type '${g}' is not supported`,Ve.ERR_NOT_SUPPORT,w)})});const h=async g=>{if(g==null)return 0;if(W.isBlob(g))return g.size;if(W.isSpecCompliantForm(g))return(await new n(Jt.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(W.isArrayBufferView(g)||W.isArrayBuffer(g))return g.byteLength;if(W.isURLSearchParams(g)&&(g=g+""),W.isString(g))return(await c(g)).byteLength},v=async(g,x)=>{const w=W.toFiniteNumber(g.getContentLength());return w??h(x)};return async g=>{let{url:x,method:w,data:p,signal:m,cancelToken:y,timeout:k,onDownloadProgress:z,onUploadProgress:T,responseType:C,headers:P,withCredentials:M="same-origin",fetchOptions:D}=Xh(g),ie=t||fetch;C=C?(C+"").toLowerCase():"text";let X=bx([m,y&&y.toAbortSignal()],k),O=null;const _=X&&X.unsubscribe&&(()=>{X.unsubscribe()});let I;try{if(T&&u&&w!=="get"&&w!=="head"&&(I=await v(P,p))!==0){let E=new n(x,{method:"POST",body:p,duplex:"half"}),$;if(W.isFormData(p)&&($=E.headers.get("content-type"))&&P.setContentType($),E.body){const[he,de]=Wd(I,ss(Dd(T)));p=Vd(E.body,Hd,he,de)}}W.isString(M)||(M=M?"include":"omit");const L=i&&"credentials"in n.prototype,N={...D,signal:X,method:w.toUpperCase(),headers:P.normalize().toJSON(),body:p,duplex:"half",credentials:L?M:void 0};O=i&&new n(x,N);let S=await(i?ie(O,D):ie(x,N));const b=f&&(C==="stream"||C==="response");if(f&&(z||b&&_)){const E={};["status","statusText","headers"].forEach(ve=>{E[ve]=S[ve]});const $=W.toFiniteNumber(S.headers.get("content-length")),[he,de]=z&&Wd($,ss(Dd(z),!0))||[];S=new r(Vd(S.body,Hd,he,()=>{de&&de(),_&&_()}),E)}C=C||"text";let A=await d[W.findKey(d,C)||"text"](S,g);return!b&&_&&_(),await new Promise((E,$)=>{Qh(E,$,{data:A,headers:gn.from(S.headers),status:S.status,statusText:S.statusText,config:g,request:O})})}catch(L){throw _&&_(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new Ve("Network Error",Ve.ERR_NETWORK,g,O),{cause:L.cause||L}):Ve.from(L,L&&L.code,g,O)}}},Ex=new Map,Zh=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:o}=t,i=[r,o,n];let s=i.length,a=s,c,u,f=Ex;for(;a--;)c=i[a],u=f.get(c),u===void 0&&f.set(c,u=a?new Map:Px(t)),f=u;return u};Zh();const dc={http:V0,xhr:wx,fetch:{get:Zh}};W.forEach(dc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Yd=e=>`- ${e}`,Ax=e=>W.isFunction(e)||e===null||e===!1,eg={getAdapter:(e,t)=>{e=W.isArray(e)?e:[e];const{length:n}=e;let r,o;const i={};for(let s=0;s<n;s++){r=e[s];let a;if(o=r,!Ax(r)&&(o=dc[(a=String(r)).toLowerCase()],o===void 0))throw new Ve(`Unknown adapter '${a}'`);if(o&&(W.isFunction(o)||(o=o.get(t))))break;i[a||"#"+s]=o}if(!o){const s=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?s.length>1?`since :
`+s.map(Yd).join(`
`):" "+Yd(s[0]):"as no adapter specified";throw new Ve("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return o},adapters:dc};function ua(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ho(null,e)}function Qd(e){return ua(e),e.headers=gn.from(e.headers),e.data=ca.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),eg.getAdapter(e.adapter||Ql.adapter,e)(e).then(function(r){return ua(e),r.data=ca.call(e,e.transformResponse,r),r.headers=gn.from(r.headers),r},function(r){return Yh(r)||(ua(e),r&&r.response&&(r.response.data=ca.call(e,e.transformResponse,r.response),r.response.headers=gn.from(r.response.headers))),Promise.reject(r)})}const tg="1.12.2",Ls={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ls[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Jd={};Ls.transitional=function(t,n,r){function o(i,s){return"[Axios v"+tg+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,a)=>{if(t===!1)throw new Ve(o(s," has been removed"+(n?" in "+n:"")),Ve.ERR_DEPRECATED);return n&&!Jd[s]&&(Jd[s]=!0,console.warn(o(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,s,a):!0}};Ls.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Nx(e,t,n){if(typeof e!="object")throw new Ve("options must be an object",Ve.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],s=t[i];if(s){const a=e[i],c=a===void 0||s(a,i,e);if(c!==!0)throw new Ve("option "+i+" must be "+c,Ve.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ve("Unknown option "+i,Ve.ERR_BAD_OPTION)}}const Ii={assertOptions:Nx,validators:Ls},qn=Ii.validators;let Jr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Bd,response:new Bd}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ro(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:i}=n;r!==void 0&&Ii.assertOptions(r,{silentJSONParsing:qn.transitional(qn.boolean),forcedJSONParsing:qn.transitional(qn.boolean),clarifyTimeoutError:qn.transitional(qn.boolean)},!1),o!=null&&(W.isFunction(o)?n.paramsSerializer={serialize:o}:Ii.assertOptions(o,{encode:qn.function,serialize:qn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ii.assertOptions(n,{baseUrl:qn.spelling("baseURL"),withXsrfToken:qn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=i&&W.merge(i.common,i[n.method]);i&&W.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),n.headers=gn.concat(s,i);const a=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(c=c&&x.synchronous,a.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let f,d=0,h;if(!c){const g=[Qd.bind(this),void 0];for(g.unshift(...a),g.push(...u),h=g.length,f=Promise.resolve(n);d<h;)f=f.then(g[d++],g[d++]);return f}h=a.length;let v=n;for(;d<h;){const g=a[d++],x=a[d++];try{v=g(v)}catch(w){x.call(this,w);break}}try{f=Qd.call(this,v)}catch(g){return Promise.reject(g)}for(d=0,h=u.length;d<h;)f=f.then(u[d++],u[d++]);return f}getUri(t){t=ro(this.defaults,t);const n=Jh(t.baseURL,t.url,t.allowAbsoluteUrls);return Gh(n,t.params,t.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(t){Jr.prototype[t]=function(n,r){return this.request(ro(r||{},{method:t,url:n,data:(r||{}).data}))}});W.forEach(["post","put","patch"],function(t){function n(r){return function(i,s,a){return this.request(ro(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}Jr.prototype[t]=n(),Jr.prototype[t+"Form"]=n(!0)});let Tx=class ng{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const s=new Promise(a=>{r.subscribe(a),i=a}).then(o);return s.cancel=function(){r.unsubscribe(i)},s},t(function(i,s,a){r.reason||(r.reason=new Ho(i,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new ng(function(o){t=o}),cancel:t}}};function Lx(e){return function(n){return e.apply(null,n)}}function Rx(e){return W.isObject(e)&&e.isAxiosError===!0}const fc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(fc).forEach(([e,t])=>{fc[t]=e});function rg(e){const t=new Jr(e),n=Fh(Jr.prototype.request,t);return W.extend(n,Jr.prototype,t,{allOwnKeys:!0}),W.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return rg(ro(e,o))},n}const ut=rg(Ql);ut.Axios=Jr;ut.CanceledError=Ho;ut.CancelToken=Tx;ut.isCancel=Yh;ut.VERSION=tg;ut.toFormData=Ts;ut.AxiosError=Ve;ut.Cancel=ut.CanceledError;ut.all=function(t){return Promise.all(t)};ut.spread=Lx;ut.isAxiosError=Rx;ut.mergeConfig=ro;ut.AxiosHeaders=gn;ut.formToJSON=e=>Kh(W.isHTMLForm(e)?new FormData(e):e);ut.getAdapter=eg.getAdapter;ut.HttpStatusCode=fc;ut.default=ut;const{Axios:iv,AxiosError:sv,CanceledError:av,isCancel:cv,CancelToken:uv,VERSION:dv,all:fv,Cancel:pv,isAxiosError:hv,spread:gv,toFormData:mv,AxiosHeaders:yv,HttpStatusCode:xv,formToJSON:vv,getAdapter:wv,mergeConfig:bv}=ut;var Xd={};const pc=e=>{for(const t of e){if(typeof process<"u"&&typeof Xd=="object"){const n=Xd[t];if(n)return n}try{const n=import.meta;if(n&&typeof n=="object"&&"env"in n){const r=n.env;if(r){const o=r[t];if(typeof o=="string"&&o)return o}}}catch{}}},Ix=()=>{const e=pc(["VITE_FORCE_DEV"]);if(e==="1"||e==="true")return"development";try{const t=import.meta;if(t&&t.env){if(t.env.DEV)return"development";if(t.env.PROD)return"production";if(typeof t.env.MODE=="string")return t.env.MODE.toLowerCase()}}catch{}try{if(typeof window<"u"){const t=window.location.hostname;if(/^(localhost|127\.0\.0\.1)$/.test(t))return"development"}}catch{}return(pc(["NODE_ENV","VITE_MODE","MODE"])||"production").toLowerCase()},hu=Ix();let En=pc(["VITE_API_BASE_URL","REACT_APP_API_URL","VITE_API_URL"]),Ml="none";En&&(Ml="env");try{if(typeof window<"u"){const e=window;typeof e.__API_BASE__=="string"&&e.__API_BASE__.length>0&&(En=e.__API_BASE__,Ml="window.__API_BASE__")}}catch{}En&&(En=En.replace(/\/+$/,""));let or="";hu==="production"?En&&!/localhost|127\.0\.0\.1/i.test(En)?or=En:(or="https://defi10-1.onrender.com",En||(Ml="default:render-prod")):En?or=En:(or="http://localhost:10000",Ml="default:dev-10000");or=or.replace(/\/+$/,"");const qe={API_BASE_URL:or,API_ENDPOINTS:{HEALTH:"/health",WALLETS:"/api/v1/wallets",TOKENS:"/api/v1/tokens",CACHE:"/api/v1/cache",SUPPORTED_CHAINS:"/api/v1/wallets/supported-chains",STRATEGIES:"/api/v1/strategies",AGGREGATIONS:"/api/v1/aggregations",WALLET_GROUPS:"/api/v1/wallet-groups",PROTOCOLS_STATUS:"/api/v1/protocols/status"},DEFAULT_CHAIN:"Base",SUPPORTED_CHAINS:["Base","BNB"],APP_NAME:"Defi10",VERSION:"1.0.0",ENVIRONMENT:hu};(()=>{const e="__DEF10_API_LOG__";try{if(typeof window<"u"){const t=window;if(!t[e]){t[e]=!0,t.__DEF10_API_BASE__=or,console.log(`%c[Defi10] API Base: ${or} (env=${hu}) source=${Ml} explicit=${En||"none"}`,"color:#35f7a5;font-weight:600");try{const n=import.meta;if(n&&n.env){const r={};Object.keys(n.env).forEach(o=>{const i=n.env[o];(typeof i=="string"||typeof i=="number"||typeof i=="boolean")&&(r[o]=i)}),console.log("[Defi10] import.meta.env keys:",r)}}catch{}}}}catch{}})();const Nt={baseURL:qe.API_BASE_URL,health:()=>`${qe.API_BASE_URL}${qe.API_ENDPOINTS.HEALTH}`,getTokenLogo:(e,t="Base")=>`${qe.API_BASE_URL}${qe.API_ENDPOINTS.TOKENS}/${e}/logo?chain=${t}`,getTokenStats:()=>`${qe.API_BASE_URL}${qe.API_ENDPOINTS.TOKENS}/stats`,getSupportedChains:()=>`${qe.API_BASE_URL}${qe.API_ENDPOINTS.SUPPORTED_CHAINS}`,getStrategies:e=>`${qe.API_BASE_URL}${qe.API_ENDPOINTS.STRATEGIES}/${e}`,getStrategiesByGroup:e=>`${qe.API_BASE_URL}${qe.API_ENDPOINTS.STRATEGIES}/group/${e}`,getRebalances:e=>`${qe.API_BASE_URL}${qe.API_ENDPOINTS.STRATEGIES}/${e}`,getRebalancesByGroup:e=>`${qe.API_BASE_URL}${qe.API_ENDPOINTS.STRATEGIES}/group/${e}`,getChallenge:()=>`${qe.API_BASE_URL}${qe.API_ENDPOINTS.WALLET_GROUPS}/challenge`,createWalletGroup:()=>`${qe.API_BASE_URL}${qe.API_ENDPOINTS.WALLET_GROUPS}`,connectWalletGroup:e=>`${qe.API_BASE_URL}${qe.API_ENDPOINTS.WALLET_GROUPS}/${encodeURIComponent(e)}/connect`,getWalletGroup:e=>`${qe.API_BASE_URL}${qe.API_ENDPOINTS.WALLET_GROUPS}/${encodeURIComponent(e)}`,updateWalletGroup:e=>`${qe.API_BASE_URL}${qe.API_ENDPOINTS.WALLET_GROUPS}/${encodeURIComponent(e)}`,deleteWalletGroup:e=>`${qe.API_BASE_URL}${qe.API_ENDPOINTS.WALLET_GROUPS}/${encodeURIComponent(e)}`,startAggregation:()=>`${qe.API_BASE_URL}${qe.API_ENDPOINTS.AGGREGATIONS}`,buildStartAggregationBody:(e,t)=>{const n={account:e};return t&&(n.chains=Array.isArray(t)?t:[t]),JSON.stringify(n)},buildStartAggregationBodyV2:e=>{const t={};return e.account&&(t.account=e.account),e.walletGroupId&&(t.walletGroupId=e.walletGroupId),e.chains&&(t.chains=Array.isArray(e.chains)?e.chains:[e.chains]),JSON.stringify(t)},pickAggregationJob:e=>{if(!Array.isArray(e)||!e.length)return null;const t=["Base","BASE","base","Bnb","BNB","bnb"];for(const r of t){const o=e.find(i=>(i.chain||"").toString().toLowerCase()===r.toString().toLowerCase());if(o)return o.jobId||o.jobID||o.id||null}const n=e[0];return n.jobId||n.jobID||n.id||null},getAggregation:e=>`${qe.API_BASE_URL}${qe.API_ENDPOINTS.AGGREGATIONS}/${encodeURIComponent(e)}`,getProtocolsStatus:()=>`${qe.API_BASE_URL}${qe.API_ENDPOINTS.PROTOCOLS_STATUS}`},gu="defi10_wallet_group_tokens";function mu(){try{const e=localStorage.getItem(gu);return e?JSON.parse(e):[]}catch{return[]}}function Fi(e){const n=mu().find(o=>o.walletGroupId===e);return n?new Date(n.expiresAt)<=new Date?(Bl(e),null):n.token:null}function Fx(e,t,n){const o=mu().filter(i=>i.walletGroupId!==e);o.push({walletGroupId:e,token:t,expiresAt:n}),localStorage.setItem(gu,JSON.stringify(o))}function Bl(e){const n=mu().filter(r=>r.walletGroupId!==e);localStorage.setItem(gu,JSON.stringify(n))}const zi=[];function zx(e){return zi.push(e),()=>{const t=zi.indexOf(e);t>-1&&zi.splice(t,1)}}function as(e){zi.forEach(t=>{try{t(e)}catch(n){console.error("[apiClient] Error in token expired listener:",n)}})}ut.interceptors.request.use(e=>{var n;const t=(n=e.url)==null?void 0:n.match(/\/wallet-groups\/([^\/]+)/);if(t&&t[1]&&t[1]!=="challenge"){const r=decodeURIComponent(t[1]),o=Fi(r);o&&(e.headers.Authorization=`Bearer ${o}`)}return e});ut.interceptors.response.use(e=>e,e=>{var t,n,r,o;if(((t=e.response)==null?void 0:t.status)===401){const i=(r=(n=e.config)==null?void 0:n.url)==null?void 0:r.match(/\/wallet-groups\/([^\/]+)/);if(i&&i[1]&&i[1]!=="challenge"&&i[1]!=="connect"){const s=decodeURIComponent(i[1]);Bl(s),as(s)}if((o=e.config)!=null&&o.data&&e.config.method==="post")try{const s=JSON.parse(e.config.data);s.walletGroupId&&(Bl(s.walletGroupId),as(s.walletGroupId))}catch{}}return Promise.reject(e)});async function _x(){return(await ut.get(Nt.getChallenge())).data}async function $x(e){const n=(await ut.post(Nt.createWalletGroup(),e)).data;if(e.password)try{await hc(n.id,{password:e.password})}catch{}else try{await hc(n.id,{})}catch{}return n}async function hc(e,t){const r=(await ut.post(Nt.connectWalletGroup(e),t)).data;return Fx(r.walletGroupId,r.token,r.expiresAt),r}async function Mx(e,t){return(await ut.put(Nt.updateWalletGroup(e),t)).data}async function Bx(e){await ut.delete(Nt.deleteWalletGroup(e)),Bl(e)}const og=e=>/^0x[a-fA-F0-9]{40}$/.test(e),Ox=e=>/^[1-9A-HJ-NP-Za-km-z]{32,44}$/.test(e),cs=e=>og(e)?"EVM":Ox(e)?"Solana":"Unknown",gc=e=>{if(e.length===0)return{valid:!1,error:"At least 1 wallet required"};if(e.length>3)return{valid:!1,error:"Maximum 3 wallets allowed"};if(e.map(cs).includes("Unknown"))return{valid:!1,error:"Invalid wallet address format"};const n=e.map(o=>og(o)?o.toLowerCase():o);return new Set(n).size!==e.length?{valid:!1,error:"Duplicate wallet addresses detected"}:{valid:!0}},Wx=e=>!e||e.trim().length===0?{valid:!1,error:"Address is required"}:cs(e.trim())==="Unknown"?{valid:!1,error:"Invalid address format (expected EVM 0x... or Solana Base58)"}:{valid:!0},Dx=(e,t=6)=>!e||e.length<t*2?e:`${e.slice(0,t)}...${e.slice(-t)}`,Zd="defi10_wallet_groups";function lg(){const[e,t]=R.useState([]),[n,r]=R.useState(!1),[o,i]=R.useState(null);R.useEffect(()=>{const h=localStorage.getItem(Zd);if(h)try{const v=JSON.parse(h);t(Array.isArray(v)?v:[])}catch(v){console.error("Failed to load wallet groups from localStorage",v)}},[]);const s=R.useCallback(h=>{try{localStorage.setItem(Zd,JSON.stringify(h)),t(h)}catch(v){console.error("Failed to persist wallet groups",v)}},[]),a=R.useCallback(async h=>{var g,x,w,p;const v=gc(h.wallets);if(!v.valid)return i(v.error||"Invalid wallet group"),null;r(!0),i(null);try{const m=await $x(h),y=[...e,m];return s(y),m}catch(m){const y=((x=(g=m.response)==null?void 0:g.data)==null?void 0:x.error)||((p=(w=m.response)==null?void 0:w.data)==null?void 0:p.title)||m.message||"Failed to create wallet group";return i(y),null}finally{r(!1)}},[e,s]),c=R.useCallback(async(h,v)=>{var x,w,p,m;const g=gc(v.wallets);if(!g.valid)return i(g.error||"Invalid wallet group"),null;r(!0),i(null);try{const y=await Mx(h,v),k=e.map(z=>z.id===h?y:z);return s(k),y}catch(y){const k=((w=(x=y.response)==null?void 0:x.data)==null?void 0:w.error)||((m=(p=y.response)==null?void 0:p.data)==null?void 0:m.title)||y.message||"Failed to update wallet group";return i(k),null}finally{r(!1)}},[e,s]),u=R.useCallback(async h=>{var v,g,x,w;r(!0),i(null);try{await Bx(h);const p=e.filter(m=>m.id!==h);return s(p),!0}catch(p){const m=((g=(v=p.response)==null?void 0:v.data)==null?void 0:g.error)||((w=(x=p.response)==null?void 0:x.data)==null?void 0:w.title)||p.message||"Failed to delete wallet group";return i(m),!1}finally{r(!1)}},[e,s]),f=R.useCallback(h=>e.find(v=>v.id===h)||null,[e]),d=R.useCallback(()=>{i(null)},[]);return{groups:e,loading:n,error:o,createGroup:a,updateGroup:c,deleteGroup:u,getGroup:f,clearError:d}}function Ux({account:e,onSearch:t,onRefresh:n,onDisconnect:r,onConnect:o,copyToClipboard:i,searchAddress:s,setSearchAddress:a,onManageGroups:c,selectedWalletGroupId:u,onSelectWalletGroup:f}){const{theme:d,mode:h,toggleTheme:v}=Ct(),{maskValues:g,setMaskValues:x}=In(),{groups:w,getGroup:p}=lg(),[m,y]=R.useState(!1),[k,z]=R.useState(!1),T=R.useRef(null),C=u?p(u):null;R.useEffect(()=>{const O=_=>{T.current&&(T.current.contains(_.target)||y(!1))};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]);const P=O=>{O.key==="Enter"&&(t==null||t())};`${d.accent||"#6366f1"}${d.primary||"#3b82f6"}${d.accentAlt||"#10b981"}`;const M=172,D=typeof window<"u"?window.innerWidth:1200,ie=D<1080,X=D<680;return l.jsxs("header",{style:{display:"grid",gridTemplateColumns:X?"1fr auto":"1fr 1fr 1fr",alignItems:"center",columnGap:X?10:20,rowGap:10,padding:X?"8px 14px":"10px 24px",borderBottom:`1px solid ${d.border}`,background:d.bgApp,position:"sticky",top:0,zIndex:50},children:[l.jsxs("div",{className:"flex items-center gap-12 min-w-0",children:[l.jsx("div",{className:"flex-center",style:{width:40,height:40,borderRadius:12,overflow:"hidden",padding:4},children:l.jsx("img",{src:"/logo.svg",alt:"Defi10",style:{width:"100%",height:"100%",objectFit:"contain"}})}),l.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[l.jsx("span",{style:{fontSize:18,fontWeight:600,color:d.textPrimary},children:"DeFi 10"}),l.jsx("span",{style:{fontSize:11,letterSpacing:.5,textTransform:"uppercase",color:d.textSecondary},children:"Portfolio"})]})]}),!X&&l.jsx("div",{style:{display:"flex",justifyContent:"center",minWidth:0},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",background:d.bgPanel,border:`1px solid ${d.border}`,borderRadius:12,padding:"4px 10px",width:"100%",maxWidth:ie?420:520,boxShadow:"inset 0 0 0 1px rgba(255,255,255,0.02)"},children:[l.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",stroke:d.textSecondary,fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{flexShrink:0},children:[l.jsx("circle",{cx:"11",cy:"11",r:"8"}),l.jsx("path",{d:"m21 21-4.35-4.35"})]}),l.jsx("input",{placeholder:"Search address...",value:s,onChange:O=>a(O.target.value),onKeyDown:P,style:{flex:1,background:"transparent",border:"none",outline:"none",padding:"6px 6px",color:d.textPrimary,fontSize:13,fontFamily:"inherit"},"aria-label":"Search address",autoComplete:"off",spellCheck:!1}),l.jsx("button",{onClick:()=>t==null?void 0:t(),style:{background:d.primarySubtle,border:`1px solid ${d.border}`,color:d.textPrimary,fontSize:12,padding:"5px 12px",borderRadius:8,cursor:"pointer",fontWeight:500},children:"Go"})]})}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,justifySelf:X?"end":"stretch",justifyContent:"flex-end",minWidth:0},children:[X&&l.jsx(da,{label:k?"Close search":"Search",onClick:()=>z(O=>!O),icon:k?l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",stroke:d.textPrimary,fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M18 6 6 18M6 6l12 12"})}):l.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",stroke:d.textPrimary,fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"11",cy:"11",r:"8"}),l.jsx("path",{d:"m21 21-4.35-4.35"})]})}),l.jsx(da,{label:`Switch to ${h==="dark"?"light":"dark"} mode`,onClick:v,icon:h==="dark"?l.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",stroke:d.textPrimary,fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"12",cy:"12",r:"5"}),l.jsx("path",{d:"M12 1v2m0 18v2m11-11h-2M3 12H1m16.95 7.07-1.41-1.41M6.34 6.34 4.93 4.93m0 14.14 1.41-1.41M17.66 6.34l1.41-1.41"})]}):l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",stroke:d.textPrimary,fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79"})})}),l.jsx(da,{label:g?"Show values":"Hide values",onClick:()=>x(!g),icon:g?l.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",stroke:d.textPrimary,fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12Z"}),l.jsx("circle",{cx:"12",cy:"12",r:"3"})]}):l.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",stroke:d.textPrimary,fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M17.94 17.94A10.94 10.94 0 0 1 12 20c-7 0-11-8-11-8a21.77 21.77 0 0 1 5.06-7.94M9.9 4.24A10.94 10.94 0 0 1 12 4c7 0 11 8 11 8a21.83 21.83 0 0 1-2.16 3.19M14.12 14.12a3 3 0 1 1-4.24-4.24"}),l.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]})}),l.jsxs("div",{style:{position:"relative"},ref:T,children:[l.jsxs("button",{onClick:()=>y(O=>!O),style:{display:"flex",alignItems:"center",gap:8,background:d.bgPanel,border:`1px solid ${d.border}`,padding:"6px 12px",borderRadius:14,cursor:"pointer",fontSize:13,color:d.textPrimary,fontFamily:"monospace",width:M,justifyContent:"flex-start",position:"relative",transition:"background-color 120ms"},"aria-haspopup":"menu","aria-expanded":m,children:[l.jsx("span",{style:{width:10,height:10,borderRadius:"50%",background:e||u?d.success||"#16a34a":d.danger||"#dc2626",flexShrink:0}}),l.jsx("span",{style:{fontSize:13,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1},children:u?(C==null?void 0:C.displayName)||"Wallet Group":e?`${e.slice(0,6)}...${e.slice(-4)}`:"Connect"}),l.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",stroke:d.textSecondary,fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{flexShrink:0,opacity:.6},children:l.jsx("path",{d:"m6 9 6 6 6-6"})})]}),m&&l.jsx("div",{style:{position:"absolute",top:"calc(100% + 8px)",right:0,minWidth:220,background:d.bgPanel,border:`1px solid ${d.border}`,borderRadius:14,padding:8,boxShadow:"0 4px 18px -2px rgba(0,0,0,0.45)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",zIndex:120,display:"flex",flexDirection:"column",gap:2},role:"menu",children:e?l.jsxs(l.Fragment,{children:[l.jsx(jn,{onClick:()=>{u||(i(e),y(!1))},label:"Copy address",disabled:!!u,icon:l.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:d.textPrimary,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),l.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2h9a2 2 0 0 1 2 2v1"})]})}),l.jsx(jn,{onClick:()=>{n==null||n(),y(!1)},label:"Refresh",icon:l.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:d.textPrimary,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M3 2v6h6"}),l.jsx("path",{d:"M21 12A9 9 0 0 0 6 5.3L3 8"}),l.jsx("path",{d:"M21 22v-6h-6"}),l.jsx("path",{d:"M3 12a9 9 0 0 0 15 6.7l3-2.7"})]})}),l.jsx("div",{style:{height:1,background:d.border,margin:"4px 0"}}),l.jsx(jn,{onClick:()=>{c==null||c(),y(!1)},label:"Manage Groups",icon:l.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:d.textPrimary,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),l.jsx("circle",{cx:"9",cy:"7",r:"4"}),l.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),l.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),w.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:10,color:d.textSecondary,padding:"6px 12px",textTransform:"uppercase",letterSpacing:.5},children:"Quick Select"}),w.slice(0,3).map(O=>l.jsx(jn,{onClick:()=>{f==null||f(O.id),y(!1)},label:l.jsxs("span",{style:{display:"flex",flexDirection:"column",gap:2},children:[l.jsx("span",{children:O.displayName||"Unnamed Group"}),l.jsxs("span",{style:{fontSize:10,opacity:.6},children:[O.wallets.length," wallet(s)"]})]}),icon:l.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:u===O.id?d.accent||d.primary:"none",stroke:u===O.id?d.accent||d.primary:d.textSecondary,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),u===O.id&&l.jsx("path",{d:"m9 12 2 2 4-4"})]})},O.id))]}),l.jsx("div",{style:{height:1,background:d.border,margin:"4px 0"}}),l.jsx(jn,{onClick:()=>{r==null||r(),y(!1)},label:"Disconnect",danger:!0,icon:l.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:d.danger||"#dc2626",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M3 12h11"}),l.jsx("path",{d:"M17 8l4 4-4 4"}),l.jsx("path",{d:"M10 3H7a4 4 0 0 0-4 4v10a4 4 0 0 0 4 4h3"})]})})]}):u?l.jsxs(l.Fragment,{children:[l.jsx(jn,{onClick:()=>{o==null||o(),y(!1)},label:"Connect Wallet",icon:l.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:d.textPrimary,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M3 7v10a4 4 0 0 0 4 4h10a4 4 0 0 0 4-4V7"}),l.jsx("path",{d:"M3 7a4 4 0 0 1 4-4h10a4 4 0 0 1 4 4"}),l.jsx("path",{d:"M7 7h10"})]})}),l.jsx("div",{style:{height:1,background:d.border,margin:"4px 0"}}),l.jsx(jn,{onClick:()=>{c==null||c(),y(!1)},label:"Manage Groups",icon:l.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:d.textPrimary,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),l.jsx("circle",{cx:"9",cy:"7",r:"4"}),l.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),l.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),w.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:10,color:d.textSecondary,padding:"6px 12px",textTransform:"uppercase",letterSpacing:.5},children:"Switch Group"}),w.slice(0,3).map(O=>l.jsx(jn,{onClick:()=>{f==null||f(O.id),y(!1)},label:l.jsxs("span",{style:{display:"flex",flexDirection:"column",gap:2},children:[l.jsx("span",{children:O.displayName||"Unnamed Group"}),l.jsxs("span",{style:{fontSize:10,opacity:.6},children:[O.wallets.length," wallet(s)"]})]}),icon:l.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:u===O.id?d.accent||d.primary:"none",stroke:u===O.id?d.accent||d.primary:d.textSecondary,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),u===O.id&&l.jsx("path",{d:"m9 12 2 2 4-4"})]})},O.id))]}),l.jsx("div",{style:{height:1,background:d.border,margin:"4px 0"}}),l.jsx(jn,{onClick:()=>{r==null||r(),y(!1)},label:"Disconnect Group",danger:!0,icon:l.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:d.danger||"#dc2626",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M3 12h11"}),l.jsx("path",{d:"M17 8l4 4-4 4"}),l.jsx("path",{d:"M10 3H7a4 4 0 0 0-4 4v10a4 4 0 0 0 4 4h3"})]})})]}):l.jsxs(l.Fragment,{children:[l.jsx(jn,{onClick:()=>{o==null||o(),y(!1)},label:"Connect Wallet",icon:l.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:d.textPrimary,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M3 7v10a4 4 0 0 0 4 4h10a4 4 0 0 0 4-4V7"}),l.jsx("path",{d:"M3 7a4 4 0 0 1 4-4h10a4 4 0 0 1 4 4"}),l.jsx("path",{d:"M7 7h10"})]})}),l.jsx("div",{style:{height:1,background:d.border,margin:"4px 0"}}),l.jsx(jn,{onClick:()=>{c==null||c(),y(!1)},label:"Manage Groups",icon:l.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:d.textPrimary,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),l.jsx("circle",{cx:"9",cy:"7",r:"4"}),l.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),l.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),w.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:10,color:d.textSecondary,padding:"6px 12px",textTransform:"uppercase",letterSpacing:.5},children:"Select Group"}),w.slice(0,3).map(O=>l.jsx(jn,{onClick:()=>{f==null||f(O.id),y(!1)},label:l.jsxs("span",{style:{display:"flex",flexDirection:"column",gap:2},children:[l.jsx("span",{children:O.displayName||"Unnamed Group"}),l.jsxs("span",{style:{fontSize:10,opacity:.6},children:[O.wallets.length," wallet(s)"]})]}),icon:l.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:u===O.id?d.accent||d.primary:"none",stroke:u===O.id?d.accent||d.primary:d.textSecondary,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),u===O.id&&l.jsx("path",{d:"m9 12 2 2 4-4"})]})},O.id))]})]})})]})]}),X&&k&&l.jsx("div",{style:{position:"fixed",left:0,top:0,right:0,bottom:0,background:"rgba(0,0,0,0.65)",backdropFilter:"blur(6px)",display:"flex",alignItems:"flex-start",justifyContent:"center",padding:"90px 20px 40px 20px",zIndex:200},children:l.jsxs("div",{style:{width:"100%",maxWidth:520,background:d.bgPanel,border:`1px solid ${d.border}`,borderRadius:18,padding:16,boxShadow:d.shadowHover,display:"flex",gap:10},children:[l.jsx("input",{autoFocus:!0,placeholder:"Search address...",value:s,onChange:O=>a(O.target.value),onKeyDown:O=>{O.key==="Enter"&&(t==null||t(),z(!1))},style:{flex:1,background:d.bgApp,border:`1px solid ${d.border}`,borderRadius:10,padding:"10px 12px",color:d.textPrimary,fontSize:14}}),l.jsx("button",{onClick:()=>{t==null||t(),z(!1)},style:{background:d.primarySubtle,border:`1px solid ${d.border}`,color:d.textPrimary,padding:"10px 16px",borderRadius:12,cursor:"pointer",fontSize:13,fontWeight:600},children:"Go"})]})})]})}function da({icon:e,label:t,onClick:n}){const{theme:r}=Ct();return l.jsx("button",{onClick:n,"aria-label":t,title:t,style:{width:38,height:38,borderRadius:12,border:`1px solid ${r.border}`,background:r.bgPanel,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",padding:0},children:e})}function jn({label:e,onClick:t,danger:n,icon:r,disabled:o}){const{theme:i}=Ct();return l.jsxs("button",{onClick:t,disabled:o,role:"menuitem",style:{width:"100%",textAlign:"left",background:"transparent",border:"none",padding:"8px 10px",borderRadius:10,cursor:o?"not-allowed":"pointer",fontSize:13,display:"flex",alignItems:"center",gap:10,color:n?i.danger||"#dc2626":i.textPrimary,opacity:o?.4:1,transition:"background-color 120ms, color 140ms, opacity 120ms"},onMouseEnter:s=>!o&&(s.currentTarget.style.backgroundColor=i.bgPanelHover),onMouseLeave:s=>!o&&(s.currentTarget.style.backgroundColor="transparent"),children:[l.jsx("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:20,height:20},children:r}),l.jsx("span",{style:{flex:1},children:e})]})}const Vx=({theme:e,message:t="Loading your portfolio..."})=>l.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",background:e.bgPrimary},children:l.jsxs("div",{style:{maxWidth:400,width:"100%",textAlign:"center"},children:[l.jsx("div",{style:{width:80,height:80,margin:"0 auto 32px",border:"6px solid rgba(255,255,255,0.1)",borderTop:"6px solid #35f7a5",borderRight:"6px solid #2fbfd9",borderRadius:"50%",animation:"spin 0.85s linear infinite"}}),l.jsx("h2",{style:{margin:"0 0 12px 0",fontSize:24,fontWeight:600,color:e.textPrimary,letterSpacing:"0.5px"},children:t}),l.jsx("p",{style:{margin:0,fontSize:14,color:e.textSecondary,lineHeight:1.5},children:"This may take a few moments while we fetch your data across multiple chains"}),l.jsx("div",{style:{marginTop:24,display:"flex",justifyContent:"center",gap:8},children:[0,1,2].map(n=>l.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:e.textMuted,animation:`pulse 1.4s ease-in-out ${n*.2}s infinite`}},n))}),l.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
          @keyframes pulse {
            0%, 100% { opacity: 0.3; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1); }
          }
        `})]})});function mc(e){var t,n;if(((t=e.additionalData)==null?void 0:t.healthFactor)!=null){const r=Number(e.additionalData.healthFactor);if(!isNaN(r)&&r>0)return r}return e.type==="LendingAndBorrowing"&&((n=e.additionalData)==null?void 0:n.healthFactor)!=null?Number(e.additionalData.healthFactor):null}function ef(e){var t;return e.type==="LiquidityPool"&&((t=e.additionalData)==null?void 0:t.fees24h)!=null?Number(e.additionalData.fees24h):null}function tf(e){var n,r;if(e.type==="LiquidityPool"&&((n=e.additionalData)==null?void 0:n.range)!=null)return e.additionalData.range;const t=e.raw;return(r=t==null?void 0:t.additionalData)!=null&&r.range?t.additionalData.range:null}function ig(e){var t;return e.type==="LiquidityPool"&&((t=e.additionalData)==null?void 0:t.createdAt)!=null?new Date(e.additionalData.createdAt*1e3):null}function Hx(e){if(!e)return"";const t=e instanceof Date?e:new Date(e*1e3),n=Date.now()-t.getTime();if(n<=0)return"";const r=n/36e5;if(r<1){const c=n/6e4;return`${Math.floor(c)}min`}if(r<24)return`${Math.floor(r)}h`;const o=r/24;if(o<14)return`${Math.floor(o)}d`;const i=o/7;if(i<8)return`${Math.floor(i)}w`;const s=o/30.4375;if(s<12)return`${Math.floor(s)}m`;const a=o/365.25;return`${Math.floor(a)}y`}function Gx(e,t){var i;if(e.type!=="LiquidityPool")return 0;const n=(i=e.position)==null?void 0:i.tokens;if(!n||n.length===0)return 0;const r=n.filter(s=>s.type==="LiquidityUncollectedFee"&&s.symbol===t&&s.totalPrice&&s.totalPrice>0);return r.length===0?0:r.reduce((s,a)=>s+(a.totalPrice||0),0)}function Rs(e){return(e||"").toString().toLowerCase()}const yu={SUPPLIED:1,LIQUIDITY_UNCOLLECTED_FEE:3,GOVERNANCE_POWER:5};function qx(e){if(!e)return!1;const t=Rs(e.type);return t==="supplied"||t==="supply"||t==="deposit"||e.type===yu.SUPPLIED||e.type==="Supplied"||!t}function Kx(e){return e?Rs(e.type)==="liquidityuncollectedfee"||e.type===yu.LIQUIDITY_UNCOLLECTED_FEE:!1}function Yx(e){if(!e)return!1;const t=Rs(e.type),n=(e.symbol||"").toLowerCase(),r=(e.name||"").toLowerCase();return t==="reward"||t==="rewards"||Kx(e)?!0:["reward","comp","crv","cake","uni","ldo","bal","aura"].some(i=>n.includes(i)||r.includes(i))}function Qx(e){if(!e)return!1;const t=Rs(e.type),n=(e.symbol||"").toLowerCase(),r=(e.name||"").toLowerCase();return t==="governancepower"||e.type===yu.GOVERNANCE_POWER||e.type==="GovernancePower"||n.includes("ve")||r.includes("governance")||r.includes("voting power")}function sg(e){return Array.isArray(e)?e.filter(t=>qx(t)):[]}function Jx(e){return Array.isArray(e)?e.filter(t=>Qx(t)):[]}function Xx(e,t="totalPrice"){return Array.isArray(e)?e.reduce((n,r)=>{const o=parseFloat(r[t])||0;return n+o},0):0}function Zx(e){if(!e)return e;const t=["totalPrice","totalValueUsd","totalValueUSD","totalValue","valueUsd","price"];let n=0;for(const r of t)if(e[r]!==void 0&&e[r]!==null){n=parseFloat(e[r])||0;break}if(!n&&e.financials){for(const r of t)if(e.financials[r]!==void 0&&e.financials[r]!==null){n=parseFloat(e.financials[r])||0;break}}return{...e,totalPrice:n}}function Ol(e){if(!e||typeof e!="object")return e;const t=e.financials;return t&&typeof t=="object"&&(e.balance===void 0&&t.amount!==void 0&&(e.balance=t.amount),e.decimalPlaces===void 0&&t.decimalPlaces!==void 0&&(e.decimalPlaces=t.decimalPlaces),e.balanceFormatted===void 0&&t.balanceFormatted!==void 0&&(e.balanceFormatted=t.balanceFormatted),e.price===void 0&&t.price!==void 0&&(e.price=t.price),e.totalPrice===void 0&&t.totalPrice!==void 0&&(e.totalPrice=t.totalPrice)),e}const Co={WALLET:"Wallet",LIQUIDITY_POOL:"LiquidityPool",LENDING_AND_BORROWING:"LendingAndBorrowing",STAKING:"Staking",DEPOSITING:"Depositing",LOCKING:"Locking",GROUP:98};function e1(e,t){return!e||!Array.isArray(e)?[]:e.filter(n=>n.type===t)}function mi(e){const t=e1(e,Co.WALLET),n=[];return t.forEach(r=>{r.token&&(Ol(r.token),n.push({...r,token:r.token})),r.position&&Array.isArray(r.position.tokens)&&r.position.tokens.forEach(o=>{Ol(o),n.push({...r,token:o})})}),n}function Kr(e,t=!1){const n=parseFloat(e),o=Math.pow(10,t?18:6),i=(n/o).toFixed(6);return parseFloat(i).toString()}function Qe(e){if(e==null||isNaN(e))return"$0.00";const t=Number(e);if(t===0)return"$0.00";const n=t<0,r=Math.abs(t);let o=2;r<.01?o=6:r<1?o=4:o=2;const i=r.toLocaleString("en-US",{minimumFractionDigits:o,maximumFractionDigits:o});return n?`-$${i}`:`$${i}`}function ir(e,t=4){if(!e)return"-";Ol(e);let n=e.AmountFormatted;if(n==null&&(n=e.amountFormatted),n==null&&(n=e.formattedAmount),n==null&&(n=e.balanceFormatted),n==null&&e.financials&&(n=e.financials.AmountFormatted??e.financials.amountFormatted??e.financials.formattedAmount??e.financials.balanceFormatted),n!=null){const r=Number(n);if(!isNaN(r)&&isFinite(r))return fa(r,t)}if(e.balance!==void 0&&e.decimalPlaces!==void 0){const r=Number(e.balance),o=Number(e.decimalPlaces);if(!isNaN(r)&&isFinite(r)&&!isNaN(o)&&o>=0&&o<80){const i=r/Math.pow(10,o);return fa(i,t)}}if((e.totalPrice||e.totalPrice===0)&&e.price){const r=Number(e.totalPrice),o=Number(e.price);if(o>0&&isFinite(r)&&isFinite(o)){const i=r/o;return fa(i,t)}}return"-"}function fa(e,t){if(typeof e!="number"||!isFinite(e))return"-";let n=Number(t);(isNaN(n)||!isFinite(n))&&(n=4),n=Math.min(20,Math.max(0,Math.trunc(n)));const r=Math.pow(10,n);return(Math.trunc(e*r)/r).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:n})}function _i(e){if(!e||!Array.isArray(e))return[];const t={},n=r=>{if(!r||typeof r!="object")return;const o=r.chainId||r.chainID||r.chain_id||r.chain||r.networkId||r.network||r.chainName;if(o)return o;if(r.protocol&&typeof r.protocol=="object"){const i=r.protocol,s=i.chainId||i.chainID||i.chain_id||i.chain||i.networkId||i.network||i.chainName;if(s)return s}for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&/(chain|network)/i.test(i)){const s=r[i];if(s&&(typeof s=="string"||typeof s=="number"))return s}};return e.forEach(r=>{const o=r.protocol,i=r.position;if(!r||!o||!i)return;const s=o.id,a=o.name||o.id,c=/uniswap\s*v?3/i.test(a),u=/^pendle-v2$/i.test(s);let f=s,d=a,h={...o};if(c||u){const v=n(i)||Array.isArray(i.tokens)&&i.tokens.map(g=>n(g)).find(Boolean);if(v){const x=v.toString().replace(/[^a-zA-Z0-9_-]/g,"");f=`${s}-${x}`.toLowerCase();const w=x.charAt(0).toUpperCase()+x.slice(1);c?d=`Uniswap V3 (${w})`:u&&(d="Pendle V2"),h={...h,name:d,id:f,chain:w,chainName:w}}}t[f]||(t[f]={protocol:h,positions:[]}),t[f].positions.push({...i,type:r.type,additionalData:r.additionalData})}),Object.values(t)}function nf(e,t=!0){return t?(e||[]).filter(r=>{var a;const o=r.token||r,i=o.totalPrice??((a=o.financials)==null?void 0:a.totalPrice),s=parseFloat(i);return isNaN(s)?!1:s>=.05}):e||[]}function ag(e){if(!e||!Array.isArray(e))return{};const t={supplied:[],borrowed:[],rewards:[]};return e.forEach(n=>{n.tokens&&Array.isArray(n.tokens)&&n.tokens.forEach(r=>{var u;Ol(r);const o=(r.type||"").toString().toLowerCase(),i=o==="supplied"||o==="supply"||o==="deposit",s=o==="borrowed"||o==="borrow"||o==="debt",a=o==="reward"||o==="rewards",c=o==="defi-token"||o==="internal"||r.isInternal||r.internal||r.category==="internal";if(a){t.rewards.push(r);return}if(i){t.supplied.push(r);return}if(s){t.borrowed.push(r);return}if(!o){const f=(((u=n.position)==null?void 0:u.label)||n.label||"").toString().toLowerCase(),d=(r.symbol||"").toLowerCase(),h=(r.name||"").toLowerCase();if(d.includes("reward")||h.includes("reward")||d.includes("comp")||d.includes("crv")||d.includes("cake")||d.includes("uni")||f.includes("reward")||f.includes("incentive")){t.rewards.push(r);return}if(f.includes("borrow")){t.borrowed.push(r);return}if(f.includes("supply")||f.includes("supplied")||f.includes("deposit")){t.supplied.push(r);return}const g=n.tokens.some(w=>{const p=(w.type||"").toString().toLowerCase();return p==="borrowed"||p==="borrow"||p==="debt"}),x=n.tokens.some(w=>{const p=(w.type||"").toString().toLowerCase();return p==="supplied"||p==="supply"||p==="deposit"});if(g&&!x){t.borrowed.push(r);return}t.supplied.push(r);return}if(c){const f=(r.symbol||"").toLowerCase(),d=(r.name||"").toLowerCase();if(f.includes("reward")||d.includes("reward")||f.includes("comp")||f.includes("crv")||f.includes("cake")||f.includes("uni")){t.rewards.push(r);return}const v=n.tokens.some(w=>{const p=(w.type||"").toString().toLowerCase();return p==="supplied"||p==="supply"||p==="deposit"}),g=n.tokens.some(w=>{const p=(w.type||"").toString().toLowerCase();return p==="borrowed"||p==="borrow"||p==="debt"});let x="supplied";g&&!v&&(x="borrowed"),v&&g&&(x=f.includes("debt")||f.includes("vdebt")||f.includes("variabledebt")?"borrowed":"supplied"),t[x].push(r)}})}),t}function t1(e){if(!e||!Array.isArray(e))return{};const t={staked:[],rewards:[]};return e.forEach(n=>{n.tokens&&Array.isArray(n.tokens)&&n.tokens.forEach(r=>{Ol(r),r.type==="reward"||r.type==="rewards"?t.rewards.push(r):t.staked.push(r)})}),t}function n1({walletTokens:e=[],liquidityGroups:t=[],lendingGroups:n=[],stakingPositions:r=[],filterLendingDefiTokens:o=c=>c||[],filterStakingDefiTokens:i=c=>c||[],showLendingDefiTokens:s=!0,showStakingDefiTokens:a=!0}){const c=e.reduce((p,m)=>{const y=m.token||m,k=parseFloat(y.totalPrice)||0;return p+(isFinite(k)?k:0)},0),u=t.reduce((p,m)=>p+m.positions.reduce((y,k)=>{var z;return y+(((z=k.tokens)==null?void 0:z.reduce((T,C)=>T+(parseFloat(C.totalPrice)||0),0))||0)},0),0);let f=0,d=0;n.forEach(p=>{p.positions.forEach(m=>{const y=Array.isArray(m.tokens)?m.tokens:[],k=o(y,s),z=k.length>0?k:y;if(z.length===0)return;const T=ag([{position:m.position||m,tokens:z}]);(T.supplied||[]).forEach(C=>{const P=Math.abs(parseFloat(C.totalPrice)||0);isFinite(P)&&(f+=P)}),(T.borrowed||[]).forEach(C=>{const P=Math.abs(parseFloat(C.totalPrice)||0);isFinite(P)&&(d+=P)})})});const h=f-d,v=r.reduce((p,m)=>{const y=parseFloat(m.balance)||0;if(y)return p+y;if(Array.isArray(m.tokens)){const z=i(m.tokens,a).reduce((T,C)=>T+(parseFloat(C.totalPrice)||0),0);return p+z}return p},0),g=u+f+v,x=u+h+v,w=c+x;return{walletValue:c,liquidityValue:u,lendingSupplied:f,lendingBorrowed:d,lendingNet:h,stakingValue:v,defiGross:g,defiNet:x,totalNet:w}}function xu(e){var s,a,c;const t=(e==null?void 0:e.position)||e;if(!t||typeof t!="object")return[];const n=[];[t.rewards,(s=t.position)==null?void 0:s.rewards,t.incentives,(a=t.position)==null?void 0:a.incentives,t.rewardTokens,(c=t.position)==null?void 0:c.rewardTokens,t.distributions,t.emissions,t.farmingRewards,t.gaugeRewards,t.bribes,t.bribeRewards,t.stakingRewards,t.uncollectedRewards,t.unclaimedRewards].forEach(u=>{Array.isArray(u)&&u.forEach(f=>{f&&n.push((f==null?void 0:f.token)||f)})});const o=[t.meta,t.extra,t.additionalData,t.additionalInfo],i=["rewards","incentives","rewardTokens","distributions","emissions","farmingRewards","gaugeRewards","bribeRewards","unclaimedRewards"];return o.forEach(u=>{!u||typeof u!="object"||i.forEach(f=>{const d=u[f];Array.isArray(d)&&d.forEach(h=>{h&&n.push((h==null?void 0:h.token)||h)})})}),n.filter(Boolean)}let cg=0;function r1(e){const t=Number(e);!isNaN(t)&&isFinite(t)&&(cg=t)}function un(){return cg}function Xn(e,t,n={}){const{decimals:r=2,minDisplay:o=.01}=n,i=Number(e),s=Number(t);if(!s||isNaN(i)||!isFinite(i)||i<=0)return"0%";const a=i/s*100;return a>0&&a<o?`<${o.toFixed(r)}%`:`${a.toFixed(r)}%`}function ug(e,t){return e.reduce((n,r)=>{const o=t(r);return n[o]||(n[o]=[]),n[o].push(r),n},{})}function Nn(e){return e.reduce((t,n)=>t+(parseFloat(n)||0),0)}function us(e,t){const n=e.position||e,r=n.token||n.asset||{},o=(r.address||r.contract||r.contractAddress||"").toLowerCase(),i=(r.symbol||"").toLowerCase();return o?`${o}-${t}`:`${i||"asset"}-${t}`}function dg({content:e,align:t="center",maxWidth:n=180}){const[r,o]=R.useState(!1),i=R.useRef(null);R.useEffect(()=>{if(!r)return;const a=c=>{if(!i.current)return;const u=c.target;if(!u)return o(!1);u.closest(".tooltip-wrapper")||o(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[r]);const s=t==="left"?"tooltip-left":"tooltip-center";return l.jsxs("span",{className:`tooltip-wrapper ${r?"is-open":""}`.trim(),ref:i,"data-max-width":n,onClick:a=>{a.stopPropagation(),o(c=>!c)},role:"button",tabIndex:0,onKeyDown:a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),o(c=>!c)),a.key==="Escape"&&o(!1)},"aria-expanded":r,children:[l.jsxs("svg",{className:"info-icon",width:14,height:14,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),l.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),r&&l.jsx("div",{className:`tooltip-bubble ${s}`.trim(),role:"tooltip",children:e})]})}function ct({label:e,value:t,custom:n=null,tooltip:r="",icon:o=null,accent:i=!1,condensed:s=!1,strong:a=!1,align:c="center",mono:u=!0,size:f="sm",className:d="",style:h={}}){const g={xs:10,sm:12,md:13,lg:16}[f]||12,x=["mini-metric",s?"mini-metric-condensed":"",i?"accent":"",d].filter(Boolean).join(" "),w=["mini-metric-value",i?"accent":"",u?"mono":"",a?"strong":""].filter(Boolean).join(" ");return l.jsxs("div",{className:x,style:h,children:[e&&l.jsx("span",{className:"mini-metric-label",children:e}),l.jsxs("div",{className:"mini-metric-row",style:{justifyContent:c==="left"?"flex-start":c==="center"?"center":"flex-end"},children:[o&&l.jsx("span",{className:"mini-metric-icon",children:o}),n?l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"inherit"},children:n}):l.jsx("span",{className:w,style:{fontSize:g},children:t}),r&&l.jsx(dg,{content:r,align:"center",maxWidth:240})]})]})}function vu({range:e,width:t=90,height:n=14,lowerP:r=28,upperP:o=72,markerOvershoot:i=2}){const{theme:s}=Ct();if(!e)return l.jsx("span",{className:"opacity-60",children:"-"});const{lower:a,upper:c,current:u,inRange:f}=e||{},d=(p,m)=>{if(p.startsWith("rgb")){const y=p.replace(/rgba?\(/,"").replace(/\)/,"").split(",").map(C=>parseFloat(C.trim())),[k,z,T]=y;return`rgba(${k|0}, ${z|0}, ${T|0}, ${m})`}if(p[0]==="#"){let y=p.slice(1);if(y.length===3&&(y=y.split("").map(k=>k+k).join("")),y.length>=6){const k=parseInt(y.slice(0,2),16),z=parseInt(y.slice(2,4),16),T=parseInt(y.slice(4,6),16);return`rgba(${k}, ${z}, ${T}, ${m})`}}return p};let h;if(typeof a=="number"&&typeof c=="number"&&typeof u=="number"&&c!==a)if(u<a)h=r-6;else if(u>c)h=o+6;else{const p=(u-a)/(c-a);h=r+p*(o-r)}else h=50;h=Math.max(2,Math.min(98,h)),s.border;const v=f?s.success||"#16a34a":s.danger||"#dc2626",g=s.textPrimary,x=f?s.success||"#16a34a":s.danger||"#dc2626",w=d(x,.5);return l.jsxs("div",{title:`Min: ${a}
Max: ${c}
Current: ${u}
In Range: ${!!f}`,style:{width:t,height:n,border:"1px solid",borderColor:w,borderRadius:9999,position:"relative",background:"transparent",display:"inline-block"},children:[l.jsx("div",{style:{position:"absolute",top:1,bottom:1,left:`${r}%`,right:`${100-o}%`,background:v,opacity:.85,borderRadius:3}}),l.jsx("div",{style:{position:"absolute",top:-i,bottom:-i,width:3,left:`calc(${h}% - 1.5px)`,background:g,borderRadius:1}})]})}const fg=R.createContext({getIcon:()=>{}});function o1({supportedChains:e=[],children:t}){const n=R.useMemo(()=>{const r={};return Array.isArray(e)&&e.forEach(o=>{const i=[o.id,o.chainId,o.chainID,o.name,o.displayName,o.shortName],s=o.iconUrl||o.icon||o.logo||o.image;s&&i.filter(Boolean).forEach(a=>{const c=String(a).trim().toLowerCase();c&&!r[c]&&(r[c]=s)})}),{getIcon:o=>{if(!o)return;const i=String(o).trim().toLowerCase();return r[i]}}},[e]);return l.jsx(fg.Provider,{value:n,children:t})}function Is(){return R.useContext(fg)}function l1(e){return!e||typeof e!="object"?"":e.logo||e.logoURI||e.image||e.icon||e.logoUrl||e.logo_url||e.iconUrl||e.icon_url||""}function i1(e=[],{showName:t=!1}={}){Array.isArray(e)||(e=e?[e]:[]);const n=e.slice(0,2);if(n.length===0)return{logos:[],text:""};const r=n.map(d=>({src:l1(d),alt:(d.symbol||d.name||"?").toString()}));if(n.length===1){const d=n[0],h=(d.symbol||"").toString(),v=(d.name||"").toString();return{logos:r,text:t&&v&&h&&h!==v?`${v} (${h})`:h||v||""}}const o=n[0],i=n[1],s=(o.symbol||o.name||"").toString(),a=(i.symbol||i.name||"").toString(),c=(o.name||"").toString(),u=(i.name||"").toString();let f=`${s}/${a}`;if(t){const d=[c,u].filter(Boolean).join(" / ");d&&d.toLowerCase()!==f.toLowerCase()&&(f+=`  ${d}`)}return{logos:r,text:f}}const rn=({tokens:e=[],showName:t=!1,showText:n=!0,size:r=26,gap:o=10,className:i="",style:s={},showChain:a=!0,getChainIcon:c})=>{const{theme:u}=Ct(),{getIcon:f}=Is(),d=Array.isArray(e)?e.map(C=>C&&C.token?C.token:C):e,{logos:h,text:v}=i1(d,{showName:t}),g=h.length===2,x=Math.round(r*.77),w=Math.round(x*.52),p=d[0]||{},m=p.chain||p.chainId||p.chainID||p.network||p.networkId||p.networkID||"";let y=null;if(typeof m=="string"){const C=m.match(/\d+/);C&&(y=parseInt(C[0],10))}else typeof m=="number"&&(y=m);let k="";typeof m=="string"&&(k=m.toLowerCase());const z={1:"ethereum",56:"bsc",137:"polygon",250:"fantom",43114:"avalanche",42161:"arbitrum",10:"optimism",25:"cronos",100:"xdai"};y&&z[y]&&(k=z[y]);const T=c?c(k):f();return l.jsxs("div",{className:`token-display flex items-center ${i}`,style:{gap:n?`${o}px`:0,...s},children:[l.jsxs("div",{className:"token-logos relative flex-shrink-0",style:{height:`${r}px`,width:g?`${x+w}px`:`${r}px`},children:[h.map((C,P)=>l.jsx("img",{src:C.src||C,alt:C.alt||`Token ${P+1}`,className:"token-logo rounded-full",style:{position:g?"absolute":"static",left:g&&P===1?`${w}px`:"0px",top:"0px",width:g?`${x}px`:`${r}px`,height:g?`${x}px`:`${r}px`,border:g?`2px solid ${u.bgApp}`:"none",backgroundColor:u.bgPanel,zIndex:g?P===0?2:1:"auto"},onError:M=>{const D=M.target;D.style.display="none"}},P)),a&&T&&l.jsx("img",{src:T,alt:"Chain",style:{position:"absolute",bottom:"-2px",right:g?`${Math.max(0,w-8)}px`:"-2px",width:`${Math.round(r*.4)}px`,height:`${Math.round(r*.4)}px`,borderRadius:"50%",border:`2px solid ${u.bgApp}`,backgroundColor:u.bgPanel,zIndex:10},onError:C=>{const P=C.target;P.style.display="none"}})]}),n&&l.jsx("span",{className:"token-text text-primary",style:{fontSize:`${Math.round(r*.6)}px`,fontWeight:500,color:(u==null?void 0:u.textPrimary)||"#f4f4f4"},children:v})]})},ol=({label:e,value:t,custom:n,highlight:r=!1,icon:o,accent:i=!1})=>{const{theme:s}=Ct();return l.jsxs("div",{className:"metric-card",style:{minHeight:"80px",padding:"16px",borderRadius:"12px",background:r?`${s.accent}20`:s.bgPanel,border:`1px solid ${r?s.accent:s.border}`,display:"flex",flexDirection:"column",justifyContent:"space-between",position:"relative",transition:"all 0.2s ease"},children:[l.jsxs("div",{className:"flex items-center gap-4 text-sm font-medium leading-tight",style:{color:s.textSecondary,textTransform:"uppercase",letterSpacing:"0.5px"},children:[o,e]}),n?l.jsx("div",{className:"mt-8",children:n}):l.jsx("div",{className:"mt-8 leading-tight",style:{fontSize:"16px",fontWeight:"600",color:i?s.accent:s.text||s.textPrimary},children:t})]})},s1=({title:e,children:t,defaultOpen:n=!1})=>{const[r,o]=ye.useState(n),{theme:i}=Ct();return l.jsxs("div",{style:{background:i.bgPanel,border:`1px solid ${i.border}`,borderRadius:"12px",overflow:"hidden",transition:"all 0.2s ease"},children:[l.jsxs("div",{className:"flex items-center justify-between cursor-pointer px-20 py-16",style:{background:r?i.bgElevated||i.bgPanel:"transparent",borderBottom:r?`1px solid ${i.border}`:"none",transition:"all 0.2s ease"},onClick:()=>o(!r),children:[l.jsx("div",{className:"flex-1",children:e}),l.jsx("div",{className:"text-base ml-6",style:{transform:`rotate(${r?180:0}deg)`,transition:"transform 0.2s ease",color:i.textSecondary},children:""})]}),r&&l.jsx("div",{className:"px-20 pb-20",children:t})]})};function pg(e){var n;if(!e||typeof e!="object")return[];let t=[];if(Array.isArray(e.tokens)&&e.tokens.length)t=e.tokens.map(r=>(r==null?void 0:r.token)||r).filter(Boolean);else if(Array.isArray((n=e.pool)==null?void 0:n.tokens)&&e.pool.tokens.length)t=e.pool.tokens.map(r=>(r==null?void 0:r.token)||r).filter(Boolean);else{const r=e.token0||e.tokenA||e.baseToken||e.primaryToken,o=e.token1||e.tokenB||e.quoteToken||e.secondaryToken;r&&t.push((r==null?void 0:r.token)||r),o&&t.push((o==null?void 0:o.token)||o)}return t.filter(Boolean)}function rf(e){if(!e||typeof e!="object")return{name:null,logo:null};const t=e.protocol||e.provider||e.platform||e.dex||e.exchange||e.source||null;let n=null,r=null;return t&&typeof t=="object"?(n=t.name||t.id||t.slug||t.title||null,r=t.logo||t.icon||t.iconUrl||t.image||t.img||null):typeof t=="string"&&(n=t),{name:n,logo:r}}function Wl(e){const t=parseFloat(e);return isFinite(t)?t:0}function a1(e){return!e||typeof e!="object"?null:(e.tokenAddress||e.contractAddress||e.address||e.id||e.symbol||"").toLowerCase()}function of(e){const t=new Map;return e.forEach(n=>{const r=a1(n);if(!r){t.set(Symbol(),n);return}if(!t.has(r))t.set(r,{...n});else{const o=t.get(r);["amount","balance","rewardAmount","pending","earned","accrued"].forEach(a=>{if(n[a]!=null){const c=parseFloat(o[a]||0),u=parseFloat(n[a]);isFinite(u)&&(o[a]=c+u)}}),["totalPrice","value"].forEach(a=>{if(n[a]!=null){const c=parseFloat(o[a]||0),u=parseFloat(n[a]);isFinite(u)&&(o[a]=c+u)}})}}),Array.from(t.values())}function c1(e){return!Array.isArray(e)||!e.length?0:e.reduce((t,n)=>{const r=n.pending??n.unclaimed??n.rewardAmount??n.accrued??n.amount??n.balance,o=parseFloat(r);return t+(isFinite(o)?o:0)},0)}function u1(e){return!Array.isArray(e)||!e.length?0:e.reduce((t,n)=>{const r=n.claimed??n.earned??n.realized,o=parseFloat(r);return t+(isFinite(o)?o:0)},0)}function d1(e){var o;const t=(e==null?void 0:e.position)||e,n=t.totalPrice??t.value??((o=t.financials)==null?void 0:o.totalPrice);if(n!=null)return Wl(n);const r=pg(t);return r.length?r.reduce((i,s)=>{var a;return i+Wl(s.totalPrice??s.value??((a=s.financials)==null?void 0:a.totalPrice))},0):0}function f1(e){const t=(e==null?void 0:e.position)||e,n=t.apr??t.APR??t.apy??t.APY??t.aprPct??t.apyPct??t.yieldPct??t.annualPercentageRate,r=Wl(n);return r?r>1?r:r*100:null}function p1(e){const t=ig(e);if(t)return t;const n=(e==null?void 0:e.position)||e,r=n.createdAt||n.creationTime||n.timestamp||n.created_date||n.startTime;if(!r)return null;try{if(typeof r=="number"){const i=new Date(r*1e3);if(!isNaN(i.getTime()))return i}const o=new Date(r);if(!isNaN(o.getTime()))return o}catch{return null}return null}const h1=({getLiquidityPoolsData:e})=>{const{theme:t}=Ct(),{maskValue:n}=In(),r=ye.useMemo(()=>(e==null?void 0:e())||[],[e]),o=ye.useMemo(()=>r.map((v,g)=>{var S,b,A;const x=v.position||v,w=x.tokens||((S=v.position)==null?void 0:S.tokens)||v.tokens||[],p=pg(x),m=xu(x),y=of(p),k=of(m),z=w.filter(E=>E.type==="LiquidityUncollectedFee")||[],{name:T,logo:C}=rf(v),P=d1(v),M=f1(v),D=ef(v),ie=p1(v),X=tf(v),O=x.name||(y.length>=2?`${y[0].symbol||y[0].name}/${y[1].symbol||y[1].name}`:((b=y[0])==null?void 0:b.symbol)||((A=y[0])==null?void 0:A.name)||`Pool #${g+1}`),_=x.id||x.poolId||x.address||x.contractAddress||`pool-${g}`,I=z.reduce((E,$)=>{var he;return E+(parseFloat(((he=$.financials)==null?void 0:he.totalPrice)||$.totalPrice||0)||0)},0),L=c1(k),N=u1(k);return{raw:v,pos:x,tokens:y,rewards:k,value:P,apr:M,fees24h:D,created:ie,range:X,poolName:O,poolId:_,protocolName:T,protocolLogo:C,rewardsUnclaimed:L,rewardsClaimed:N,rewardsTotalValue:I,uncollectedFeeTokens:z}}),[r]),i=ye.useMemo(()=>o.reduce((v,g)=>v+g.value,0),[o]);ye.useMemo(()=>{const v=o.map(g=>g.apr).filter(g=>g!=null&&g>0);return v.length?v.reduce((g,x)=>g+x,0)/v.length:null},[o]),ye.useMemo(()=>o.reduce((v,g)=>v+(g.fees24h||0),0),[o]);const s=ye.useMemo(()=>o.reduce((v,g)=>v+(g.rewardsTotalValue||0),0),[o]),a=un?un():0,c=a>0?Xn(i,a):"0%";ye.useMemo(()=>{if(!o.length)return{name:null,logo:null};const v=new Map;o.forEach(w=>{if(w.protocolName){const p=v.get(w.protocolName);p?(p.count++,w.protocolLogo&&!p.info.logo&&(p.info.logo=w.protocolLogo)):v.set(w.protocolName,{count:1,info:{name:w.protocolName,logo:w.protocolLogo}})}});let g=0,x={name:null,logo:null};for(const[,{count:w,info:p}]of v)w>g&&(g=w,x=p);return x},[o]);const[u,f]=ye.useState(typeof window<"u"?window.innerWidth:1200);ye.useEffect(()=>{const v=()=>f(window.innerWidth);return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]);const[d,h]=ye.useState({});return l.jsxs("div",{className:"pools-view",children:[l.jsxs("div",{className:"metric-cards-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"16px",marginBottom:"0px"},children:[l.jsx(ol,{label:"Total Pools",value:o.length}),l.jsx(ol,{label:"Total Value",value:n(Qe(i))}),l.jsx(ol,{label:"Uncollected",value:n(Qe(s||0))}),l.jsx(ol,{label:"Range",value:`${o.filter(v=>{var g;return(g=v.range)==null?void 0:g.inRange}).length}/${o.length}`}),l.jsx(ol,{label:"Portfolio",value:c})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px",marginTop:"0px"},children:o.map((v,g)=>{const{raw:x,pos:w,tokens:p,rewards:m}=v,{name:y,logo:k}=rf(x);console.log(`Pool ${g}:`,{enrichedPoolProtocolName:v.protocolName,localProtocolName:y,protocolLogo:k,pos:w,raw:x,posKeys:Object.keys(w||{}),rawKeys:Object.keys(x||{}),posProtocol:w==null?void 0:w.protocol,posProvider:w==null?void 0:w.provider,posPlatform:w==null?void 0:w.platform,posDex:w==null?void 0:w.dex,rawProtocol:x==null?void 0:x.protocol,rawProvider:x==null?void 0:x.provider,rawPlatform:x==null?void 0:x.platform,rawDex:x==null?void 0:x.dex});const z=Wl((w==null?void 0:w.totalPrice)||(w==null?void 0:w.value)||0),T=Wl((w==null?void 0:w.apr)||(w==null?void 0:w.apy)||0),C=ef(x),P=ig(x);Hx(P);const M=tf(x);return n(Qe(z)),T>0&&`${T.toFixed(2)}`,C&&C>0&&n(Qe(C)),l.jsx(s1,{title:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",width:"100%"},children:[l.jsx("div",{style:{flex:1},children:l.jsx(rn,{tokens:p})}),l.jsx("div",{style:{display:"flex",gap:"16px",alignItems:"center",fontSize:"14px"},children:M&&l.jsx(vu,{range:M,width:80})})]}),children:l.jsxs("div",{style:{padding:"16px 0"},children:[l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"12px",marginBottom:"20px"},children:v.protocolName&&l.jsx(ct,{label:"Protocol",value:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[v.protocolLogo&&l.jsx("img",{src:v.protocolLogo,alt:v.protocolName,style:{width:"16px",height:"16px",borderRadius:"50%"},onError:D=>D.target.style.display="none"}),l.jsx("span",{children:v.protocolName})]})})}),l.jsxs("div",{style:{marginTop:"16px"},children:[p.length>0&&l.jsxs("div",{style:{marginBottom:"16px"},children:[l.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:"600",color:t.text||t.textPrimary},children:"Positions"}),l.jsxs("div",{style:{background:t.bgElevated||t.bgPanel,border:`1px solid ${t.border}`,borderRadius:"8px",overflow:"hidden"},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr",padding:"12px 16px",background:t.bgElevated||t.bgPanel,borderBottom:`1px solid ${t.border}`,fontSize:"11px",fontWeight:"600",color:t.textSecondary,textTransform:"uppercase",letterSpacing:"0.5px"},children:[l.jsx("div",{children:"Token"}),l.jsx("div",{style:{textAlign:"right"},children:"Amount"}),l.jsx("div",{style:{textAlign:"right"},children:"Value"}),l.jsx("div",{style:{textAlign:"right"},children:"Uncollected"})]}),p.map((D,ie)=>{var N,S,b,A,E;const X=(S=(N=x.position)==null?void 0:N.tokens)==null?void 0:S.find($=>$.symbol===D.symbol&&$.type==="Supplied"),O=(X==null?void 0:X.amount)??D.amount??D.balance??((b=D.financials)==null?void 0:b.amount),_=(X==null?void 0:X.price)??D.price??((A=D.financials)==null?void 0:A.price);let I=(X==null?void 0:X.totalPrice)??D.totalPrice??D.value??((E=D.financials)==null?void 0:E.totalPrice);const L=Gx(x,D.symbol);return I==null&&O!=null&&_!=null&&(I=O*_),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr",padding:"12px 16px",borderBottom:ie<p.length-1?`1px solid ${t.border}`:"none",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[D.logo&&l.jsx("img",{src:D.logo,alt:D.symbol,style:{width:"20px",height:"20px",borderRadius:"50%"},onError:$=>$.target.style.display="none"}),l.jsx("span",{style:{fontWeight:"500",color:t.text||t.textPrimary},children:D.symbol})]}),l.jsx("div",{style:{textAlign:"right"},children:X?l.jsx("div",{style:{fontSize:"14px",color:t.text||t.textPrimary},children:n(ir(X,4))}):l.jsx("span",{style:{fontSize:"12px",color:t.textSecondary},children:"--"})}),l.jsx("div",{style:{textAlign:"right"},children:I!=null?l.jsx("div",{style:{fontSize:"14px",color:t.text||t.textPrimary},children:n(Qe(I))}):l.jsx("span",{style:{fontSize:"12px",color:t.textSecondary},children:"--"})}),l.jsx("div",{style:{textAlign:"right"},children:l.jsx("div",{style:{fontSize:"14px",color:t.text||t.textPrimary,fontWeight:"500"},children:n(Qe(L||0))})})]},ie)})]})]}),m.length>0&&l.jsxs("div",{children:[l.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:"600",color:t.text||t.textPrimary},children:"Rewards"}),l.jsx("div",{style:{background:t.bgElevated||t.bgPanel,border:`1px solid ${t.border}`,borderRadius:"8px",overflow:"hidden"},children:m.map((D,ie)=>{const X=D.pending??D.unclaimed??D.rewardAmount??D.accrued,O=D.claimed??D.earned??0;return l.jsxs("div",{style:{padding:"12px 16px",borderBottom:ie<m.length-1?`1px solid ${t.border}`:"none",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[D.logo&&l.jsx("img",{src:D.logo,alt:D.symbol,style:{width:"20px",height:"20px",borderRadius:"50%"},onError:_=>_.target.style.display="none"}),l.jsx("span",{style:{fontWeight:"500",color:t.text||t.textPrimary},children:D.symbol})]}),l.jsxs("div",{style:{textAlign:"right"},children:[X!=null&&X>0&&l.jsxs("div",{style:{fontSize:"14px",color:t.accent},children:["+",ir(X)," unclaimed"]}),O!=null&&O>0&&l.jsxs("div",{style:{fontSize:"12px",color:t.textSecondary},children:[ir(O)," earned"]})]})]},ie)})})]})]})]})},g)})})]})};function g1({icon:e=null,title:t,rightValue:n=null,tables:r=[]}){const{theme:o}=Ct(),i=!!(e||t||n);return l.jsxs("div",{className:i?"mt-12 mb-6":"",children:[i&&l.jsxs("div",{className:"protocol-header",children:[l.jsxs("div",{className:"flex align-center gap-8",children:[e,l.jsx("span",{className:"protocol-header-title text-primary",children:t})]}),n!==null&&l.jsx("div",{className:"protocol-header-value text-primary",children:n})]}),r.map((s,a)=>l.jsx("div",{className:"protocol-table-container",children:l.jsxs("div",{className:"p-12 px-16",children:[s.subtitle?l.jsx("div",{className:"subtitle",children:s.subtitle}):null,l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsx("tr",{className:"thead-row",children:s.columns.map(c=>{const u=c.align||"left",f=u==="right"?"th-right":u==="center"?"th-center":"th-left";return l.jsx("th",{className:`th-head ${f}`,style:{width:c.width},children:c.label},c.key)})})}),l.jsx("tbody",{children:!s.rows||s.rows.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:s.columns.length,className:"td text-center text-muted fs-11",children:"No data"})}):s.rows.map((c,u)=>l.jsx("tr",{className:`table-row table-row-hover ${u===s.rows.length-1?"":"tbody-divider"}`,children:s.columns.map(f=>l.jsx("td",{className:"td text-primary",style:{textAlign:f.align||"left"},children:c[f.key]},f.key))},s.getKey?s.getKey(c,u):u))})]})]})},a))]})}const hg=e=>({normal:{fontSize:13,fontWeight:400,color:e.textPrimary,fontFamily:"inherit"},tableHeader:{fontSize:12,fontWeight:400,color:e.textSecondary,fontFamily:"inherit",letterSpacing:"0.4px"},menuHeader:{fontSize:16,fontWeight:700,color:e.textPrimary,fontFamily:"inherit"},secondary:{fontSize:12,fontWeight:400,color:e.textSecondary,fontFamily:"inherit"},small:{fontSize:11,fontWeight:400,color:e.textSecondary,fontFamily:"inherit"},monospace:{fontSize:13,fontWeight:400,color:e.textPrimary,fontFamily:"monospace"},monospaceSmall:{fontSize:11,fontWeight:400,color:e.textSecondary,fontFamily:"monospace"},button:{fontSize:12,fontWeight:600,color:e.textSecondary,fontFamily:"monospace"}});function ll(e){if(!Array.isArray(e)||e.length===0)return null;const t=e.reduce((n,r)=>n+r,0);return l.jsx("colgroup",{children:e.map((n,r)=>{const o=(n/t*100).toFixed(3)+"%";return l.jsx("col",{style:{width:o}},r)})})}const lf=(e,t,n={})=>({display:"inline-flex",alignItems:"center",justifyContent:"center",height:22,lineHeight:"18px",background:t.bgInteractive,padding:"0 8px",borderRadius:6,whiteSpace:"nowrap",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",minWidth:70,...e,...n}),sf=(e,t,n={})=>({display:"inline-flex",alignItems:"center",justifyContent:"center",height:24,lineHeight:"20px",background:"transparent",border:`1px solid ${t.border}`,padding:"0 8px",borderRadius:6,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",minWidth:70,...e,...n}),mr=(e,t={})=>({padding:"0px",textAlign:"right",...e,...t}),yr=(e=8,t={})=>({display:"flex",alignItems:"center",gap:e,...t}),pa=(e=6,t={})=>({display:"flex",alignItems:"center",justifyContent:"center",gap:e,...t}),m1=(e,t,n={})=>({background:"transparent",...t.button,border:"none",borderRadius:6,cursor:"pointer",display:"flex",alignItems:"center",gap:4,transition:"opacity .18s",padding:0,...n}),Wr=(e={})=>({width:"100%",tableLayout:"fixed",borderCollapse:"collapse",...e});function gg({icon:e=null,title:t,rightValue:n=null,rightPercent:r=null,rewardsValue:o=null,subtitle:i=null,columns:s=[],rows:a=[],getKey:c,isExpanded:u,onToggle:f,actions:d=null,infoBadges:h=null,optionsMenu:v=null,customContent:g=null,transparentBody:x=!1,variant:w="card",metricsRatio:p=[2,1,1,1],renderHeaderMetrics:m=null,renderMetricsRow:y=null,summaryColumns:k=null,renderSummaryCell:z=null}){const{theme:T}=Ct(),C=hg(T),[P,M]=R.useState(!0),ie=typeof u=="boolean"?u:P,[X,O]=R.useState(!1),_=()=>{f?f():M(!P)};R.useEffect(()=>{const Q=()=>{X&&O(!1)};return X&&document.addEventListener("click",Q),()=>document.removeEventListener("click",Q)},[X]);const I=w==="card",L=T.cardBg||T.bgPanel,N="transparent",S=x?"transparent":T.tableBg||T.bgPanel,b=T.tableStripeBg||(T.mode==="light"?"#f7f9fa":"#24272f"),A=T.tableRowHoverBg||(T.mode==="light"?"#ecf0f3":"#2b2e37"),E="transparent",$=Array.isArray(p)&&p.length>=3?p:[2,1,1,1],he=$.length===3,de=$.length===3?null:o,ve=Q=>{if(!Q||!Array.isArray(Q.ratio)||!Array.isArray(Q.cells))return null;const _e=Q.ratio,Y=Q.cells;return l.jsxs("table",{style:Wr(),children:[ll(_e),l.jsx("tbody",{children:l.jsx("tr",{children:Y.map((re,Ce)=>l.jsx("td",{style:{padding:"0px"},children:re},Ce))})})]})},Fe=(Q=[])=>!Array.isArray(Q)||Q.length===0?null:l.jsx("colgroup",{children:Q.map((_e,Y)=>l.jsx("col",{style:_e&&_e.width?{width:_e.width}:void 0},Y))});return l.jsx("div",{className:"mt-12 mb-12",children:l.jsxs("div",{style:{background:I?L:"transparent",border:I?`1px solid ${T.border}`:"none",borderRadius:I?14:0,boxShadow:I?T.shadowCard||"0 2px 6px rgba(0,0,0,0.08)":"none",overflow:"hidden",transition:"background-color .25s,border-color .25s,box-shadow .25s"},children:[l.jsxs("div",{style:{...yr(0,{justifyContent:"space-between"}),background:N,padding:"10px 16px",cursor:f?"pointer":"default",userSelect:"none"},onClick:f?_:void 0,children:[l.jsxs("div",{className:"flex items-center gap-8 flex-auto",children:[e,l.jsx("span",{style:C.menuHeader,children:t})]}),l.jsxs("div",{className:"flex items-center gap-12",onClick:Q=>Q.stopPropagation(),children:[i&&(m||h||r!==null||n!==null)&&l.jsx("div",{className:"flex-none",style:{minWidth:he?360:420},children:m?ve(m({theme:T,fontStyles:C,helpers:{createFlexRow:yr,createFlexCenter:pa,createBadgeStyle:lf,createCondensedBadgeStyle:sf,createCellStyle:mr,createTableStyle:Wr,ratioToColGroup:ll}})):l.jsxs("table",{style:Wr(),children:[ll($),l.jsx("tbody",{children:l.jsx("tr",{children:he?l.jsxs(l.Fragment,{children:[l.jsx("td",{style:{padding:"0px"},children:l.jsx("div",{style:yr(6),children:h&&l.jsx("div",{className:"mini-metric-pill",children:h})})}),l.jsx("td",{style:{padding:"0px",textAlign:"center"},children:l.jsxs("div",{style:pa(6),children:[r!==null&&l.jsx(ct,{value:r}),d]})}),l.jsx("td",{style:mr(C.normal),children:n!==null?n:""})]}):l.jsxs(l.Fragment,{children:[l.jsx("td",{style:{padding:"0px"},children:h&&l.jsx("div",{className:"mini-metric-pill",children:h})}),l.jsx("td",{style:{padding:"0px",textAlign:"center"},children:r!==null&&l.jsx(ct,{value:r})}),l.jsx("td",{style:{padding:"0px",textAlign:"right"},children:l.jsx("div",{style:yr(6,{justifyContent:"flex-end"}),children:d})}),l.jsx("td",{style:mr(C.monospace),children:de!==null?de:""}),l.jsx("td",{style:mr(C.monospace),children:n!==null?n:""})]})})})]})}),l.jsx("div",{style:yr(8),children:l.jsx("button",{onClick:Q=>{Q.stopPropagation(),_()},style:m1(T,C),onMouseEnter:Q=>{Q.currentTarget.style.opacity=.7},onMouseLeave:Q=>{Q.currentTarget.style.opacity=1},children:ie?"-":"+"})})]})]}),ie&&l.jsx("div",{style:{background:S,borderRadius:I?"0 0 14px 14px":0},children:l.jsxs("div",{style:{padding:"0px 0px"},children:[i?l.jsx("div",{style:{...C.secondary,margin:"0 16px 6px 16px",textTransform:"uppercase"},children:i}):null,!i&&k&&z?l.jsx("div",{style:{padding:"6px 14px 4px 14px"},children:l.jsxs("table",{style:Wr(),children:[Fe(k),l.jsx("tbody",{children:l.jsx("tr",{children:k.map((Q,_e)=>l.jsx("td",{style:{padding:"0px",textAlign:(Q==null?void 0:Q.align)||"left"},children:z(Q,_e)},(Q==null?void 0:Q.key)||_e))})})]})}):!i&&(y||r!==null||h||n!==null)&&l.jsx("div",{style:{padding:"6px 14px 4px 14px"},children:y?ve(y({theme:T,fontStyles:C,context:{subtitle:i,columns:s,rows:a},helpers:{createFlexRow:yr,createFlexCenter:pa,createBadgeStyle:lf,createCondensedBadgeStyle:sf,createCellStyle:mr,createTableStyle:Wr,ratioToColGroup:ll}})):l.jsxs("table",{style:Wr(),children:[ll($),l.jsx("tbody",{children:l.jsx("tr",{children:he?l.jsxs(l.Fragment,{children:[l.jsx("td",{style:{padding:"0 0px"},children:l.jsxs("div",{style:yr(8),children:[r!==null&&l.jsx(ct,{value:r}),h&&l.jsx("div",{className:"mini-metric-pill",children:h}),X&&v&&l.jsx("div",{style:{position:"absolute",background:S,border:`1px solid ${T.border}`,borderRadius:8,padding:"0 8px",minWidth:200,zIndex:1e3,marginTop:30},onClick:Q=>Q.stopPropagation(),children:v})]})}),l.jsx("td",{style:{padding:"0px"}}),l.jsx("td",{style:mr(C.monospace,{fontSize:14}),children:n!==null?n:""})]}):l.jsxs(l.Fragment,{children:[l.jsx("td",{style:{padding:"0px"},children:l.jsxs("div",{style:yr(8),children:[r!==null&&l.jsx(ct,{value:r}),h&&l.jsx("div",{className:"mini-metric-pill",children:h})]})}),l.jsx("td",{style:{padding:"0 6px"}}),l.jsx("td",{style:mr(C.monospace,{fontSize:14,paddingRight:6}),children:o!==null?o:""}),l.jsx("td",{style:mr(C.monospace,{fontSize:14}),children:n!==null?n:""})]})})})]})}),g||l.jsxs("table",{style:Wr(),children:[l.jsx("thead",{children:l.jsx("tr",{style:{backgroundColor:N},children:s.map(Q=>l.jsx("th",{style:{padding:"10px 16px",textAlign:Q.align||"left",...C.tableHeader,width:Q.width,borderBottom:`1px solid ${E}`},children:Q.label},Q.key))})}),l.jsx("tbody",{children:a.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:s.length,style:{padding:"14px 16px",textAlign:"center",...C.secondary},children:"No data"})}):a.map((Q,_e)=>{const Y=_e%2===1;return l.jsx("tr",{style:{backgroundColor:Y?b:"transparent",transition:"background-color 0.2s"},onMouseEnter:re=>re.currentTarget.style.backgroundColor=A,onMouseLeave:re=>re.currentTarget.style.backgroundColor=Y?b:"transparent",children:s.map(re=>l.jsx("td",{style:{padding:"12px 16px",textAlign:re.align||"left",...C.normal,borderBottom:"none"},children:Q[re.key]},re.key))},c?c(Q,_e):_e)})})]})]})})]})})}function _r({className:e="",showRange:t=!0,labels:n={},columns:r,columnDefs:o}){const s={...{token:"Token",range:"Range",price:"Price",amount:"Amount",rewards:"Rewards",value:"Value"},...n};let a=null,c=null;return Array.isArray(o)&&o.length?c=o.map(u=>{const d=Object.prototype.hasOwnProperty.call(u,"label")?u.label:s[u.key]||u.key;return{key:u.key,label:d,align:u.align||(u.key==="range"?"center":"right"),className:u.className||`col-${u.key}`,thProps:u.thProps||{}}}):(a=r&&Array.isArray(r)&&r.length?r:null,a||(a=[t?"range":null,"amount","rewards","value"].filter(Boolean))),l.jsx("thead",{children:l.jsxs("tr",{className:`thead-row ${e}`.trim(),children:[l.jsx("th",{className:"th-head th-left col-name",children:s.token}),c?c.map(u=>l.jsx("th",{className:`th-head ${u.align==="center"?"th-center":u.align==="left"?"th-left":"th-right"} ${u.className}`,...u.thProps,children:u.label},u.key)):a.map(u=>{const f=s[u]||u,h=`th-head ${u==="range"?"th-center":"th-right"} col-${u}`;return l.jsx("th",{className:h,children:f},u)})]})})}const oo=({totalValue:e=0,itemsCount:t=0,columns:n=null,columnDefs:r=null,showRange:o=!0,className:i=""})=>{const{maskValue:s}=In();if(t<2)return null;let a=null,c=null;Array.isArray(r)&&r.length?c=r:(a=n&&Array.isArray(n)&&n.length?n:null,a||(a=[o?"range":null,"amount","rewards","value"].filter(Boolean)));const u=(d,h)=>l.jsx("td",{className:"td td-right text-muted"},d||h),f=(d,h)=>l.jsx("td",{className:"td td-right td-mono tabular-nums td-mono-strong text-primary font-semibold",children:s(Qe(e))},d||h);return l.jsx("tfoot",{children:l.jsxs("tr",{className:`table-footer-row border-t ${i}`.trim(),children:[l.jsx("td",{className:"td td-left font-semibold text-primary",children:"Total"}),c?c.map((d,h)=>d.key==="value"?f(d.key,h):u(d.key,h)):a==null?void 0:a.map((d,h)=>d==="value"?f(d,h):u(d,h))]})})};function y1(e,t){if(!e)return`tok-${t}`;const n=(e.contractAddress||e.tokenAddress||e.address||"").toLowerCase(),r=(e.chainId||e.chainID||e.chain||e.networkId||e.network||e.chainName||"").toString().toLowerCase();if(n)return`${n}${r?`-${r}`:""}`;const o=(e.symbol||"").toLowerCase(),i=(e.name||"").toLowerCase();return`${o||i||"token"}-${t}`}const x1=({tokens:e=[],showBalanceColumn:t=!0,showUnitPriceColumn:n=!0,showMetrics:r=!0})=>{const{theme:o}=Ct(),{maskValue:i}=In();if(!e||e.length===0)return null;const s=e.reduce((d,h)=>{const v=h.token||h,g=parseFloat(String(v.totalPrice))||0;return d+(isFinite(g)?g:0)},0),a=e.length,c=un?un():0,u=c>0?Xn(s,c):"0%",f=[{key:"price",label:"Price",align:"right"},{key:"amount",label:"Amount",align:"right"},{key:"value",label:"Value",align:"right"}];return l.jsxs("div",{className:"wallet-tokens-table-wrapper flex-col gap-12",children:[r&&l.jsxs("div",{className:"mini-metrics",children:[l.jsx(ct,{label:"Positions",value:a}),l.jsx(ct,{label:"Portfolio %",value:u})]}),l.jsxs("table",{className:"table-unified text-primary",children:[l.jsx(_r,{columns:["token","price","amount","value"],columnDefs:f}),l.jsx("tbody",{children:e.map((d,h)=>{const v=d.token||d,g=y1(v,h),x=parseFloat(String(v.priceUsd||v.price||v.priceUSD||0))||0;return l.jsxs("tr",{className:`table-row table-row-hover ${h===e.length-1?"":"tbody-divider"}`,children:[l.jsx("td",{className:"td text-primary col-name",children:l.jsx(rn,{tokens:[v],size:22,showChain:!0})}),l.jsx("td",{className:"td td-right td-mono tabular-nums text-primary col-price",children:i(Qe(x))}),l.jsx("td",{className:"td td-right td-mono tabular-nums text-primary col-amount",children:i(ir(v,4))}),l.jsx("td",{className:"td td-right td-mono tabular-nums td-mono-strong text-primary col-value",children:i(Qe(parseFloat(String(v.totalPrice))||0))})]},g)})}),l.jsx(oo,{totalValue:s,itemsCount:a,columnDefs:f})]})]})};function yi(e){return e.filter(t=>t.type==="LiquidityPool")}function dl(e){return e.filter(t=>t.type==="LendingAndBorrowing")}function xi(e){return e.filter(t=>t.type==="Staking")}function af(e){return e.filter(t=>t.type==="Locking")}function cf(e){return e.filter(t=>t.type==="Depositing")}function v1(e=[]){const t=e.flatMap(r=>(r.tokens||[]).map(i=>({...i,_sourceItem:r}))),n=ug(t,r=>(r.address||r.contractAddress||r.contract||"").toLowerCase()||r.symbol||`token-${Math.random()}`);return Object.values(n).map(r=>{const o=r[0],i=Nn(r.filter(f=>f.type==="Supplied"||f.type==="Supply").map(f=>f.balanceUSD||f.totalPrice||f.totalValueUsd||f.valueUsd||parseFloat(String(f.balance||0))*parseFloat(String(f.price||0))||0)),s=Nn(r.filter(f=>f.type==="Borrowed"||f.type==="Borrow").map(f=>f.balanceUSD||f.totalPrice||f.totalValueUsd||f.valueUsd||parseFloat(String(f.balance||0))*parseFloat(String(f.price||0))||0)),a=i-s,c=xu(r.flatMap(f=>{var d,h;return((d=f._sourceItem)==null?void 0:d.rewards)||((h=f._sourceItem)==null?void 0:h.rewardTokens)||[]})),u=Nn(c.map(f=>f.totalValueUsd||f.totalValueUSD||f.totalValue||f.valueUsd||f.valueUSD||f.value||0));return{token:o,supplied:i,borrowed:s,netValue:a,rewards:c,rewardsValue:u}})}function w1(e=[]){const t=ug(e,n=>{const r=n.position||n,o=r.token||r.asset||{};return(o.address||o.contractAddress||o.contract||"").toLowerCase()||o.symbol||`g-${Math.random()}`});return Object.values(t).map(n=>{const r=n[0],o=r.position||r,i=o.token||o.asset||{},s=Nn(n.map(d=>{const h=d.position||d;return h.suppliedUsd||h.suppliedUSD||h.suppliedValueUsd||h.suppliedValue||h.supplied||h.depositedUsd||h.depositUsd||0})),a=Nn(n.map(d=>{const h=d.position||d;return h.borrowedUsd||h.borrowedUSD||h.borrowedValueUsd||h.borrowedValue||h.borrowed||h.debtUsd||h.debt||0})),c=Nn(n.map(d=>{const h=d.position||d;return h.netValueUsd||h.netValueUSD||h.netValue||h.positionValueUsd||0})),u=xu(n.flatMap(d=>d.rewards||d.rewardTokens||[])),f=Nn(u.map(d=>d.totalValueUsd||d.totalValueUSD||d.totalValue||d.valueUsd||d.valueUSD||d.value||0));return{token:i,supplied:s,borrowed:a,netValue:c,rewards:u,rewardsValue:f}})}function b1({items:e=[],showMetrics:t=!0,positions:n=[],supplied:r=[],borrowed:o=[],rewards:i=[],healthFactor:s,netApy:a}){var O;const{maskValue:c}=In(),{theme:u}=Ct(),[f,d]=R.useState({}),h=R.useMemo(()=>e&&e.length>0?e:n&&n.length>0?n:[],[e,n]),v=R.useMemo(()=>dl(h),[h]),g=R.useMemo(()=>v.some(_=>_.tokens&&Array.isArray(_.tokens)&&_.tokens.length>0),[v]),x=R.useMemo(()=>v.length===0?[]:g?v1(v):w1(v),[v,g]),w=R.useMemo(()=>x.filter(_=>parseFloat(_.supplied.toString())>0),[x]),p=R.useMemo(()=>x.filter(_=>parseFloat(_.borrowed.toString())>0),[x]),m=R.useMemo(()=>x.filter(_=>_.rewards&&_.rewards.length>0&&_.rewardsValue>0),[x]),y=R.useMemo(()=>Nn(w.map(_=>_.supplied)),[w]),k=R.useMemo(()=>Nn(p.map(_=>_.borrowed)),[p]);R.useMemo(()=>Nn(m.map(_=>_.rewardsValue)),[m]);const z=R.useMemo(()=>s||v.map(mc).find(_=>_!=null)||null,[s,v]),T=R.useMemo(()=>{if(a!=null)return a;if(!g)return null;let _=0,I=0,L=0;v.forEach(S=>{var E;const b=S.tokens||[],A=(E=S.additionalData)==null?void 0:E.apy;b.forEach($=>{var ve;const he=($==null?void 0:$.balanceUSD)||($==null?void 0:$.totalPrice)||((ve=$==null?void 0:$.financials)==null?void 0:ve.totalPrice)||($==null?void 0:$.totalValueUsd)||($==null?void 0:$.valueUsd)||0,de=typeof he=="number"?he:parseFloat(String(he))||0;A!=null&&!isNaN(A)&&de>0&&($.type==="Supplied"?(_+=de,L+=A*de):$.type==="Borrowed"&&(I+=de,L+=A*de))})});const N=_-I;return N>0?L/N:null},[a,v,g]);if(v.length===0&&(r&&r.length||o&&o.length||i&&i.length)){const _=un?un():0,I=(r||[]).reduce((E,$)=>E+(parseFloat(String($.totalPrice||$.totalValueUsd||$.totalValue||$.valueUsd||0))||0),0),L=(o||[]).reduce((E,$)=>E+(parseFloat(String($.totalPrice||$.totalValueUsd||$.totalValue||$.valueUsd||0))||0),0),N=I-L,S=_>0?Xn(N,_):"0%";[...r||[],...o||[],...i||[]];let b=s||null;if(!b&&v.length>0&&(b=v.map(mc).find(E=>E!=null)||null),!b){const $=[...r||[],...o||[],...i||[]].find(he=>{var de;return he.healthFactor!=null||((de=he.additionalData)==null?void 0:de.healthFactor)!=null});if($){const he=$.healthFactor||((O=$.additionalData)==null?void 0:O.healthFactor);b=he!=null?parseFloat(String(he)):null}}const A=({title:E,tokens:$,negative:he=!1})=>{if(!$||$.length===0)return null;const de=E==="Supplied",ve=E==="Borrowed",Fe=$.reduce((Q,_e)=>{const Y=parseFloat(String(_e.totalPrice||_e.totalValueUsd||_e.totalValue||_e.valueUsd||0))||0;return Q+(he?-Math.abs(Y):Y)},0);return l.jsx("div",{className:"table-wrapper",children:l.jsxs("table",{className:"table-unified text-primary",children:[l.jsx(_r,{columnDefs:[{key:"collateral",label:de?"Collateral":ve?"":"Collateral",align:"center"},{key:"price",label:"Price",align:"right"},{key:"amount",label:"Amount",align:"right"},{key:"value",label:"Value",align:"right"}],labels:{token:E==="Supplied"?"Supply":E==="Borrowed"?"Borrow":"Token"},columns:["token","collateral","price","amount","value"]}),l.jsx("tbody",{children:$.map((Q,_e)=>{var Be,dt,zt,Pt,lt,Wt,_t,gt,Tt;const Y=parseFloat(String(Q.totalPrice||Q.totalValueUsd||Q.totalValue||Q.valueUsd||0))||0,re=he?-Math.abs(Y):Y,Ce=parseFloat(String(Q.priceUsd||Q.priceUSD||Q.price||0))||0,fe=Q!=null&&Q.token?Q.token:Q,De=[fe==null?void 0:fe.isCollateral,fe==null?void 0:fe.IsCollateral,(Be=fe==null?void 0:fe.additionalData)==null?void 0:Be.isCollateral,(dt=fe==null?void 0:fe.additionalData)==null?void 0:dt.IsCollateral,(zt=fe==null?void 0:fe.AdditionalData)==null?void 0:zt.IsCollateral,(Pt=fe==null?void 0:fe.additionalInfo)==null?void 0:Pt.IsCollateral,(lt=fe==null?void 0:fe.additional_info)==null?void 0:lt.is_collateral,(_t=(Wt=Q==null?void 0:Q.position)==null?void 0:Wt.additionalData)==null?void 0:_t.IsCollateral,(Tt=(gt=Q==null?void 0:Q.position)==null?void 0:gt.additionalData)==null?void 0:Tt.isCollateral].some(sn=>sn===!0);return l.jsxs("tr",{className:`table-row table-row-hover ${_e===$.length-1?"":"tbody-divider"}`,children:[l.jsx("td",{className:"td text-primary col-name",children:l.jsx(rn,{tokens:[Q],size:22,showChain:!1,getChainIcon:()=>{}})}),l.jsxs("td",{className:"td th-center col-collateral",children:[de&&(De?l.jsx("span",{className:"toggle-pill on","aria-label":"Collateral",role:"switch","aria-checked":"true"}):l.jsx("span",{className:"toggle-pill","aria-label":"Not collateral",role:"switch","aria-checked":"false"})),ve&&null]}),l.jsx("td",{className:"td td-right td-mono text-primary col-price",children:c(Qe(Ce))}),l.jsx("td",{className:"td td-right td-mono text-primary col-amount",children:c(ir(Q),{short:!0})}),l.jsx("td",{className:"td td-right td-mono td-mono-strong text-primary col-value",children:c(Qe(re))})]},_e)})}),l.jsx(oo,{totalValue:Fe,itemsCount:$.length,columns:["","price","amount","value"]})]})})};return l.jsxs("div",{className:"lending-tables-wrapper flex-col gap-12",children:[t&&l.jsxs("div",{className:"mini-metrics",children:[l.jsx(ct,{label:"Positions",value:((r==null?void 0:r.length)||0)+((o==null?void 0:o.length)||0)+((i==null?void 0:i.length)||0)}),l.jsx(ct,{label:"Portfolio %",value:S}),b&&l.jsx(ct,{label:"Health Factor",value:b.toFixed(2)}),a!=null&&l.jsx(ct,{label:"NET APY %",value:`${a>=0?"+":""}${a.toFixed(2)}%`})]}),l.jsx(A,{title:"Supplied",tokens:r,negative:!1}),r.length>0&&o.length>0&&l.jsx("div",{className:"spacer-6"}),l.jsx(A,{title:"Borrowed",tokens:o,negative:!0}),(r.length>0||o.length>0)&&i.length>0&&l.jsx("div",{className:"spacer-6"}),l.jsx(A,{title:"Rewards",tokens:i,negative:!1})]})}if(!v||v.length===0)return null;const P=x.length,M=un?un():0,D=y-k,ie=M>0?Xn(D,M):"0%";function X(_,I){d(L=>({...L,[`${I}-${_}`]:!L[`${I}-${_}`]}))}return l.jsxs("div",{className:"lending-tables-wrapper flex-col gap-12",children:[t&&l.jsxs("div",{className:"mini-metrics",children:[l.jsx(ct,{label:"Positions",value:P,tooltip:"Total number of positions"}),l.jsx(ct,{label:"Portfolio %",value:ie,tooltip:"Percentage of total portfolio"}),z&&l.jsx(ct,{label:"Health Factor",value:z.toFixed(2),tooltip:"Liquidation risk indicator"}),T!=null&&l.jsx(ct,{label:"NET APY %",value:`${T>=0?"+":""}${T.toFixed(2)}%`,tooltip:"Weighted average net APY across all positions"})]}),w.length>0&&l.jsxs("table",{className:"table-unified text-primary",children:[l.jsx(_r,{columns:["token","supplied","net"],columnDefs:[{key:"supplied",label:"Supplied",align:"right"},{key:"net",label:"Net Value",align:"right"}],labels:{token:"Supplied"}}),l.jsx("tbody",{children:w.map((_,I)=>{const L=us(_,I),N=parseFloat(_.supplied.toString())||0,S=parseFloat(_.netValue.toString())||0,b=f[`sup-${I}`];return l.jsxs(ye.Fragment,{children:[l.jsxs("tr",{className:`table-row table-row-hover ${I===w.length-1&&!b?"":"tbody-divider"}`,children:[l.jsx("td",{className:"td text-primary col-name",onClick:()=>X(I,"sup"),style:{cursor:"pointer"},children:l.jsxs("div",{className:"flex items-center gap-8",children:[l.jsx("span",{className:`disclosure ${b?"open":""}`}),l.jsx(rn,{tokens:[_.token],size:22,showChain:!1,getChainIcon:()=>{}})]})}),l.jsx("td",{className:"td td-right td-mono tabular-nums text-primary col-supplied",children:c(Qe(N))}),l.jsx("td",{className:"td td-right td-mono tabular-nums td-mono-strong text-primary col-net",children:c(Qe(S))})]}),b&&l.jsx("tr",{className:`table-row table-row-nested ${I===w.length-1?"":"tbody-divider"}`,children:l.jsx("td",{colSpan:3,className:"td td-nested-bg",children:l.jsx("div",{className:"text-secondary text-sm",children:"No deeper breakdown available (restored expandable row placeholder)."})})})]},`sup-${L}`)})}),l.jsx(oo,{totalValue:y,itemsCount:w.length,columns:["price","amount","value"]})]})]})}function uf(e,t){var o,i,s,a;const n=(e.address||e.contractAddress||((o=e.position)==null?void 0:o.address)||((i=e.position)==null?void 0:i.contractAddress)||"").toLowerCase();if(n)return n;const r=(e.name||e.label||((s=e.position)==null?void 0:s.name)||((a=e.position)==null?void 0:a.label)||"").toLowerCase();return r?`${r}-${t}`:`pool-${t}`}function S1(e){var i,s,a;const t=((i=e.additionalData)==null?void 0:i.range)||e.range||e.rangeData||((s=e.position)==null?void 0:s.range)||((a=e.position)==null?void 0:a.rangeData)||null;if(!t)return null;const n=parseFloat(String(t.lower||t.min||t.tickLower||"")),r=parseFloat(String(t.upper||t.max||t.tickUpper||"")),o=parseFloat(String(t.current||t.currentPrice||t.price||""));return isFinite(n)&&isFinite(r)&&isFinite(o)?{min:n,max:r,current:o,inRange:t.inRange??(o>=n&&o<=r),lower:n,upper:r}:null}function k1(e){return e.protocol?{name:e.protocol.name||null,logo:e.protocol.logo||null}:{name:null,logo:null}}function j1(e){return e.map(t=>{var c,u;const n=t.tokens||((c=t.position)==null?void 0:c.tokens)||[],i=(t.tokens||((u=t.position)==null?void 0:u.tokens)||[]).filter(f=>f.type==="LiquidityUncollectedFee").map(Zx),a=n.filter(f=>f.type==="Supplied"||!f.type||f.type==="LP").reduce((f,d)=>{var v;const h=parseFloat(String(((v=d.financials)==null?void 0:v.totalPrice)||d.totalPrice||d.totalValueUsd||d.totalValueUSD||d.totalValue||d.valueUsd||d.valueUSD||d.value||0))||0;return f+h},0);return{item:t,tokens:n,value:a,rewards:i}})}const C1=({items:e=[],showMetrics:t=!0})=>{const{maskValue:n}=In(),{theme:r}=Ct(),[o,i]=R.useState({}),s=typeof window<"u"?window.innerWidth:1200,[a,c]=R.useState(s);R.useEffect(()=>{function P(){c(typeof window<"u"?window.innerWidth:s)}return typeof window<"u"&&window.addEventListener("resize",P),()=>{typeof window<"u"&&window.removeEventListener("resize",P)}},[s]);const u=a<600,f=a<800,d=a<950;if(!e||e.length===0)return null;const h=R.useMemo(()=>j1(e),[e]),v=Nn(h.map(P=>P.value));Nn(h.flatMap(P=>(P.rewards||[]).filter(M=>M.type==="LiquidityUncollectedFee").map(M=>{var D;return parseFloat(M.totalPrice||M.totalValueUsd||M.totalValueUSD||M.totalValue||M.valueUsd||M.valueUSD||M.value||((D=M.financials)==null?void 0:D.totalPrice)||0)||0})));const g=h.length,x=un?un():0,w=x>0?Xn(v,x):"0%";function p(P){i(M=>({...M,[P]:!M[P]}))}const m=h.map((P,M)=>uf(P.item,M)),y=m.every(P=>o[P]),k=m.some(P=>o[P]);function z(){i(m.reduce((P,M)=>(P[M]=!0,P),{}))}function T(){i({})}const C=ye.useMemo(()=>{if(!h.length)return{name:null,logo:null};const P=new Map;h.forEach(({item:ie})=>{const X=k1(ie);if(X.name){const O=P.get(X.name);O?(O.count++,X.logo&&!O.info.logo&&(O.info.logo=X.logo)):P.set(X.name,{count:1,info:X})}});let M=0,D={name:null,logo:null};for(const[,{count:ie,info:X}]of P)ie>M&&(M=ie,D=X);return D},[h]);return l.jsxs("div",{className:"pool-tables-wrapper flex-col gap-12",children:[t&&l.jsxs("div",{className:"mini-metrics",children:[l.jsx(ct,{label:"Positions",value:g}),l.jsx(ct,{label:"Portfolio %",value:w}),C.name&&l.jsxs("div",{className:"mini-metric",children:[l.jsx("span",{className:"mini-metric-label",children:"Protocol"}),l.jsxs("div",{className:"mini-metric-row",children:[C.logo&&l.jsx("img",{src:C.logo,alt:C.name,style:{width:16,height:16,borderRadius:"50%",objectFit:"cover",border:"1px solid var(--app-border)"},onError:P=>P.target.style.display="none"}),l.jsx("span",{className:"mini-metric-value",children:C.name})]})]})]}),h.length>3&&l.jsxs("div",{className:"expand-controls flex gap-8",children:[l.jsx("button",{type:"button",className:"btn btn-sm",disabled:y,onClick:z,children:"Expand All"}),l.jsx("button",{type:"button",className:"btn btn-sm",disabled:!k,onClick:T,children:"Collapse All"})]}),l.jsxs("table",{className:"table-unified text-primary",children:[l.jsx(_r,{columns:["token",!u&&"range",!d&&"amount",!f&&"uncollected","value"].filter(Boolean),columnDefs:[!u&&{key:"range",label:"Range",align:"center"},!d&&{key:"amount",label:"Amount",align:"right"},!f&&{key:"uncollected",label:"Uncollected",align:"right"},{key:"value",label:"Value",align:"right"}].filter(Boolean),labels:{token:"Pools"}}),l.jsx("tbody",{children:h.map((P,M)=>{const{item:D,tokens:ie,value:X,rewards:O}=P,_=uf(D,M),I=!!o[_],L=S1(D),S=(O||[]).filter(b=>b.type==="LiquidityUncollectedFee").reduce((b,A)=>{var E;return b+(parseFloat(A.totalPrice||A.totalValueUsd||A.totalValueUSD||A.totalValue||A.valueUsd||A.valueUSD||A.value||((E=A.financials)==null?void 0:E.totalPrice)||0)||0)},0);return l.jsxs(ye.Fragment,{children:[l.jsxs("tr",{className:"table-row table-row-hover tbody-divider cursor-pointer",onClick:()=>p(_),children:[l.jsx("td",{className:"td text-primary col-name",children:l.jsxs("span",{className:"flex align-center gap-8",children:[l.jsx("span",{className:"collapse-toggle","aria-label":I?"Collapse pool":"Expand pool",children:I?"":"+"}),Array.isArray(ie)&&ie.length>0&&l.jsx(rn,{tokens:ie.filter(b=>b.type==="Supplied"||!b.type||b.type==="LP").slice(0,2),size:24,showChain:!1,getChainIcon:b=>{}})]})}),!u&&l.jsx("td",{className:"td td-center col-range",children:L?l.jsx(vu,{range:L}):l.jsx("span",{className:"td-placeholder",style:{fontSize:"11px",color:"#888"},children:"Full Range"})}),!d&&l.jsx("td",{className:"td td-right td-mono text-primary col-amount",children:"-"}),!f&&l.jsx("td",{className:"td td-right td-mono text-primary col-uncollected",children:n(Qe(S))}),l.jsx("td",{className:"td td-right td-mono td-mono-strong text-primary col-value",children:n(Qe(X))})]}),I&&ie&&l.jsx(l.Fragment,{children:ie.filter(b=>b.type==="Supplied"||!b.type||b.type==="LP").map((b,A)=>{var de;const E=parseFloat(String(((de=b.financials)==null?void 0:de.totalPrice)||b.totalPrice||b.totalValueUsd||b.totalValueUSD||b.totalValue||b.valueUsd||b.valueUSD||b.value||0))||0,he=(O||[]).filter(ve=>ve.type==="LiquidityUncollectedFee"&&(ve.symbol||"").toLowerCase()===(b.symbol||"").toLowerCase()).reduce((ve,Fe)=>{var Q;return ve+(parseFloat(((Q=Fe.financials)==null?void 0:Q.totalPrice)||Fe.totalPrice||0)||0)},0);return l.jsxs("tr",{className:"table-row tbody-divider pool-token-rows-enter",children:[l.jsx("td",{className:"td-small text-secondary col-name",style:{paddingLeft:34},children:l.jsx("span",{className:"flex align-center",children:l.jsx(rn,{tokens:[b],size:18,showChain:!1,getChainIcon:ve=>{}})})}),!u&&l.jsx("td",{className:"td-small td-center col-range"}),!d&&l.jsx("td",{className:"td-small td-right td-mono text-primary col-amount",children:n(ir(b,4))}),!f&&l.jsx("td",{className:"td-small td-right td-mono text-primary col-uncollected",children:he&&he>.001?n(Qe(he)):"-"}),l.jsx("td",{className:"td-small td-right td-mono td-mono-strong text-primary col-value",children:n(Qe(E))})]},`${_}-tok-${A}`)})})]},_)})}),l.jsx(oo,{totalValue:v,itemsCount:g,columns:["range","amount","rewards","value"]})]})]})};function P1(e){const t=[],n=[];let r=null;return e.forEach(o=>{var u,f;const i=((u=o.position)==null?void 0:u.tokens)||o.tokens||[],s=(f=o.additionalData)==null?void 0:f.unlockAt;s&&!r&&(r=new Date(s*1e3));const a=sg(i),c=Jx(i);a.forEach(d=>{t.push({...d,unlockDate:r,positionKey:us(o)})}),c.forEach(d=>{n.push({...d,positionKey:us(o)})})}),{suppliedTokens:t,governanceTokens:n,unlockDate:r}}function E1(e){if(!e)return"Unknown";const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),o=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()).padStart(2,"0");return`${t}/${n}/${r} ${o}:${i}`}function A1(e){if(!e)return"Unknown";const t=new Date,n=e.getTime()-t.getTime();if(n<=0)return"Expired";const r=Math.ceil(n/(1e3*60*60*24));if(r<1)return"Today";if(r===1)return"Tomorrow";if(r<=30)return`${r} days`;if(r<=365){const i=Math.round(r/30);return`${i} month${i>1?"s":""}`}const o=Math.round(r/365);return`${o} year${o>1?"s":""}`}const N1=({items:e=[],showMetrics:t=!0})=>{const{maskValue:n}=In(),{suppliedTokens:r,governanceTokens:o,unlockDate:i}=R.useMemo(()=>P1(e),[e]),s=R.useMemo(()=>r.reduce((h,v)=>{var x;const g=parseFloat(String(((x=v.financials)==null?void 0:x.totalPrice)||v.totalPrice||v.totalValueUsd||0))||0;return h+g},0),[r]),a=R.useMemo(()=>o.reduce((h,v)=>{var x;const g=parseFloat(String(((x=v.financials)==null?void 0:x.totalPrice)||v.totalPrice||v.totalValueUsd||0))||0;return h+g},0),[o]),c=s+a,u=e.length,f=un?un():0,d=f>0?Xn(c,f):"0%";return!e||e.length===0?null:l.jsxs("div",{className:"locking-tables-wrapper flex-col gap-12",children:[t&&l.jsxs("div",{className:"mini-metrics",children:[l.jsx(ct,{label:"Positions",value:u}),l.jsx(ct,{label:"Portfolio %",value:d})]}),r.length>0&&l.jsx("div",{className:"table-section",children:l.jsxs("table",{className:"table-unified text-primary",children:[l.jsx(_r,{columns:["amount","unlock","value"],columnDefs:null,labels:{token:"Supply",amount:"Amount",unlock:"Unlock At",value:"Value"}}),l.jsx("tbody",{children:r.map((h,v)=>{var x;const g=parseFloat(String(((x=h.financials)==null?void 0:x.totalPrice)||h.totalPrice||h.totalValueUsd||0))||0;return l.jsxs("tr",{className:"table-row table-row-hover tbody-divider",children:[l.jsx("td",{className:"td text-primary col-token",children:l.jsx("span",{className:"flex align-center gap-8",children:l.jsx(rn,{tokens:[h],size:24,showChain:!1,getChainIcon:w=>{}})})}),l.jsx("td",{className:"td td-right td-mono text-primary col-amount",children:ir(h)}),l.jsx("td",{className:"td td-right td-mono text-primary col-unlock",children:l.jsxs("span",{className:"flex align-center justify-end gap-4",children:[l.jsx("span",{children:E1(h.unlockDate)}),l.jsx(dg,{content:A1(h.unlockDate),align:"center",maxWidth:120})]})}),l.jsx("td",{className:"td td-right td-mono td-mono-strong text-primary col-value",children:n(Qe(g))})]},`supply-${v}`)})}),l.jsx(oo,{totalValue:s,itemsCount:r.length,columns:["amount","unlock","value"]})]})}),o.length>0&&l.jsx("div",{className:"table-section",children:l.jsxs("table",{className:"table-unified text-primary",children:[l.jsx(_r,{columns:["amount"],columnDefs:null,labels:{token:"Governance",amount:"Amount"}}),l.jsx("tbody",{children:o.map((h,v)=>l.jsxs("tr",{className:"table-row table-row-hover tbody-divider",children:[l.jsx("td",{className:"td text-primary col-token",children:l.jsx("span",{className:"flex align-center gap-8",children:l.jsx(rn,{tokens:[h],size:24,showChain:!1,getChainIcon:g=>{}})})}),l.jsx("td",{className:"td td-right td-mono text-primary col-amount",children:ir(h)})]},`governance-${v}`))}),l.jsx(oo,{totalValue:a,itemsCount:o.length,columns:["amount"]})]})})]})};function T1(e){const t=[];return e.forEach(n=>{var i;const r=((i=n.position)==null?void 0:i.tokens)||n.tokens||[];sg(r).forEach(s=>{t.push({...s,positionKey:us(n)})})}),{depositedTokens:t}}const L1=({items:e=[],showMetrics:t=!0})=>{const{maskValue:n}=In(),{depositedTokens:r}=R.useMemo(()=>T1(e),[e]),o=R.useMemo(()=>r.reduce((c,u)=>{var d;const f=parseFloat(String(((d=u.financials)==null?void 0:d.totalPrice)||u.totalPrice||u.totalValueUsd||0))||0;return c+f},0),[r]),i=e.length,s=un?un():0,a=s>0?Xn(o,s):"0%";return!e||e.length===0?null:l.jsxs("div",{className:"deposit-tables-wrapper flex-col gap-12",children:[t&&l.jsxs("div",{className:"mini-metrics",children:[l.jsx(ct,{label:"Positions",value:i}),l.jsx(ct,{label:"Portfolio %",value:a})]}),r.length>0&&l.jsx("div",{className:"table-section",children:l.jsxs("table",{className:"table-unified text-primary",children:[l.jsx(_r,{columns:["amount","value"],columnDefs:null,labels:{token:"Deposited",amount:"Amount",value:"Value"}}),l.jsx("tbody",{children:r.map((c,u)=>{var d;const f=parseFloat(String(((d=c.financials)==null?void 0:d.totalPrice)||c.totalPrice||c.totalValueUsd||0))||0;return l.jsxs("tr",{className:"table-row table-row-hover tbody-divider",children:[l.jsx("td",{className:"td text-primary col-token",children:l.jsx("span",{className:"flex align-center gap-8",children:l.jsx(rn,{tokens:[c],size:24,showChain:!1,showName:!0,getChainIcon:h=>{}})})}),l.jsx("td",{className:"td td-right td-mono text-primary col-amount",children:ir(c)}),l.jsx("td",{className:"td td-right td-mono td-mono-strong text-primary col-value",children:n(Qe(f))})]},`deposit-${u}`)})}),l.jsx(oo,{totalValue:o,itemsCount:r.length,columns:["amount","value"]})]})})]})},R1=({getLiquidityPoolsData:e,getLendingAndBorrowingData:t,getStakingData:n,getLockingData:r,getDepositingData:o,selectedChains:i,isAllChainsSelected:s,getCanonicalFromObj:a,filterLendingDefiTokens:c,filterStakingDefiTokens:u,showLendingDefiTokens:f,showStakingDefiTokens:d,setShowLendingDefiTokens:h,setShowStakingDefiTokens:v,protocolExpansions:g,toggleProtocolExpansion:x,calculatePercentage:w,getTotalPortfolioValue:p,maskValue:m,theme:y})=>{const k=typeof window<"u"?window.innerWidth:1200,[z,T]=ye.useState(k);ye.useEffect(()=>{const O=()=>T(typeof window<"u"?window.innerWidth:k);return typeof window<"u"&&window.addEventListener("resize",O),()=>{typeof window<"u"&&window.removeEventListener("resize",O)}},[]);const{getIcon:C}=Is(),P=n(),M=r(),D=typeof o=="function"?o():[],ie=[...e(),...t(),...P,...M,...D];if(ie.length===0)return null;const X=_i(ie);return l.jsx("div",{children:X.map((O,_)=>{var Zn;const I=O.positions.filter(te=>{var $e,F;if(te.type==="LiquidityPool")return!0;const me=((($e=te.position)==null?void 0:$e.label)||((F=te.position)==null?void 0:F.name)||te.label||"").toString().toLowerCase();return me.includes("liquidity")||me.includes("pool")}),L=O.positions.filter(te=>{var $e,F;return((($e=te.position)==null?void 0:$e.label)||((F=te.position)==null?void 0:F.name)||te.label||"").toString().toLowerCase().includes("staking")}),N=O.positions.filter(te=>{var U,B;if(te.type==="Locking")return!0;const me=(((U=te.position)==null?void 0:U.label)||((B=te.position)==null?void 0:B.name)||te.label||"").toString().toLowerCase(),$e=me.includes("lock")||me.includes("vesting"),F=me.includes("deposit");return $e&&F?!1:$e}),S=O.positions.filter(te=>te.type==="Depositing"),b=O.positions.filter(te=>{var $e,F;if(te.type==="LiquidityPool"||te.type==="Locking"||te.type==="Depositing")return!1;const me=((($e=te.position)==null?void 0:$e.label)||((F=te.position)==null?void 0:F.name)||te.label||"").toString().toLowerCase();return!me.includes("liquidity")&&!me.includes("pool")&&!me.includes("staking")&&!me.includes("lock")&&!me.includes("vesting")&&!me.includes("deposit")}),A=te=>{if(!i||s)return!0;const me=te.position||te,$e=a(me)||a(te);if($e&&i.has($e))return!0;const F=Array.isArray(me.tokens)?me.tokens:[];for(let U=0;U<F.length;U++){const B=a(F[U])||$e;if(B&&i.has(B))return!0}return!1},E=te=>!te||te.length===0?[]:te.filter(me=>A(me)).map(me=>{if(!i||s)return me;const $e=me.position?{...me,position:{...me.position}}:{...me},F=$e.position||$e,B=(Array.isArray(F.tokens)?F.tokens:[]).filter(V=>{const oe=a(V)||a(F)||a(me);return oe&&i.has(oe)});return F.tokens&&(F.tokens=B),$e});if(i&&!s&&!O.positions.some(me=>A(me)))return null;const $=E(I),he=E(L),de=E(N),ve=E(S),Fe=E(b);if(!$.length&&!he.length&&!de.length&&!ve.length&&!Fe.length)return null;const Q=$.reduce((te,me)=>{var F;const $e=me.position||me;return te+(((F=$e.tokens)==null?void 0:F.reduce((U,B)=>U+(parseFloat(B.totalPrice)||0),0))||0)},0),_e=he.reduce((te,me)=>{const F=(Array.isArray(me.tokens)?u(me.tokens,d):[]).reduce((U,B)=>U+Math.max(parseFloat(B.totalPrice)||0,0),0);return te+F},0),Y=de.reduce((te,me)=>{const F=(me.position||me).tokens||[];return te+F.reduce((U,B)=>{var V;return U+(parseFloat(((V=B.financials)==null?void 0:V.totalPrice)||B.totalPrice||0)||0)},0)},0),re=ve.reduce((te,me)=>{const F=(me.position||me).tokens||[];return te+F.reduce((U,B)=>{var V;return U+(parseFloat(((V=B.financials)==null?void 0:V.totalPrice)||B.totalPrice||0)||0)},0)},0),Ce=Fe.reduce((te,me)=>{const F=(Array.isArray(me.tokens)?c(me.tokens,f):[]).reduce((U,B)=>{var se;const V=(B.type||"").toLowerCase(),oe=Math.abs(parseFloat(B.totalPrice)||0);if(V==="borrowed"||V==="borrow"||V==="debt")return U-oe;if(!V){const J=(((se=me==null?void 0:me.position)==null?void 0:se.label)||(me==null?void 0:me.label)||"").toLowerCase();if(J.includes("borrow")||J.includes("debt"))return U-oe}return U+oe},0);return te+F},0),fe=[];let De=0;$.length>0&&$.forEach(te=>{if(te.tokens&&Array.isArray(te.tokens)){const me=te.tokens.filter(Yx);De+=Xx(me)}});let Be=null,dt=0,zt=null,Pt=null;if(Fe.length>0){zt=Fe.map(V=>mc(V)).find(V=>V!=null&&isFinite(V))||null;const te=Fe.map(V=>({...V,tokens:Array.isArray(V.tokens)?c(V.tokens,f).map(oe=>{const se=V.additionalData||V.AdditionalData;return se&&(se.isCollateral===!0||se.IsCollateral===!0)&&oe.isCollateral!==!0&&oe.IsCollateral!==!0?{...oe,isCollateral:!0}:oe}):[]})),me=ag(te);Be={supplied:me.supplied||[],borrowed:me.borrowed||[],rewards:me.rewards||[],healthFactor:zt},dt=Be.rewards.reduce((V,oe)=>V+(parseFloat(oe.totalPrice)||0),0);let $e=0,F=0,U=0;Fe.forEach(V=>{var se;const oe=(se=V.additionalData)==null?void 0:se.apy;(V.tokens||[]).forEach(J=>{var G;const ke=parseFloat(J.totalPrice||((G=J.financials)==null?void 0:G.totalPrice)||J.totalValueUsd||J.totalValue||0);oe!=null&&!isNaN(oe)&&ke>0&&(J.type==="Supplied"?($e+=ke,U+=oe*ke):J.type==="Borrowed"&&(F+=ke,U+=oe*ke))})});const B=$e-F;B>0&&(Pt=U/B)}let lt=null,Wt=0;if(he.length>0){const te=he.map($e=>({...$e,tokens:Array.isArray($e.tokens)?u($e.tokens,d):[]})),me=t1(te);lt={staked:me.staked||[],rewards:me.rewards||[]},Wt=lt.rewards.reduce(($e,F)=>$e+(parseFloat(F.totalPrice)||0),0)}const _t=te=>{if(!te||typeof te!="object")return;const me=te.chainId||te.chainID||te.chain_id||te.chain||te.networkId||te.network||te.chainName;if(me)return me;const $e=te.protocol;if($e&&typeof $e=="object")return $e.chainId||$e.chainID||$e.chain||$e.networkId||$e.network||$e.chainName;for(const F in te)if(Object.prototype.hasOwnProperty.call(te,F)&&/(chain|network)/i.test(F)){const U=te[F];if(U&&(typeof U=="string"||typeof U=="number"))return U}},gt=((Zn=O==null?void 0:O.positions)==null?void 0:Zn[0])||null,Tt=gt&&(gt.position||gt);let sn=_t(O==null?void 0:O.protocol)||_t(Tt);if(!sn&&Tt&&Array.isArray(Tt==null?void 0:Tt.tokens))for(let te=0;te<Tt.tokens.length;te++){const me=_t(Tt.tokens[te]);if(me){sn=me;break}}const kn=sn?C(sn):void 0,Gt=O.protocol.logoURI||O.protocol.logo?l.jsxs("div",{style:{position:"relative",width:22,height:22},children:[l.jsx("img",{src:O.protocol.logoURI||O.protocol.logo,alt:O.protocol.name,style:{width:22,height:22,borderRadius:"50%",border:`1px solid ${y.border}`,display:"block"},onError:te=>te.currentTarget.style.display="none"}),kn&&l.jsx("img",{src:kn,alt:"chain",style:{position:"absolute",top:-4,right:-4,width:12,height:12,borderRadius:"50%",border:`1px solid ${y.border}`,background:y.bgPanel},onError:te=>te.currentTarget.style.display="none"})]}):null,H=Be?Be.supplied.reduce((te,me)=>te+(parseFloat(me.totalPrice)||0),0)-Be.borrowed.reduce((te,me)=>te+(parseFloat(me.totalPrice)||0),0):Ce,ee=Q+_e+Y+re+H,Pe=Q+_e+Y+re+Math.max(H,0),Je=p(),Ye=Pe<=0?"0%":w(Pe,Je),ze=De+dt+Wt,st=[$.length>0?`Pools: ${$.length}`:null,Fe.length>0?`Lending: ${Fe.length}`:null,he.length>0?`Staking: ${he.length}`:null,de.length>0?`Locking: ${de.length}`:null,ve.length>0?`Depositing: ${ve.length}`:null].filter(Boolean).join("    "),$t=l.jsxs("div",{style:{padding:"6px 0"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 12px",cursor:"pointer",fontSize:13},children:[l.jsx("input",{type:"checkbox",checked:f,onChange:te=>h(te.target.checked)}),"Show internal lending tokens"]}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 12px",cursor:"pointer",fontSize:13},children:[l.jsx("input",{type:"checkbox",checked:d,onChange:te=>v(te.target.checked)}),"Show internal staking tokens"]})]}),Zt=$.length>0,Un=!!(Be&&(Be.supplied.length>0||Be.borrowed.length>0||Be.rewards.length>0));lt&&(lt.staked.length>0||lt.rewards.length>0);const fr=de.length>0,Mt=ve.length>0,pr=(()=>{const te=O.protocol.name||"";return/^Uniswap V3 \(/i.test(te)?"Uniswap V3":te})();return l.jsx(gg,{icon:Gt,title:pr,transparentBody:!0,renderHeaderMetrics:()=>{const te=[],me=Un&&!Zt,$e=me&&Pt!=null,F=me&&zt!=null;return te.push(l.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[l.jsx(ct,{label:"Percent",value:Ye||""}),st&&l.jsx("div",{className:"mini-metric-pill",children:st})]})),te.push(l.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:ze>0&&l.jsx(ct,{label:"Rewards",value:m(Qe(ze))})})),te.push(l.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:l.jsx(ct,{label:"Value",value:m(Qe(ee))})})),Zt&&te.push(l.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:l.jsx(ct,{label:"Fees 24h",value:(ze>0,"")})})),me&&te.push(l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:12},children:[F&&l.jsx(ct,{label:"Health Factor",value:zt.toFixed(2)}),$e&&l.jsx(ct,{label:"NET APY %",value:`${Pt>=0?"+":""}${Pt.toFixed(2)}%`})]})),{ratio:Zt?[2,1,1,1]:me?[2,1,1,1]:[2,1,1],cells:te}},metricsRatio:Zt?[2,1,1,1]:Un?[2,1,1,1]:[2,1,1],summaryColumns:null,renderSummaryCell:void 0,isExpanded:g[O.protocol.name]!==void 0?g[O.protocol.name]:!0,onToggle:()=>x(O.protocol.name),optionsMenu:$t,customContent:l.jsxs(l.Fragment,{children:[$&&$.length>0&&l.jsx(C1,{items:$}),Be&&(Be.supplied.length>0||Be.borrowed.length>0||Be.rewards.length>0)&&l.jsx(b1,{supplied:Be.supplied,borrowed:Be.borrowed,rewards:Be.rewards,healthFactor:Be.healthFactor,netApy:Pt}),lt&&(lt.staked.length>0||lt.rewards.length>0)&&l.jsx(StakingTables,{staked:lt.staked,rewards:lt.rewards}),fr&&l.jsx(N1,{items:de}),Mt&&l.jsx(L1,{items:ve}),fe.length>0&&l.jsx(g1,{icon:null,title:null,rightValue:null,tables:fe.filter(te=>!["Supplied","Borrowed","Rewards"].includes(te.subtitle))})]})},O.protocol.name)})})},Z=Object.freeze({Unknown:0,Wallet:1,LiquidityPool:2,LendingAndBorrowing:3,Staking:4,Token:5,Group:6,Protocol:7,Depositing:8,Locking:9,Other:50}),xr=Object.freeze({Token:0,Protocol:1,Group:2,TotalWallet:3}),I1={[Z.Wallet]:"Wallet",[Z.LiquidityPool]:"Liquidity Pools",[Z.LendingAndBorrowing]:"Lending Position",[Z.Staking]:"Staking Position",[Z.Depositing]:"Depositing Position",[Z.Locking]:"Locking Position",[Z.Group]:"Group",[Z.Protocol]:"Protocol",[Z.Token]:"Token",[Z.Other]:"Other"};function F1(e){return I1[e]||"Unknown"}function df(e,{decimals:t=2,trimZeros:n=!1,sign:r=!1}={}){const o=Number(e)||0,i=o.toFixed(t);let s=i;return n&&(s=parseFloat(i).toString()),r&&o>0&&(s="+"+s),s+"%"}function z1(e,{decimals:t=2,sign:n=!1}={}){const r=Number(e)||0,i=Math.abs(r).toLocaleString("en-US",{minimumFractionDigits:t,maximumFractionDigits:t}),s=r<0?"-$":"$";return(n&&r>0?"+":"")+s+i}function _1({title:e,isExpanded:t,onToggle:n,columns:r={},leftValue:o,leftLabel:i,middleValue:s="",middleLabel:a="",rightValue:c,rightLabel:u,children:f,headerActions:d=null,optionsMenu:h=null,isNested:v=!1,showSummary:g=!0,variant:x="card"}){const[w,p]=R.useState(!1),m=typeof t=="boolean",[y,k]=R.useState(()=>m?!!t:!0),z=m?!!t:y,{theme:T}=Ct(),P=(()=>{if(Object.keys(r).length>0)return r;const I={};return(o!==void 0||i)&&(I.left={label:i,value:o,flex:1}),(s!==void 0||a)&&(I.middle={label:a,value:s,flex:1}),(c!==void 0||u)&&(I.right={label:u,value:c,flex:1,highlight:!0}),I})();R.useEffect(()=>{const I=L=>{w&&p(!1)};return w&&document.addEventListener("click",I),()=>{document.removeEventListener("click",I)}},[w]);const M="10px 14px",D="16px",X=(()=>{const I=Object.entries(P);return I.length?I.map(([L,N])=>{const S=[];return N.label&&N.value!==void 0&&N.value!==null&&N.value!==""?S.push(`${N.label}: ${N.value}`):N.label&&(N.value===void 0||N.value===null||N.value==="")?S.push(N.label):!N.label&&N.value!==void 0&&N.value!==null&&N.value!==""&&S.push(String(N.value)),{key:L,text:S.join(" "),highlight:!!N.highlight}}).filter(L=>L.text):[]})(),O=(()=>{if(!X.length)return[];const I=[],L=[],N=[],S=[];return X.forEach(b=>{const A=b.text||"";/%/.test(A)&&!/tokens?/i.test(A)?I.push(b):/tokens?/i.test(A)?L.push(b):/\$/.test(A)?N.push(b):S.push(b)}),[...I,...L,...N,...S]})(),_=x==="flat";return l.jsx("div",{style:{marginTop:_?0:12,marginBottom:_?0:12},children:l.jsxs("div",{className:"overflow-hidden",style:{border:_?"0":`1px solid ${T.tableBorder||T.border}`,borderRadius:_?0:10,background:_?"transparent":T.bgPanelAlt||T.bgPanel,transition:"border-color .25s, background-color .25s"},children:[l.jsxs("div",{className:"flex items-center justify-between",style:{padding:_?"0 0 8px 0":M,cursor:"pointer",userSelect:"none",borderBottom:_&&g&&z?`1px solid ${T.tableBorder||T.border}`:"0"},onClick:I=>{n?n(I):k(L=>!L)},children:[l.jsx("span",{style:{fontWeight:_?600:"bold",fontSize:_?14:D,color:T.textPrimary},children:e}),l.jsx("span",{style:{fontSize:12,fontFamily:"monospace",color:T.textSecondary},children:z?"":"+"})]}),g&&O.length>0&&l.jsxs("div",{style:{display:"flex",alignItems:"center",flexWrap:"nowrap",gap:12,padding:_?"0 0 8px 0":"4px 14px 8px 14px",borderTop:_?"0":`1px solid ${T.tableBorder||T.border}`,fontSize:13,background:z||_?"transparent":T.bgPanel||"transparent",opacity:z?1:.85},children:[l.jsx("div",{style:{display:"flex",flexWrap:"nowrap",gap:12,alignItems:"center",flex:1,minWidth:0},children:O.map((I,L)=>l.jsx("span",{style:{color:I.highlight?T.textPrimary:T.textSecondary,fontWeight:I.highlight?600:500,background:I.highlight&&T.primarySubtle||"transparent",padding:I.highlight?"2px 6px":0,borderRadius:6,whiteSpace:"nowrap"},children:L===0?`-${I.text}`:I.text},I.key))}),h&&l.jsxs("div",{style:{position:"relative"},children:[l.jsxs("button",{style:{background:"none",border:"none",color:T.textSecondary,cursor:"pointer",padding:"2px 6px",fontSize:12,borderRadius:6,display:"flex",alignItems:"center",gap:4},onClick:I=>{I.stopPropagation(),p(L=>!L)},children:["Options",l.jsxs("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",children:[l.jsx("circle",{cx:"12",cy:"5",r:"2",fill:T.textSecondary}),l.jsx("circle",{cx:"12",cy:"12",r:"2",fill:T.textSecondary}),l.jsx("circle",{cx:"12",cy:"19",r:"2",fill:T.textSecondary})]})]}),w&&l.jsx("div",{style:{position:"absolute",top:"100%",right:0,background:T.bgPanel,border:`1px solid ${T.border}`,borderRadius:8,padding:"8px 0",minWidth:200,zIndex:50},onClick:I=>I.stopPropagation(),children:h})]})]}),z&&d&&!_&&l.jsx("div",{style:{padding:"4px 14px 8px 14px",borderTop:`1px solid ${T.tableBorder||T.border}`,display:"flex",justifyContent:"flex-end"},children:d}),z&&l.jsx("div",{style:{padding:_?0:v?"0 8px 8px 8px":"0 14px 14px 14px",background:"transparent"},children:f})]})})}function ff({icon:e,label:t,onClick:n,size:r=32,variant:o="neutral"}){const{theme:i}=Ct(),s={neutral:{bg:i.bgPanel,border:i.border,color:i.textPrimary,hoverBg:i.bgPanelAlt||i.bgPanel,hoverBorder:i.border},danger:{bg:"rgba(239,68,68,0.12)",border:"rgba(239,68,68,0.35)",color:"#ef4444",hoverBg:"rgba(239,68,68,0.18)",hoverBorder:"rgba(239,68,68,0.55)"}},a=s[o]||s.neutral;return l.jsx("button",{onClick:n,"aria-label":t,title:t,style:{width:r,height:r,borderRadius:10,border:`1px solid ${a.border}`,background:a.bg,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",padding:0,color:a.color,transition:"background .18s, border-color .18s, color .18s"},onMouseEnter:c=>{c.currentTarget.style.background=a.hoverBg,c.currentTarget.style.borderColor=a.hoverBorder},onMouseLeave:c=>{c.currentTarget.style.background=a.bg,c.currentTarget.style.borderColor=a.border},children:e})}function $1({open:e,editing:t=!1,title:n=t?"Edit Rebalancing Item":"Add Rebalancing Item",description:r="Define a target allocation using a token, protocol, group or total wallet reference.",assetType:o,setAssetType:i,assetId:s,setAssetId:a,assetIds:c,setAssetIds:u,assetOptions:f,referenceType:d,setReferenceType:h,referenceValue:v,setReferenceValue:g,referenceOptions:x,note:w,setNote:p,ASSET_TYPE_OPTIONS:m,RebalanceReferenceType:y,ITEM_TYPES:k,AssetDropdown:z,TokenDisplay:T,tokensList:C,protocolsList:P,getOptionsForType:M,canAdd:D,isDuplicateCandidate:ie,onCancel:X,onSubmit:O,loading:_=!1,failedCount:I=0,timedOutCount:L=0,theme:N}){const S=R.useRef(null),b=R.useRef(null),A=R.useRef(null);return R.useEffect(()=>{if(!e)return;const E=$=>{var he;if($.key==="Escape"&&($.stopPropagation(),X()),$.key==="Tab"){const de=(he=S.current)==null?void 0:he.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(!de||de.length===0)return;const ve=Array.from(de).filter(_e=>!_e.hasAttribute("disabled"));if(ve.length===0)return;const Fe=ve[0],Q=ve[ve.length-1];$.shiftKey&&document.activeElement===Fe?($.preventDefault(),Q.focus()):!$.shiftKey&&document.activeElement===Q&&($.preventDefault(),Fe.focus())}};return document.addEventListener("keydown",E,!0),()=>document.removeEventListener("keydown",E,!0)},[e,X]),R.useEffect(()=>{if(e)A.current=document.activeElement,setTimeout(()=>{var E;(E=b.current)==null||E.focus()},0);else if(A.current)try{A.current.focus()}catch{}},[e]),e?l.jsx("div",{className:"modal-overlay",role:"presentation",children:l.jsxs("div",{className:"modal-card rebalance-dialog",role:"dialog","aria-modal":"true","aria-labelledby":"rebalanceDialogTitle","aria-describedby":"rebalanceDialogDesc",ref:S,style:{maxWidth:860,width:"min(96vw,860px)",padding:24},children:[l.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:20},children:[l.jsxs("div",{style:{flex:1,minWidth:0},children:[l.jsx("h2",{id:"rebalanceDialogTitle",style:{margin:0,fontSize:20,fontWeight:600,letterSpacing:".5px"},children:n}),l.jsx("p",{id:"rebalanceDialogDesc",style:{margin:"6px 0 14px",fontSize:13,lineHeight:1.5,opacity:.85},children:r})]}),l.jsx("button",{type:"button",onClick:X,"aria-label":"Close dialog",style:{background:"transparent",border:"1px solid var(--mw-border,var(--app-border))",width:34,height:34,borderRadius:8,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:20,lineHeight:1,color:"var(--mw-text-secondary,var(--app-text-secondary))"},children:""})]}),l.jsxs("div",{className:"rebalance-form-grid",style:{marginTop:4},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("div",{className:"text-secondary label-sm",children:"Asset Type"}),l.jsxs("select",{ref:b,value:o,onChange:E=>i(E.target.value===""?"":Number(E.target.value)),className:"input-base",title:"Choose the category of asset you want to rebalance",children:[l.jsx("option",{value:"",children:"Select asset type"}),m.map(E=>l.jsx("option",{value:E.value,children:E.label},E.value))]}),o===""&&l.jsx("div",{style:{marginTop:4,fontSize:11,color:"var(--mw-text-secondary,var(--app-text-secondary))",opacity:.7},children:" Wallet = tokens, Liquidity = LP positions, Lending = lend/borrow, Staking = staked assets"})]}),l.jsxs("div",{className:"form-group",children:[l.jsxs("div",{className:"text-secondary label-sm",children:["Asset",c.length>0&&` (${c.length} selected)`]}),l.jsxs("div",{style:{display:"flex",gap:8,alignItems:"flex-start"},children:[l.jsx("div",{style:{flex:1},children:l.jsx(z,{theme:N,assetType:o,value:s,options:f,onChange:a,tokensList:C,placeholder:"Select asset"})}),s&&l.jsx("button",{type:"button",onClick:()=>{s&&!c.some(E=>E.type===o&&E.id===s)&&(u([...c,{type:o,id:s}]),a(""))},style:{background:"var(--mw-accent,var(--app-accent))",color:"white",border:"none",padding:"0 16px",height:38,borderRadius:8,cursor:"pointer",fontSize:13,fontWeight:500,whiteSpace:"nowrap"},title:"Add asset to group",children:"+ Add"})]}),c.length>0&&l.jsx("div",{style:{marginTop:8,display:"flex",flexWrap:"wrap",gap:6},children:c.map((E,$)=>{var re;const de=(M?M(E.type):f).find(Ce=>Ce.id===E.id),ve=(de==null?void 0:de.label)||E.id,Fe=(de==null?void 0:de.raw)||{};let Q=[],_e=null;const Y=typeof E.type=="number"?E.type:parseInt(E.type);if(Y===1)Q=[Fe];else if(Y===3){const Ce=Fe.position||Fe;if(Array.isArray(Ce.tokens)&&Ce.tokens.length>0){Q=Ce.tokens.slice(0,2).map(De=>(De==null?void 0:De.token)||De).filter(Boolean);const fe=Ce.tokens[0];(fe==null?void 0:fe.type)==="borrowed"||(fe==null?void 0:fe.type)==="borrow"||(fe==null?void 0:fe.type)==="debt"?_e="borrow":_e="supply"}}else if(Y===2||Y===4){const Ce=Fe.position||Fe;if(Array.isArray(Ce.tokens)&&Ce.tokens.length>0)Q=Ce.tokens.slice(0,2).map(fe=>(fe==null?void 0:fe.token)||fe).filter(Boolean);else if(Array.isArray((re=Ce.pool)==null?void 0:re.tokens)&&Ce.pool.tokens.length>0)Q=Ce.pool.tokens.slice(0,2).map(fe=>(fe==null?void 0:fe.token)||fe).filter(Boolean);else{const fe=Ce.token0||Ce.tokenA||Ce.baseToken||Ce.primaryToken,De=Ce.token1||Ce.tokenB||Ce.quoteToken||Ce.secondaryToken;fe&&Q.push((fe==null?void 0:fe.token)||fe),De&&Q.push((De==null?void 0:De.token)||De),Q=Q.filter(Boolean)}}return l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,padding:"0 10px",height:38,background:"var(--mw-bg-panel,var(--app-bg-panel))",border:"1px solid var(--mw-border,var(--app-border))",borderRadius:8,fontSize:13},children:[l.jsx("span",{style:{fontSize:14,opacity:.7},title:Y===1?"Wallet":Y===2?"Liquidity Pool":Y===3?"Lending Position":Y===4?"Staking Position":"Asset",children:Y===1?"":Y===2?"":Y===3?"":Y===4?"":""}),Q.length>0&&T&&l.jsx(T,{tokens:Q,showName:!1,showText:!1,size:18,gap:6,showChain:!0}),l.jsx("span",{children:ve}),_e&&l.jsx("span",{style:{fontSize:10,padding:"2px 6px",borderRadius:4,fontWeight:600,marginLeft:4,background:_e==="borrow"?"rgba(239, 68, 68, 0.15)":"rgba(34, 197, 94, 0.15)",color:_e==="borrow"?"rgb(239, 68, 68)":"rgb(34, 197, 94)"},children:_e==="borrow"?"BORROW":"SUPPLY"}),l.jsx("button",{type:"button",onClick:()=>u(c.filter(Ce=>!(Ce.type===E.type&&Ce.id===E.id))),style:{background:"transparent",border:"none",color:"var(--mw-text-secondary,var(--app-text-secondary))",cursor:"pointer",padding:0,fontSize:16,lineHeight:1,width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center"},title:"Remove asset",children:""})]},`${E.type}-${E.id}-${$}`)})})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("div",{className:"text-secondary label-sm",children:"Reference Type"}),l.jsxs("select",{value:d,onChange:E=>h(E.target.value),className:"input-base",children:[l.jsx("option",{value:"",children:"Select reference type"}),Object.values(y).map(E=>l.jsx("option",{value:E,children:E},E))]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("div",{className:"text-secondary label-sm",children:"Reference Value"}),d===y.TotalWallet?l.jsx("div",{className:"input-static",children:""}):d===y.Token?l.jsx(z,{theme:N,assetType:k.WALLET,value:v,options:C,onChange:g,tokensList:C,placeholder:"Select value"}):d===y.Protocol?l.jsx(z,{theme:N,assetType:"PROTOCOL",value:v,options:P,onChange:g,placeholder:"Select value"}):l.jsxs("select",{value:v,onChange:E=>g(E.target.value),className:"input-base",children:[l.jsx("option",{value:"",children:"Select value"}),x.map((E,$)=>l.jsx("option",{value:E.id,children:E.label},`${E.id}-${$}`))]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("div",{className:"text-secondary label-sm",children:"Note"}),l.jsx("select",{value:w,onChange:E=>p(Number(E.target.value)),className:"input-base",children:Array.from({length:101},(E,$)=>$).map(E=>l.jsx("option",{value:E,children:E},E))})]})]}),l.jsx("hr",{style:{border:"none",height:1,background:"var(--mw-border,var(--app-border))",margin:"20px 0 14px"}}),l.jsxs("footer",{className:"dialog-actions",style:{marginTop:8},children:[l.jsx("div",{className:`label-sm ${ie?"text-secondary":"text-transparent"}`,style:{minHeight:16},children:ie?"This item is already in the list.":" "}),l.jsxs("div",{className:"flex gap-8",children:[l.jsx("button",{type:"button",className:"btn btn--outline",onClick:X,children:"Cancel"}),l.jsx("button",{type:"button",className:"btn btn--primary",disabled:!D||ie||_,onClick:()=>{!ie&&D&&O()},children:_?"Saving":t?"Save":"Add"})]})]})]})}):null}function vr({width:e,height:t,circle:n=!1,inline:r=!1,className:o=""}){const i={};e&&(i.width=typeof e=="number"?e+"px":e),t&&(i.height=typeof t=="number"?t+"px":t),n&&(i.borderRadius="50%");const s=["skeleton",r?"inline":"",o].filter(Boolean).join(" ");return l.jsx("span",{className:s,style:i,"aria-hidden":"true"})}const tt={Token:"Token",Protocol:"Protocol",Group:"Group",TotalWallet:"TotalWallet"},pf=[{value:Z.Wallet,label:"Wallet"},{value:Z.LiquidityPool,label:"Liquidity Pools"},{value:Z.LendingAndBorrowing,label:"Lending Position"},{value:Z.Staking,label:"Staking Position"},{value:Z.Depositing,label:"Depositing Position"},{value:Z.Locking,label:"Locking Position"},{value:Z.Group,label:"Group"}],hf=[{value:Z.Wallet,label:"Wallet"},{value:Z.LiquidityPool,label:"Liquidity Pools"},{value:Z.LendingAndBorrowing,label:"Lending Position"},{value:Z.Staking,label:"Staking Position"},{value:Z.Depositing,label:"Depositing Position"},{value:Z.Locking,label:"Locking Position"},{value:Z.Group,label:"Group"}];function M1({walletTokens:e=[],getLiquidityPoolsData:t,getLendingAndBorrowingData:n,getStakingData:r,getDepositingData:o,getLockingData:i,theme:s,account:a,selectedWalletGroupId:c,initialSavedKey:u,initialSavedCount:f,initialSavedItems:d,onRebalancesSaved:h}){const{theme:v}=Ct(),g=s||v,{maskValue:x}=In(),w=ye.useCallback(F=>{if(!F||typeof F!="object")return"unknown";const U=F.chain||F.chainId||F.chainID||F.network||F.chainName||F.chain_name;if(U==null)return"unknown";const B=String(U).trim().toLowerCase();return{1:"eth",eth:"eth",ethereum:"eth",mainnet:"eth",erc20:"eth",137:"polygon",polygon:"polygon",matic:"polygon",avalanche:"avalanche",43114:"avalanche",avax:"avalanche",10:"optimism",optimism:"optimism",op:"optimism",56:"bsc",bsc:"bsc",bnb:"bsc",binance:"bsc","binance smart chain":"bsc","bnb smart chain":"bsc",250:"fantom",fantom:"fantom",ftm:"fantom",base:"base",84531:"base"}[B]||B},[]),p=ye.useMemo(()=>(e||[]).map((F,U)=>{const B=F.token||F,V=B.contractAddress||B.tokenAddress||B.symbol||B.name||"token",oe=w(B),se=`${V}#${oe||U}`,J=B.symbol||B.name||V;return{id:se,label:J,raw:B}}),[e,w]),m=ye.useMemo(()=>[{id:"group:stablecoins",label:"Stablecoins",members:["USDC","USDT","DAI","FRAX","LUSD"]},{id:"group:lending",label:"Lending Positions",members:[]},{id:"group:liquidity",label:"Liquidity Pools",members:[]},{id:"group:staking",label:"Staking Positions",members:[]},{id:"group:defi",label:"DeFi Positions",members:[]}],[]),y=ye.useMemo(()=>m.map(F=>({id:F.id,label:F.label,raw:F})),[m]),k=(!e||e.length===0)&&!!a,z=ye.useMemo(()=>Array.from({length:4}),[]),T=ye.useMemo(()=>((t==null?void 0:t())||[]).map((U,B)=>{const V=U.position||U;let oe=(V==null?void 0:V.name)||(U==null?void 0:U.name);if(!oe&&Array.isArray(V==null?void 0:V.tokens)){const ke=V.tokens.map(G=>(G==null?void 0:G.symbol)||(G==null?void 0:G.name)).filter(Boolean);ke.length>=2&&(oe=`${ke[0]}/${ke[1]}`)}const se=(V==null?void 0:V.id)||(U==null?void 0:U.id)||oe||`pool-${B}`;return{id:`${String(se)}#${B}`,label:oe||String(se),raw:U}}),[t]),C=ye.useMemo(()=>((n==null?void 0:n())||[]).map((U,B)=>{const V=U.position||U,oe=(V==null?void 0:V.id)||(U==null?void 0:U.id)||`lend-${B}`,se=`${String(oe)}#${B}`;let J=(V==null?void 0:V.name)||(U==null?void 0:U.name);if(!J){const ke=Array.isArray(V==null?void 0:V.tokens)?V.tokens:[],G=pe=>pe&&pe.token?pe.token:pe,ae=ke.filter(pe=>{const Ne=((pe==null?void 0:pe.type)||"").toString().toLowerCase();return Ne==="supplied"||Ne==="supply"||Ne==="deposit"||Ne==="collateral"}).map(G),Ae=(ae.length?ae:ke.map(G)).map(pe=>(pe==null?void 0:pe.symbol)||(pe==null?void 0:pe.name)).filter(Boolean);Ae.length>=2?J=`${Ae[0]}/${Ae[1]}`:Ae.length===1&&(J=Ae[0])}return J||(J=`Lending #${B+1}`),{id:se,label:J,raw:U}}),[n]),P=ye.useMemo(()=>((r==null?void 0:r())||[]).map((U,B)=>{const V=U.position||U,oe=(V==null?void 0:V.id)||(U==null?void 0:U.id)||`stake-${B}`,se=`${String(oe)}#${B}`,J=(V==null?void 0:V.name)||(U==null?void 0:U.name)||`Staking #${B+1}`;return{id:se,label:J,raw:U}}),[r]),M=ye.useMemo(()=>((o==null?void 0:o())||[]).map((U,B)=>{const V=U.position||U,oe=(V==null?void 0:V.id)||(U==null?void 0:U.id)||`deposit-${B}`,se=`${String(oe)}#${B}`,J=(V==null?void 0:V.name)||(V==null?void 0:V.label)||(U==null?void 0:U.name)||`Deposit #${B+1}`;return{id:se,label:J,raw:U}}),[o]),D=ye.useMemo(()=>((i==null?void 0:i())||[]).map((U,B)=>{const V=U.position||U,oe=(V==null?void 0:V.id)||(U==null?void 0:U.id)||`lock-${B}`,se=`${String(oe)}#${B}`,J=(V==null?void 0:V.name)||(V==null?void 0:V.label)||(U==null?void 0:U.name)||`Lock #${B+1}`;return{id:se,label:J,raw:U}}),[i]),ie=ye.useMemo(()=>[...(t==null?void 0:t())||[],...(n==null?void 0:n())||[],...(r==null?void 0:r())||[],...(o==null?void 0:o())||[],...(i==null?void 0:i())||[]],[t,n,r,o,i]),X=ye.useMemo(()=>{const F=new Map,U=B=>!B||typeof B!="object"?"":B.logo||B.logoURI||B.image||B.icon||B.logoUrl||B.logo_url||B.iconUrl||B.icon_url||"";return ie.forEach((B,V)=>{var J,ke,G;const oe=B.protocol||B.provider||B.platform||((J=B==null?void 0:B.position)==null?void 0:J.protocol),se=(typeof oe=="string"?oe:oe==null?void 0:oe.name)||(B==null?void 0:B.protocolName)||((ke=B==null?void 0:B.position)==null?void 0:ke.protocolName);if(se&&!F.has(se)){let ae="";typeof oe=="object"&&(ae=U(oe)),!ae&&B&&(ae=U(B)),!ae&&(B!=null&&B.position)&&(ae=U(B.position)),!ae&&((G=B==null?void 0:B.position)!=null&&G.protocol)&&(ae=U(B.position.protocol)),F.set(se,{id:se,label:se,raw:{logo:ae}})}}),Array.from(F.values())},[ie]),[O,_]=ye.useState(""),[I,L]=ye.useState(""),[N,S]=ye.useState([]),[b,A]=ye.useState(""),[E,$]=ye.useState(""),[he,de]=ye.useState(0),[ve,Fe]=ye.useState([]),[Q,_e]=ye.useState(!1),[Y,re]=ye.useState(null),[Ce,fe]=ye.useState(null),[De,Be]=ye.useState(!1),dt=ye.useMemo(()=>({[tt.Token]:xr.Token,[tt.Protocol]:xr.Protocol,[tt.Group]:xr.Group,[tt.TotalWallet]:xr.TotalWallet}),[]),zt=ye.useMemo(()=>({[Z.Unknown]:"Unknown",[Z.Wallet]:"Wallet",[Z.LiquidityPool]:"LiquidityPool",[Z.LendingAndBorrowing]:"LendingAndBorrowing",[Z.Staking]:"Staking",[Z.Depositing]:"Depositing",[Z.Locking]:"Locking",[Z.Token]:"Token",[Z.Group]:"Group",[Z.Protocol]:"Protocol",[Z.Other]:"Other"}),[]),Pt=ye.useMemo(()=>({Unknown:Z.Unknown,Wallet:Z.Wallet,LiquidityPool:Z.LiquidityPool,LendingAndBorrowing:Z.LendingAndBorrowing,Staking:Z.Staking,Depositing:Z.Depositing,Locking:Z.Locking,Token:Z.Token,Group:Z.Group,Protocol:Z.Protocol,Other:Z.Other}),[]),lt=ye.useMemo(()=>({[tt.Token]:"Token",[tt.Protocol]:"Protocol",[tt.Group]:"Group",[tt.TotalWallet]:"TotalWallet"}),[]),[Wt,_t]=ye.useState(!1),[gt,Tt]=ye.useState(null),sn=ye.useMemo(()=>{switch(O){case Z.Wallet:return p;case Z.LiquidityPool:return T;case Z.LendingAndBorrowing:return C;case Z.Staking:return P;case Z.Depositing:return M;case Z.Locking:return D;case Z.Group:return y;default:return[]}},[O,p,T,C,P,M,D,y]),kn=ye.useCallback(F=>{switch(F){case Z.Wallet:return p;case Z.LiquidityPool:return T;case Z.LendingAndBorrowing:return C;case Z.Staking:return P;case Z.Depositing:return M;case Z.Locking:return D;case Z.Group:return y;default:return[]}},[p,T,C,P,M,D,y]),Gt=ye.useMemo(()=>{switch(b){case tt.Token:return p;case tt.Protocol:return X;case tt.Group:return hf.map(F=>({id:String(F.value),label:F.label}));case tt.TotalWallet:return[];default:return[]}},[b,p,X]);ye.useEffect(()=>{gt||L("")},[O,gt]),ye.useEffect(()=>{gt||$("")},[b,gt]);const H=O!==""&&(I||N.length>0)&&b!==""&&(b===tt.TotalWallet||E);ye.useEffect(()=>{Fe(F=>{let U=!1;const B=F.map(V=>{if(V.assetType===98){U=!0;const oe=Z.Group;return{...V,assetType:oe,id:V.id.replace(/^98-/,`${oe}-`)}}return V});return U?B:F})},[]);const ee=()=>{var oe,se;if(!H)return;(oe=pf.find(J=>J.value===O))!=null&&oe.label||F1(O);const F=N.length>0?N:[{type:O,id:I}],U=F.map(J=>{var G;return((G=kn(J.type).find(ae=>ae.id===J.id))==null?void 0:G.label)||J.id}).join(" + "),B=b===tt.TotalWallet?"Total Wallet":((se=Gt.find(J=>J.id===E))==null?void 0:se.label)||E,V=`${F.map(J=>`${J.type}-${J.id}`).join(",")}-${b}-${E||"total"}`;Fe(J=>J.some(ke=>ke.id===V)?J:[...J,{id:V,assetType:O,assetIds:F,assetLabel:U,referenceType:b,referenceValue:E||null,referenceLabel:B,note:Number(he)||0}]),L(""),S([])},Pe=()=>{var oe;if(!H)return;const F=b===tt.TotalWallet?"Total Wallet":((oe=Gt.find(se=>se.id===E))==null?void 0:oe.label)||E,U=N.length>0?N:[{type:O,id:I}],B=U.map(se=>{var ke;return((ke=kn(se.type).find(G=>G.id===se.id))==null?void 0:ke.label)||se.id}).join(" + "),V=`${U.map(se=>`${se.type}-${se.id}`).join(",")}-${b}-${E||"total"}`;if(gt){if(ve.some(J=>J.id===V&&J.id!==gt))return;Fe(J=>J.map(ke=>ke.id===gt?{...ke,id:V,assetType:O,assetIds:U,assetLabel:B,referenceType:b,referenceValue:E||null,referenceLabel:F,note:Number(he)||0}:ke)),Tt(null)}else ee();_t(!1)},Je=F=>Fe(U=>U.filter(B=>B.id!==F));ye.useCallback(F=>!F||typeof F!="object"?"":F.logo||F.logoURI||F.image||F.icon||F.logoUrl||F.logo_url||F.iconUrl||F.icon_url||"",[]),g.bgPanel,`${g.border}`,g.textPrimary;const Ye=ye.useCallback(F=>{var oe;if(!F||typeof F!="object")return[];if(Array.isArray(F.tokens)&&F.tokens.length)return F.tokens;if(Array.isArray((oe=F.pool)==null?void 0:oe.tokens)&&F.pool.tokens.length)return F.pool.tokens;const U=F.token0||F.tokenA||F.baseToken||F.primaryToken,B=F.token1||F.tokenB||F.quoteToken||F.secondaryToken,V=[];return U&&V.push(U),B&&V.push(B),V},[]),ze=F=>{const U=Number(F);return isFinite(U)?U:0},st=ye.useCallback(F=>{var V;if(!F||typeof F!="object")return 0;const U=F.token||F,B=U.totalPrice??((V=U.financials)==null?void 0:V.totalPrice);return ze(B)},[]),$t=ye.useCallback((F,U)=>{var oe;const B=(((F==null?void 0:F.type)||(F==null?void 0:F.label)||"")+"").toLowerCase(),V=Math.abs(st(F));if(B.includes("borrow")||B.includes("debt"))return-V;if(!B){const se=((((oe=U==null?void 0:U.position)==null?void 0:oe.label)||(U==null?void 0:U.label)||"")+"").toLowerCase();if(se.includes("borrow")||se.includes("debt"))return-V}return V},[st]),Zt=ye.useMemo(()=>{const F=new Map;return ve.forEach(U=>{let B=0;(U.assetIds||(U.assetId?[{type:U.assetType,id:U.assetId}]:[])).forEach(oe=>{var ke,G,ae,be,Ae,pe,Ne,et,en,Et,mt;const se=oe.type,J=oe.id;if(se===Z.Wallet){const He=(ke=p.find(ne=>ne.id===J))==null?void 0:ke.raw;B+=st(He)}else if(se===Z.LiquidityPool){const He=(G=T.find(ce=>ce.id===J))==null?void 0:G.raw,ne=(He==null?void 0:He.position)||He,Se=Ye(ne).map(ce=>ce&&ce.token?ce.token:ce);Se.length?B+=Se.reduce((ce,Ee)=>ce+st(Ee),0):B+=ze((ne==null?void 0:ne.totalPrice)??(ne==null?void 0:ne.value)??((ae=ne==null?void 0:ne.financials)==null?void 0:ae.totalPrice))}else if(se===Z.LendingAndBorrowing){const He=(be=C.find(ce=>ce.id===J))==null?void 0:be.raw,ne=(He==null?void 0:He.position)||He,Se=Array.isArray(ne==null?void 0:ne.tokens)?ne.tokens:[];Se.length?B+=Se.reduce((ce,Ee)=>ce+$t(Ee,ne),0):B+=ze((ne==null?void 0:ne.totalPrice)??(ne==null?void 0:ne.value)??((Ae=ne==null?void 0:ne.financials)==null?void 0:Ae.totalPrice))}else if(se===Z.Staking){const He=(pe=P.find(ce=>ce.id===J))==null?void 0:pe.raw,ne=(He==null?void 0:He.position)||He,Se=ze((ne==null?void 0:ne.totalPrice)??(ne==null?void 0:ne.value)??((Ne=ne==null?void 0:ne.financials)==null?void 0:Ne.totalPrice));if(Se)B+=Se;else{const ce=Ye(ne).map(Ee=>Ee&&Ee.token?Ee.token:Ee);ce.length?B+=ce.reduce((Ee,Te)=>Ee+st(Te),0):B+=ze(ne==null?void 0:ne.balance)}}else if(se===Z.Depositing){const He=(et=M.find(ce=>ce.id===J))==null?void 0:et.raw,ne=(He==null?void 0:He.position)||He,Se=ze((ne==null?void 0:ne.totalPrice)??(ne==null?void 0:ne.value)??((en=ne==null?void 0:ne.financials)==null?void 0:en.totalPrice));if(Se)B+=Se;else{const ce=Ye(ne).map(Ee=>Ee&&Ee.token?Ee.token:Ee);ce.length?B+=ce.reduce((Ee,Te)=>Ee+st(Te),0):B+=ze(ne==null?void 0:ne.balance)}}else if(se===Z.Locking){const He=(Et=D.find(ce=>ce.id===J))==null?void 0:Et.raw,ne=(He==null?void 0:He.position)||He,Se=ze((ne==null?void 0:ne.totalPrice)??(ne==null?void 0:ne.value)??((mt=ne==null?void 0:ne.financials)==null?void 0:mt.totalPrice));if(Se)B+=Se;else{const ce=Ye(ne).map(Ee=>Ee&&Ee.token?Ee.token:Ee);ce.length?B+=ce.reduce((Ee,Te)=>Ee+st(Te),0):B+=ze(ne==null?void 0:ne.balance)}}else if(se!==Z.Group){if(se===Z.Group){const He=J;if(He==="group:liquidity")B+=T.reduce((ne,Se)=>{var we,rt;const ce=((we=Se.raw)==null?void 0:we.position)||Se.raw,Ee=Ye(ce).map(Ge=>Ge&&Ge.token?Ge.token:Ge);if(Ee.length)return ne+Ee.reduce((Ge,ft)=>Ge+st(ft),0);const Te=ze((ce==null?void 0:ce.totalPrice)??(ce==null?void 0:ce.value)??((rt=ce==null?void 0:ce.financials)==null?void 0:rt.totalPrice));return ne+Te},0);else if(He==="group:lending")B+=C.reduce((ne,Se)=>{var we,rt;const ce=((we=Se.raw)==null?void 0:we.position)||Se.raw,Ee=Array.isArray(ce==null?void 0:ce.tokens)?ce.tokens:[];if(Ee.length)return ne+Ee.reduce((Ge,ft)=>Ge+$t(ft,ce),0);const Te=ze((ce==null?void 0:ce.totalPrice)??(ce==null?void 0:ce.value)??((rt=ce==null?void 0:ce.financials)==null?void 0:rt.totalPrice));return ne+Te},0);else if(He==="group:staking")B+=P.reduce((ne,Se)=>{var we,rt;const ce=((we=Se.raw)==null?void 0:we.position)||Se.raw,Ee=ze((ce==null?void 0:ce.totalPrice)??(ce==null?void 0:ce.value)??((rt=ce==null?void 0:ce.financials)==null?void 0:rt.totalPrice));if(Ee)return ne+Ee;const Te=Ye(ce).map(Ge=>Ge&&Ge.token?Ge.token:Ge);return Te.length?ne+Te.reduce((Ge,ft)=>Ge+st(ft),0):ne+ze(ce==null?void 0:ce.balance)},0);else if(He==="group:defi"){const ne=T.reduce((Ee,Te)=>{var ft,qt;const we=((ft=Te.raw)==null?void 0:ft.position)||Te.raw,rt=Ye(we).map(xe=>xe&&xe.token?xe.token:xe);if(rt.length)return Ee+rt.reduce((xe,We)=>xe+st(We),0);const Ge=ze((we==null?void 0:we.totalPrice)??(we==null?void 0:we.value)??((qt=we==null?void 0:we.financials)==null?void 0:qt.totalPrice));return Ee+Ge},0),Se=C.reduce((Ee,Te)=>{var ft,qt;const we=((ft=Te.raw)==null?void 0:ft.position)||Te.raw,rt=Array.isArray(we==null?void 0:we.tokens)?we.tokens:[];if(rt.length)return Ee+rt.reduce((xe,We)=>xe+$t(We,we),0);const Ge=ze((we==null?void 0:we.totalPrice)??(we==null?void 0:we.value)??((qt=we==null?void 0:we.financials)==null?void 0:qt.totalPrice));return Ee+Ge},0),ce=P.reduce((Ee,Te)=>{var ft,qt;const we=((ft=Te.raw)==null?void 0:ft.position)||Te.raw,rt=ze((we==null?void 0:we.totalPrice)??(we==null?void 0:we.value)??((qt=we==null?void 0:we.financials)==null?void 0:qt.totalPrice));if(rt)return Ee+rt;const Ge=Ye(we).map(xe=>xe&&xe.token?xe.token:xe);return Ge.length?Ee+Ge.reduce((xe,We)=>xe+st(We),0):Ee+ze(we==null?void 0:we.balance)},0);B+=ne+Se+ce}else if(He==="group:stablecoins"){const ne=m.find(ce=>ce.id==="group:stablecoins"),Se=new Set(((ne==null?void 0:ne.members)||[]).map(ce=>ce.toUpperCase()));B+=p.reduce((ce,Ee)=>{var rt;const Te=((rt=Ee.raw)==null?void 0:rt.token)||Ee.raw,we=((Te==null?void 0:Te.symbol)||(Te==null?void 0:Te.name)||"").toUpperCase();return Se.has(we)?ce+st(Te):ce},0)}}}}),F.set(U.id,B)}),F},[ve,p,T,C,P,M,D,Ye,st,$t,m]),Un=ye.useMemo(()=>{const F=p.reduce((J,ke)=>J+st(ke.raw),0),U=T.reduce((J,ke)=>{var Ae,pe;const G=((Ae=ke.raw)==null?void 0:Ae.position)||ke.raw,ae=Ye(G).map(Ne=>Ne&&Ne.token?Ne.token:Ne);if(ae.length)return J+ae.reduce((Ne,et)=>Ne+st(et),0);const be=ze((G==null?void 0:G.totalPrice)??(G==null?void 0:G.value)??((pe=G==null?void 0:G.financials)==null?void 0:pe.totalPrice));return J+be},0),B=C.reduce((J,ke)=>{var Ae,pe;const G=((Ae=ke.raw)==null?void 0:Ae.position)||ke.raw,ae=Array.isArray(G==null?void 0:G.tokens)?G.tokens:[];if(ae.length)return J+ae.reduce((Ne,et)=>Ne+$t(et,G),0);const be=ze((G==null?void 0:G.totalPrice)??(G==null?void 0:G.value)??((pe=G==null?void 0:G.financials)==null?void 0:pe.totalPrice));return J+be},0),V=P.reduce((J,ke)=>{var Ae,pe;const G=((Ae=ke.raw)==null?void 0:Ae.position)||ke.raw,ae=ze((G==null?void 0:G.totalPrice)??(G==null?void 0:G.value)??((pe=G==null?void 0:G.financials)==null?void 0:pe.totalPrice));if(ae)return J+ae;const be=Ye(G).map(Ne=>Ne&&Ne.token?Ne.token:Ne);return be.length?J+be.reduce((Ne,et)=>Ne+st(et),0):J+ze(G==null?void 0:G.balance)},0),oe=M.reduce((J,ke)=>{var Ae,pe;const G=((Ae=ke.raw)==null?void 0:Ae.position)||ke.raw,ae=ze((G==null?void 0:G.totalPrice)??(G==null?void 0:G.value)??((pe=G==null?void 0:G.financials)==null?void 0:pe.totalPrice));if(ae)return J+ae;const be=Ye(G).map(Ne=>Ne&&Ne.token?Ne.token:Ne);return be.length?J+be.reduce((Ne,et)=>Ne+st(et),0):J+ze(G==null?void 0:G.balance)},0),se=D.reduce((J,ke)=>{var Ae,pe;const G=((Ae=ke.raw)==null?void 0:Ae.position)||ke.raw,ae=ze((G==null?void 0:G.totalPrice)??(G==null?void 0:G.value)??((pe=G==null?void 0:G.financials)==null?void 0:pe.totalPrice));if(ae)return J+ae;const be=Ye(G).map(Ne=>Ne&&Ne.token?Ne.token:Ne);return be.length?J+be.reduce((Ne,et)=>Ne+st(et),0):J+ze(G==null?void 0:G.balance)},0);return F+U+B+V+oe+se},[p,T,C,P,M,D,Ye,st,$t]),fr=F=>`${F.referenceType}:${F.referenceValue??"total"}`,Mt=ye.useMemo(()=>{const F=new Map;return ve.forEach(U=>{const B=fr(U);F.set(B,(F.get(B)||0)+(Number(U.note)||0))}),F},[ve]),pr=ye.useMemo(()=>{const F=new Map;return ve.forEach(B=>{const V=fr(B),oe=Zt.get(B.id)||0;F.set(V,(F.get(V)||0)+oe)}),ve.some(B=>B.referenceType===tt.TotalWallet)&&F.set(`${tt.TotalWallet}:total`,Un),F},[ve,Zt,Un]);ye.useEffect(()=>{if(!Array.isArray(d)||d.length===0)return;const F=new Map(p.map(ae=>[ae.id,ae])),U=new Map(T.map(ae=>[ae.id,ae])),B=new Map(C.map(ae=>[ae.id,ae])),V=new Map(P.map(ae=>[ae.id,ae])),oe=new Map(X.map(ae=>[ae.id,ae])),se=ae=>ae===xr.Token?tt.Token:ae===xr.Protocol?tt.Protocol:ae===xr.Group?tt.Group:ae===xr.TotalWallet?tt.TotalWallet:tt.Protocol,J=(ae,be)=>{var en;const Ae=new Map(y.map(Et=>[Et.id,Et])),pe=new Map(M.map(Et=>[Et.id,Et])),Ne=new Map(D.map(Et=>[Et.id,Et])),et=be===Z.Wallet?F:be===Z.LiquidityPool?U:be===Z.LendingAndBorrowing?B:be===Z.Staking?V:be===Z.Depositing?pe:be===Z.Locking?Ne:be===Z.Group?Ae:null;return((en=et==null?void 0:et.get(ae))==null?void 0:en.label)||ae},ke=(ae,be)=>{var Ae,pe;if(ae===tt.TotalWallet)return"Total Wallet";if(ae===tt.Group){const Ne=hf.find(et=>String(et.value)===String(be));return(Ne==null?void 0:Ne.label)||String(be)}return ae===tt.Token?((Ae=F.get(be))==null?void 0:Ae.label)||String(be):ae===tt.Protocol&&((pe=oe.get(be))==null?void 0:pe.label)||String(be)},G=d.map(ae=>{var Et;const be=se(ae.byGroupType),pe=(ae.assets||[]).map(mt=>({type:typeof mt.type=="number"?mt.type:Pt[mt.type]||Z.Unknown,id:mt.key})),Ne=((Et=pe[0])==null?void 0:Et.type)||Z.Unknown,et=pe.map(mt=>J(mt.id,mt.type)).join(" + ");return{id:`${pe.map(mt=>`${mt.type}-${mt.id}`).join(",")}-${be}-${be===tt.TotalWallet?"total":ae.value||""}`,assetType:Ne,assetIds:pe,assetLabel:et,referenceType:be,referenceValue:ae.value,referenceLabel:ke(be,ae.value),note:ae.note??0}});Fe(ae=>{const be=new Map(ae.map(Ae=>[Ae.id,Ae]));return G.forEach(Ae=>{be.has(Ae.id)||be.set(Ae.id,Ae)}),Array.from(be.values())})},[d,p,T,C,P,M,D,X,Pt]);const Zn=ye.useRef(null);ye.useEffect(()=>{De||(Be(!0),ve.length>0&&(Zn.current=JSON.stringify(ve.map(F=>({id:F.id,assetType:F.assetType,assetIds:F.assetIds||[F.assetId],referenceType:F.referenceType,referenceValue:F.referenceValue,note:F.note})))))},[ve,De]);const te=ye.useCallback(async()=>{if(ve.length===0){re(null);return}try{_e(!0),fe(null);const F=se=>{const J=se.assetType;let ke=[];const G=se.assetIds||[{type:se.assetType,id:se.assetId}],ae=be=>{be.forEach(Ae=>{if(ke.length>=2)return;const pe=(Ae==null?void 0:Ae.token)||Ae,Ne=(pe==null?void 0:pe.logo)||(pe==null?void 0:pe.logoURI)||(pe==null?void 0:pe.image)||(pe==null?void 0:pe.icon)||(pe==null?void 0:pe.logoUrl)||(pe==null?void 0:pe.logo_url)||(pe==null?void 0:pe.iconUrl)||(pe==null?void 0:pe.icon_url);Ne&&!ke.includes(Ne)&&ke.push(Ne)})};return G.forEach(be=>{var Ne,et,en,Et,mt,He,ne,Se,ce,Ee,Te,we,rt,Ge,ft,qt;if(ke.length>=2)return;const Ae=be.id||be,pe=be.type||se.assetType;if(pe===Z.Wallet){const xe=((Ne=p.find(Le=>Le.id===Ae))==null?void 0:Ne.raw)||{},We=(xe==null?void 0:xe.logo)||(xe==null?void 0:xe.logoURI)||(xe==null?void 0:xe.image)||(xe==null?void 0:xe.icon)||(xe==null?void 0:xe.logoUrl)||(xe==null?void 0:xe.logo_url)||(xe==null?void 0:xe.iconUrl)||(xe==null?void 0:xe.icon_url);We&&!ke.includes(We)&&ke.push(We)}else if(pe===Z.LiquidityPool){const xe=((en=(et=T.find(We=>We.id===Ae))==null?void 0:et.raw)==null?void 0:en.position)||((Et=T.find(We=>We.id===Ae))==null?void 0:Et.raw);if(xe&&(Array.isArray(xe.tokens)&&xe.tokens.length&&ae(xe.tokens),ke.length===0)){const We=xe.logo||xe.logoURI||xe.image||xe.icon||xe.logoUrl||xe.logo_url||xe.iconUrl||xe.icon_url;We&&ke.push(We)}}else if(pe===Z.LendingAndBorrowing){const xe=((He=(mt=C.find(We=>We.id===Ae))==null?void 0:mt.raw)==null?void 0:He.position)||((ne=C.find(We=>We.id===Ae))==null?void 0:ne.raw);xe&&Array.isArray(xe.tokens)&&ae(xe.tokens)}else if(pe===Z.Staking){const xe=((ce=(Se=P.find(We=>We.id===Ae))==null?void 0:Se.raw)==null?void 0:ce.position)||((Ee=P.find(We=>We.id===Ae))==null?void 0:Ee.raw);xe&&Array.isArray(xe.tokens)&&ae(xe.tokens)}else if(pe===Z.Depositing){const xe=((we=(Te=M.find(We=>We.id===Ae))==null?void 0:Te.raw)==null?void 0:we.position)||((rt=M.find(We=>We.id===Ae))==null?void 0:rt.raw);xe&&Array.isArray(xe.tokens)&&ae(xe.tokens)}else if(pe===Z.Locking){const xe=((ft=(Ge=D.find(We=>We.id===Ae))==null?void 0:Ge.raw)==null?void 0:ft.position)||((qt=D.find(We=>We.id===Ae))==null?void 0:qt.raw);xe&&Array.isArray(xe.tokens)&&ae(xe.tokens)}}),{Logo1:ke[0]||null,Logo2:ke[1]||null}},U=ve.map(se=>{const J=Y!=null&&Y.entriesHash?null:F(se);return{Version:"1",Assets:(se.assetIds||[{type:se.assetType,id:se.assetId}]).filter(ae=>ae.id).map(ae=>({Key:ae.id,Type:ae.type})),Note:se.note,ByGroupType:dt[se.referenceType]??0,Value:se.referenceType===tt.TotalWallet?null:se.referenceValue||se.referenceLabel,AdditionalInfo:J}}).filter(se=>se.Assets.length>0),B={AccountId:c?void 0:a||void 0,WalletGroupId:c||void 0,Items:U},V=await fetch(`${qe.API_BASE_URL}/api/v1/strategies`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)});if(!V.ok){let se=`Save failed: ${V.status} ${V.statusText}`;try{const J=await V.json();(J!=null&&J.title||J!=null&&J.error)&&(se+=` - ${J.title||J.error}`),J!=null&&J.errors&&(se+=`
${JSON.stringify(J.errors)}`)}catch{const J=await V.text();J&&(se+=` - ${J}`)}throw new Error(se)}const oe=await V.json();re({key:oe.key,itemsCount:oe.itemsCount,accounts:oe.accounts,savedAt:new Date}),h&&h()}catch(F){console.error("Auto-save error",F),fe(F.message||"Save failed")}finally{_e(!1)}},[ve,a,c,zt,lt,tt.TotalWallet,p,T,C,P,M,D]),me=O!==""&&I&&b!==""?`${O}-${I}-${b}-${b===tt.TotalWallet?"total":E||""}`:"",$e=me?ve.some(F=>F.id===me&&F.id!==gt):!1;return l.jsxs("div",{className:"panel rebalance-panel pad-16 text-primary",children:[l.jsxs("div",{className:"panel-header",children:[l.jsxs("div",{className:"flex-center gap-10",children:[l.jsx("div",{className:"panel-title",children:"Rebalancing"}),u&&l.jsxs("div",{className:"badge badge-secondary badge-sm",title:`key: ${u}`,children:["last saved  items: ",f??0]})]}),l.jsx("button",{type:"button",onClick:()=>_t(!0),className:"btn btn--outline",children:"Add"})]}),l.jsx($1,{open:Wt,editing:!!gt,assetType:O,setAssetType:_,assetId:I,setAssetId:L,assetIds:N,setAssetIds:S,assetOptions:sn,referenceType:b,setReferenceType:A,referenceValue:E,setReferenceValue:$,referenceOptions:Gt,note:he,setNote:de,ASSET_TYPE_OPTIONS:pf,RebalanceReferenceType:tt,ITEM_TYPES:Co,AssetDropdown:B1,TokenDisplay:rn,tokensList:p,protocolsList:X,getOptionsForType:kn,canAdd:H,isDuplicateCandidate:$e,onCancel:()=>{_t(!1),gt&&Tt(null),L(""),S([])},onSubmit:Pe,theme:g}),ve.length>0&&l.jsx("div",{className:"mt-20 flex column gap-20",children:(()=>{const F=new Map;return ve.forEach(U=>{const B=fr(U);F.has(B)||F.set(B,{label:`${U.referenceLabel}`,entries:[]}),F.get(B).entries.push(U)}),Array.from(F.entries()).map(([U,{label:B,entries:V}])=>l.jsx(_1,{title:B,variant:"flat",showSummary:!1,children:l.jsxs("table",{className:"table-unified text-primary",children:[l.jsx(_r,{columnDefs:[{key:"current",label:"Current",align:"right"},{key:"target",label:"Target",align:"right"},{key:"diff",label:"Diff",align:"right"},{key:"note",label:"Note",align:"left"},{key:"actions",label:"",align:"right",className:"col-actions"}],labels:{token:"Asset"}}),l.jsx("tbody",{children:k&&V.length===0?z.map((oe,se)=>l.jsxs("tr",{className:`table-row ${se===z.length-1?"":"tbody-divider"}`,children:[l.jsx("td",{className:"td col-name",children:l.jsxs("span",{className:"flex align-center gap-8",children:[l.jsx(vr,{width:26,height:26,className:"circle"}),l.jsx(vr,{width:140,className:"text"})]})}),l.jsx("td",{className:"td td-right col-current",children:l.jsx(vr,{width:60,className:"text"})}),l.jsx("td",{className:"td td-right col-target",children:l.jsx(vr,{width:60,className:"text"})}),l.jsx("td",{className:"td td-right col-diff",children:l.jsx(vr,{width:60,className:"text"})}),l.jsx("td",{className:"td col-note text-secondary",children:l.jsx(vr,{width:40,className:"text"})}),l.jsx("td",{className:"td td-right col-actions",children:l.jsxs("div",{className:"flex-end gap-6",children:[l.jsx(vr,{width:34,height:34}),l.jsx(vr,{width:34,height:34})]})})]},"sk-"+group.type+se)):V.map((oe,se)=>{const J=oe.assetIds||[{type:oe.assetType,id:oe.assetId}],ke=J[0],G=ke.id||ke,ae=ke.type||oe.assetType;ae===Z.Wallet?p.find(Se=>Se.id===G):ae===Z.LiquidityPool?T.find(Se=>Se.id===G):ae===Z.LendingAndBorrowing?C.find(Se=>Se.id===G):ae===Z.Staking&&P.find(Se=>Se.id===G);const be=fr(oe),Ae=pr.get(be)||0,pe=Mt.get(be)||0,Ne=Zt.get(oe.id)||0,et=Ae>0?Ne/Ae*100:0,en=pe>0?(Number(oe.note)||0)/pe*100:0,Et=Se=>df(Se,{decimals:2}),mt=Se=>x(z1(Se,{decimals:2})),He=pe>0?(Number(oe.note)||0)/pe*Ae:0,ne=He-Ne;return l.jsxs("tr",{className:`table-row table-row-hover ${se===V.length-1?"":"tbody-divider"}`,children:[l.jsx("td",{className:"td text-primary col-name",children:l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:6},children:J.slice(0,10).map((Se,ce)=>{var qt,xe,We;const Ee=Se.id||Se,Te=typeof Se.type=="number"?Se.type:Se.type||oe.assetType;let we=null;if(Te===Z.Wallet?we=p.find(Le=>Le.id===Ee):Te===Z.LiquidityPool?we=T.find(Le=>Le.id===Ee):Te===Z.LendingAndBorrowing?we=C.find(Le=>Le.id===Ee):Te===Z.Staking&&(we=P.find(Le=>Le.id===Ee)),!we)return null;const rt=we.label||Ee;let Ge=[],ft=null;if(Te===Z.Wallet)Ge=[we.raw];else if(Te===Z.LendingAndBorrowing){const Le=((qt=we.raw)==null?void 0:qt.position)||we.raw;if(Array.isArray(Le==null?void 0:Le.tokens)&&Le.tokens.length){Ge=Le.tokens.slice(0,2).map(Dt=>Dt&&Dt.token?Dt.token:Dt).filter(Boolean);const it=Le.tokens[0];(it==null?void 0:it.type)==="borrowed"||(it==null?void 0:it.type)==="borrow"||(it==null?void 0:it.type)==="debt"?ft="borrow":ft="supply"}}else{const Le=((xe=we.raw)==null?void 0:xe.position)||we.raw;if(Array.isArray(Le==null?void 0:Le.tokens)&&Le.tokens.length)Ge=Le.tokens.slice(0,2).map(it=>it&&it.token?it.token:it).filter(Boolean);else if(Array.isArray((We=Le==null?void 0:Le.pool)==null?void 0:We.tokens)&&Le.pool.tokens.length)Ge=Le.pool.tokens.slice(0,2).map(it=>it&&it.token?it.token:it).filter(Boolean);else{const it=(Le==null?void 0:Le.token0)||(Le==null?void 0:Le.tokenA)||(Le==null?void 0:Le.baseToken)||(Le==null?void 0:Le.primaryToken),Dt=(Le==null?void 0:Le.token1)||(Le==null?void 0:Le.tokenB)||(Le==null?void 0:Le.quoteToken)||(Le==null?void 0:Le.secondaryToken);it&&Ge.push(it&&it.token?it.token:it),Dt&&Ge.push(Dt&&Dt.token?Dt.token:Dt),Ge=Ge.filter(Boolean)}}return l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,padding:"0 10px",minHeight:32,background:"var(--mw-bg-panel,var(--app-bg-panel))",border:"1px solid var(--mw-border,var(--app-border))",borderRadius:8,fontSize:13},children:[l.jsx("span",{style:{fontSize:14,opacity:.7},title:Te===1?"Wallet":Te===2?"Liquidity Pool":Te===3?"Lending Position":Te===4?"Staking Position":Te===8?"Depositing Position":Te===9?"Locking Position":"Asset",children:Te===1?"":Te===2?"":Te===3?"":Te===4?"":Te===8?"":Te===9?"":""}),Ge.length>0&&rn&&l.jsx(rn,{tokens:Ge,showName:!1,showText:!1,size:18,gap:6,showChain:!0}),l.jsx("span",{className:"truncate",style:{maxWidth:200},children:rt}),ft&&l.jsx("span",{style:{fontSize:10,padding:"2px 6px",borderRadius:4,fontWeight:600,marginLeft:"auto",background:ft==="borrow"?"rgba(239, 68, 68, 0.15)":"rgba(34, 197, 94, 0.15)",color:ft==="borrow"?"rgb(239, 68, 68)":"rgb(34, 197, 94)"},children:ft==="borrow"?"BORROW":"SUPPLY"})]},`${Te}-${Ee}-${ce}`)})})}),l.jsx("td",{className:"td td-right td-mono tabular-nums text-primary col-current",children:(()=>{const Se=Et(Math.max(0,et));return l.jsxs("div",{className:"flex flex-column items-end leading-tight",children:[l.jsx("span",{className:"text-base",children:Se}),l.jsx("span",{className:"text-secondary text-sm",children:mt(Ne)})]})})()}),l.jsx("td",{className:"td td-right td-mono tabular-nums text-primary col-target",children:(()=>{const Se=Et(Math.max(0,en));return l.jsxs("div",{className:"flex column align-end",style:{lineHeight:"14px"},children:[l.jsx("span",{style:{fontSize:12},children:Se}),l.jsx("span",{className:"text-secondary",style:{fontSize:11},children:mt(He)})]})})()}),l.jsx("td",{className:"td td-right td-mono tabular-nums text-primary col-diff",children:(()=>{const Se=en-et,ce=Se>0?"":Se<0?"":"",Ee=Se>0?"text-positive":Se<0?"text-negative":"text-secondary",Te=`${ce} ${df(Se,{decimals:2,sign:!0})}`,we=mt(ne);return l.jsxs("div",{className:"flex column align-end",style:{lineHeight:"14px"},children:[l.jsx("span",{className:Ee,style:{fontSize:12},children:Te}),l.jsx("span",{className:"text-secondary",style:{fontSize:11},children:we})]})})()}),l.jsx("td",{className:"td col-note text-secondary",children:oe.note||"-"}),l.jsx("td",{className:"td td-right col-actions",children:l.jsxs("div",{className:"flex-end gap-6 w-full",children:[l.jsx(ff,{label:"Edit",size:34,onClick:()=>{Tt(oe.id),_t(!0),_(oe.assetType);const Se=oe.assetIds||[{type:oe.assetType,id:oe.assetId}];Se.length===1?(L(Se[0].id||Se[0]),S([])):(L(""),S(Se)),A(oe.referenceType),$(oe.referenceValue||""),de(oe.note||0)},icon:l.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M12 20h9"}),l.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"})]})}),l.jsx(ff,{label:"Delete",size:34,variant:"danger",onClick:()=>Je(oe.id),icon:l.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("polyline",{points:"3 6 5 6 21 6"}),l.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}),l.jsx("path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),l.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),l.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]})})]},oe.id)})})]})},U))})()}),l.jsxs("div",{className:"save-bar mt-20",style:{justifyContent:"space-between"},children:[l.jsxs("div",{children:[ve.length===0&&l.jsx("span",{children:"Adicione items para iniciar configurao."}),ve.length>0&&!Y&&Q&&l.jsx("span",{children:"Saving"}),ve.length>0&&!Q&&Y&&l.jsxs("span",{children:["Saved: key ",Y.key,"  ",Y.itemsCount," items",Y.savedAt?`  ${Y.savedAt.toLocaleTimeString()}`:""]}),Ce&&l.jsxs("span",{className:"text-negative",children:["Erro ao salvar: ",Ce]})]}),l.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[Q&&l.jsx("span",{className:"text-secondary",style:{fontSize:12},children:"sync"}),ve.length>0&&l.jsx("button",{type:"button",onClick:()=>te(),disabled:Q,className:"btn btn--primary",style:{fontSize:"14px",padding:"6px 16px"},children:Q?"Saving...":"Save"})]})]})]})}function B1({theme:e,assetType:t,value:n,options:r,onChange:o,tokensList:i=[],placeholder:s="Select asset"}){const[a,c]=ye.useState(!1),u=ye.useRef(null);ye.useEffect(()=>{const g=x=>{u.current&&(u.current.contains(x.target)||c(!1))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const f=r.find(g=>g.id===n),d=g=>!g||typeof g!="object"?"":g.logo||g.logoURI||g.image||g.icon||g.logoUrl||g.logo_url||g.iconUrl||g.icon_url||"",h=(g,x)=>{var y;if(g===Z.Group)return null;const w=x.raw||{};if(g===Z.Wallet){const k=w;return l.jsx(rn,{tokens:[k],showName:!1,showText:!1,size:18,gap:6,showChain:!0})}if(g==="PROTOCOL"){const k=d(w);return k?l.jsx("div",{style:{position:"relative",width:18,height:18,flex:"0 0 auto"},children:l.jsx("img",{src:k,alt:"protocol",style:{width:18,height:18,borderRadius:"50%",objectFit:"cover"}})}):l.jsx("div",{style:{width:18,height:18,borderRadius:"50%",background:e.bgPanel,border:`1px solid ${e.border}`}})}const p=w.position||w;let m=[];if(Array.isArray(p==null?void 0:p.tokens)&&p.tokens.length)m=p.tokens.map(k=>k&&k.token?k.token:k);else if(Array.isArray((y=p==null?void 0:p.pool)==null?void 0:y.tokens)&&p.pool.tokens.length)m=p.pool.tokens.map(k=>k&&k.token?k.token:k);else{const k=p.token0||p.tokenA||p.baseToken||p.primaryToken,z=p.token1||p.tokenB||p.quoteToken||p.secondaryToken;k&&m.push(k&&k.token?k.token:k),z&&m.push(z&&z.token?z.token:z)}return m=m.filter(Boolean),m.length>=2?l.jsx(rn,{tokens:[m[0],m[1]],showName:!1,showText:!1,size:18,gap:6,showChain:!0}):m.length===1?l.jsx(rn,{tokens:[m[0]],showName:!1,showText:!1,size:18,gap:6,showChain:!0}):l.jsx("div",{style:{width:18,height:18,borderRadius:"50%",background:e.bgPanel,border:`1px solid ${e.border}`}})},v=()=>f?l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[t===Z.Group?null:h(t,f),l.jsx("span",{style:{color:e.textPrimary},children:f.label})]}):l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsxs("div",{style:{position:"relative",width:21,height:18,flex:"0 0 auto"},children:[l.jsx("div",{style:{position:"absolute",left:0,top:2,width:14,height:14},children:l.jsx("div",{style:{width:"100%",height:"100%",borderRadius:"50%",background:"transparent"}})}),l.jsx("div",{style:{position:"absolute",left:7,top:2,width:14,height:14},children:l.jsx("div",{style:{width:"100%",height:"100%",borderRadius:"50%",background:"transparent"}})})]}),l.jsx("span",{style:{color:e.textSecondary},children:s})]});return l.jsxs("div",{ref:u,className:"relative w-full",children:[l.jsxs("button",{type:"button",className:"dropdown-btn",onClick:()=>c(g=>!g),children:[l.jsx("div",{className:"flex items-center gap-8 min-w-0 flex-1",children:v()}),l.jsx("span",{className:"text-secondary",children:""})]}),a&&l.jsx("div",{className:"dropdown-menu",role:"listbox",children:l.jsxs("div",{className:"pad-6",children:[l.jsx("button",{type:"button",className:"dropdown-option text-secondary",onClick:()=>{o(""),c(!1)},children:l.jsx("span",{children:" None "})}),r.map((g,x)=>{var p;let w=null;if(t===Z.LendingAndBorrowing){const m=((p=g.raw)==null?void 0:p.position)||g.raw;if(Array.isArray(m==null?void 0:m.tokens)&&m.tokens.length>0){const y=m.tokens[0];(y==null?void 0:y.type)==="borrowed"||(y==null?void 0:y.type)==="borrow"||(y==null?void 0:y.type)==="debt"?w="borrow":w="supply"}}return l.jsxs("button",{type:"button",className:"dropdown-option",onClick:()=>{o(g.id),c(!1)},style:{display:"flex",alignItems:"center",gap:8},children:[t===Z.Group?null:h(t,g),l.jsx("span",{className:"text-ellipsis-sm",style:{flex:1},children:g.label}),w&&l.jsx("span",{style:{fontSize:10,padding:"2px 6px",borderRadius:4,fontWeight:600,background:w==="borrow"?"rgba(239, 68, 68, 0.15)":"rgba(34, 197, 94, 0.15)",color:w==="borrow"?"rgb(239, 68, 68)":"rgb(34, 197, 94)"},children:w==="borrow"?"BORROW":"SUPPLY"})]},`${g.id}-${x}`)})]})})]})}function gf({columns:e,rows:t,rowKey:n,className:r="",headerRowClassName:o="table-header-row",zebra:i=!0,hover:s=!0}){return l.jsxs("div",{className:`data-table w-full ${r}`.trim(),children:[l.jsx("div",{className:`table ${o}`.trim(),children:l.jsx("div",{className:"table-row",children:e.map(a=>{const c={};return a.width!==void 0&&(c.width=typeof a.width=="number"?`${a.width}px`:a.width,c.flex="0 0 auto"),l.jsx("div",{className:`table-cell table-header-cell ${a.headerClassName||""} ${a.align?`text-${a.align}`:""}`.trim(),style:c,children:a.label||""},a.id)})})}),l.jsx("div",{className:"table",children:t.map((a,c)=>{const u=n?n(a,c):c,f=["table-row",s?"row-hover":"","token-row"].filter(Boolean).join(" ");return l.jsx("div",{className:f,children:e.map(d=>{let h;d.render?h=d.render(a,c):d.accessor?h=d.accessor(a):h=a[d.id];const v={};return d.width!==void 0&&(v.width=typeof d.width=="number"?`${d.width}px`:d.width,v.flex="0 0 auto"),l.jsx("div",{className:`table-cell ${d.cellClassName||""} ${d.align?`text-${d.align}`:""}`.trim(),style:v,children:h},d.id)})},u)})})]})}const O1=({walletTokens:e,getLiquidityPoolsData:t,getLendingAndBorrowingData:n,getStakingData:r,getTotalPortfolioValue:o,maskValue:i,formatPrice:s,theme:a,groupDefiByProtocol:c,filterLendingDefiTokens:u,showLendingDefiTokens:f})=>{var I;const d=hg(a),h=(L,N)=>{var A;const S=(L.type||"").toLowerCase(),b=Math.abs(parseFloat(L.totalPrice)||0);if(S==="borrowed"||S==="borrow"||S==="debt")return-b;if(!S){const E=(((A=N==null?void 0:N.position)==null?void 0:A.label)||(N==null?void 0:N.label)||"").toLowerCase();if(E.includes("borrow")||E.includes("debt"))return-b}return b},v=e.reduce((L,N)=>{const S=N.token||N;return L+(parseFloat(S.totalPrice)||0)},0),g=t(),x=n(),w=r(),p=c(g).reduce((L,N)=>L+N.positions.reduce((S,b)=>{var A;return S+(((A=b.tokens)==null?void 0:A.reduce((E,$)=>E+(parseFloat($.totalPrice)||0),0))||0)},0),0),m=c(x).reduce((L,N)=>{const S=N.positions.reduce((b,A)=>{const $=(Array.isArray(A.tokens)?u(A.tokens,f):[]).reduce((he,de)=>he+h(de,A),0);return b+$},0);return L+S},0),y=w.reduce((L,N)=>{const S=parseFloat(N.balance)||0;return L+(isNaN(S)?0:S)},0),k=o(),z=[{label:"Wallet Assets",value:v,color:"#3b82f6"},{label:"Liquidity Pools",value:p,color:"#10b981"},{label:"Lending/Borrowing",value:m,color:"#8b5cf6"},{label:"Staking",value:y,color:"#f59e0b"}].filter(L=>L.value>0),T=z.reduce((L,N)=>L+N.value,0)||1,C=z.map(L=>({...L,percentage:(L.value/T*100).toFixed(1)})),M=(()=>{const L=new Map;return e.forEach(N=>{const S=N.token||N,b=S.symbol,A=parseFloat(S.totalPrice)||0;if(L.has(b)){const E=L.get(b);E.value+=A}else L.set(b,{symbol:S.symbol,name:S.name,value:A,logo:S.logo})}),c(g).forEach(N=>{N.positions.forEach(S=>{S.tokens&&Array.isArray(S.tokens)&&S.tokens.forEach(b=>{const A=b.symbol,E=parseFloat(b.totalPrice)||0;if(L.has(A)){const $=L.get(A);$.value+=E}else L.set(A,{symbol:b.symbol,name:b.name,value:E,logo:b.logo})})})}),c(x).forEach(N=>{N.positions.forEach(S=>{(Array.isArray(S.tokens)?u(S.tokens,f):[]).forEach(A=>{const E=A.symbol,$=h(A,S);if(L.has(E)){const he=L.get(E);he.value+=$}else L.set(E,{symbol:A.symbol,name:A.name,value:$,logo:A.logo})})})}),w.forEach(N=>{N.tokens&&Array.isArray(N.tokens)&&(u?u(N.tokens,f):N.tokens).forEach(b=>{const A=b.symbol,E=parseFloat(b.totalPrice)||0;if(L.has(A)){const $=L.get(A);$.value+=E}else L.set(A,{symbol:b.symbol,name:b.name,value:E,logo:b.logo})})}),Array.from(L.values()).filter(N=>N.value>0).sort((N,S)=>S.value-N.value).slice(0,5)})(),ie=(()=>{const L=new Map,N=["#3b82f6","#10b981","#8b5cf6","#f59e0b"];return c(g).forEach(S=>{const b=S.protocol.name;let A=0;S.positions.forEach(E=>{E.tokens&&Array.isArray(E.tokens)&&E.tokens.forEach($=>{A+=parseFloat($.totalPrice)||0})}),A>0&&L.set(b,{name:b,value:A,logo:S.protocol.logoURI||S.protocol.logo,color:N[L.size%N.length]})}),c(x).forEach(S=>{const b=S.protocol.name;let A=0;S.positions.forEach(E=>{(Array.isArray(E.tokens)?u(E.tokens,f):[]).forEach(he=>{A+=h(he,E)})}),A>0&&(L.has(b)?L.get(b).value+=A:L.set(b,{name:b,value:A,logo:S.protocol.logoURI||S.protocol.logo,color:N[L.size%N.length]}))}),w.forEach(S=>{var E,$,he,de,ve;const b=((E=S.protocol)==null?void 0:E.name)||((he=($=S.position)==null?void 0:$.protocol)==null?void 0:he.name)||"Staking";let A=parseFloat(S.balance)||0;A>0&&(L.has(b)?L.get(b).value+=A:L.set(b,{name:b,value:A,logo:((de=S.protocol)==null?void 0:de.logoURI)||((ve=S.protocol)==null?void 0:ve.logo),color:N[L.size%N.length]}))}),Array.from(L.values()).filter(S=>S.value>0).sort((S,b)=>b.value-S.value).map(S=>({...S,percentage:(S.value/(p+m+y)*100).toFixed(1)}))})(),X=p+m+y,O=({data:L,size:N=120,totalValue:S=null})=>{const b=N/2-10,A=N/2,E=N/2,$=S||L.reduce((de,ve)=>de+ve.value,0);let he=0;return l.jsx("svg",{width:N,height:N,style:{transform:"rotate(-90deg)"},children:L.map((de,ve)=>{const Fe=de.value/$*100,Q=he/100*360,_e=(he+Fe)/100*360,Y=A+b*Math.cos(Q*Math.PI/180),re=E+b*Math.sin(Q*Math.PI/180),Ce=A+b*Math.cos(_e*Math.PI/180),fe=E+b*Math.sin(_e*Math.PI/180),De=Fe>50?1:0,Be=[`M ${A} ${E}`,`L ${Y} ${re}`,`A ${b} ${b} 0 ${De} 1 ${Ce} ${fe}`,"Z"].join(" ");return he+=Fe,l.jsx("path",{d:Be,fill:de.color,stroke:a.bgPanel,strokeWidth:"2"},ve)})})},_=({percentage:L,color:N,height:S=8})=>l.jsx("div",{style:{width:"100%",height:S,background:a.bgInteractive,borderRadius:S/2,overflow:"hidden"},children:l.jsx("div",{style:{width:`${L}%`,height:"100%",background:N,borderRadius:S/2,transition:"width 0.3s ease"}})});return l.jsxs("div",{className:"panel",style:{padding:24,marginTop:16},children:[l.jsxs("div",{className:"flex items-center",style:{gap:12,marginBottom:24},children:[l.jsx("div",{style:{width:32,height:32,borderRadius:"50%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",children:l.jsx("polyline",{points:"22,12 18,12 15,21 9,3 6,12 2,12"})})}),l.jsxs("div",{children:[l.jsx("h3",{style:{fontSize:18,fontWeight:700,color:a.textPrimary,margin:0,marginBottom:4},children:"Advanced Analytics"}),l.jsx("p",{style:{fontSize:13,color:a.textSecondary,margin:0},children:"Deep insights into your portfolio composition"})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:ie.length>0?"repeat(auto-fit, minmax(300px, 1fr))":"repeat(auto-fit, minmax(350px, 1fr))",gap:24,marginBottom:24},children:[l.jsxs("div",{className:"panel-alt panel",style:{padding:20,minWidth:0,overflow:"visible"},children:[l.jsx("h4",{style:{...d.menuHeader,margin:0,marginBottom:16},children:"Portfolio Distribution"}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:16,minHeight:160},children:[l.jsx("div",{style:{flexShrink:0},children:l.jsx(O,{data:C,size:120})}),l.jsx("div",{style:{width:"100%"},children:l.jsx(gf,{columns:[{id:"marker",width:20,render:L=>l.jsx("div",{style:{width:12,height:12,borderRadius:"50%",background:L.color}})},{id:"asset",label:"ASSET",render:L=>l.jsx("div",{style:{...d.normal,wordBreak:"break-word",maxWidth:120},children:L.label})},{id:"pct",label:"%",width:70,align:"center",render:L=>l.jsxs("div",{style:{...d.normal,color:a.textSecondary,fontWeight:600,whiteSpace:"nowrap"},children:[L.percentage,"%"]})},{id:"value",label:"VALUE",width:100,align:"right",render:L=>l.jsx("div",{style:{...d.normal,fontWeight:500,whiteSpace:"nowrap"},children:i(s(L.value))})}],rows:C,rowKey:(L,N)=>`${L.label}-${N}`,zebra:!0,hover:!1,className:"mt-2"})})]})]}),l.jsxs("div",{className:"panel-alt panel",style:{padding:20},children:[l.jsx("h4",{style:{...d.menuHeader,margin:0,marginBottom:16},children:"Top Assets by Total Value"}),M.map((L,N)=>{const S=k>0?L.value/k*100:0;return l.jsxs("div",{style:{marginBottom:16,paddingBottom:16,borderBottom:N<M.length-1?`1px solid ${a.border}`:"none"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[L.logo&&l.jsx("img",{src:L.logo,alt:L.symbol,style:{width:24,height:24,borderRadius:"50%",border:`1px solid ${a.border}`},onError:b=>b.currentTarget.style.display="none"}),l.jsxs("div",{children:[l.jsx("div",{style:{...d.normal,fontWeight:600},children:L.symbol}),l.jsx("div",{style:{...d.small},children:L.name})]})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsx("div",{style:{...d.normal,fontWeight:600},children:i(s(L.value))}),l.jsxs("div",{style:{...d.small},children:[S.toFixed(1),"%"]})]})]}),l.jsx(_,{percentage:S,color:`hsl(${210+N*30}, 70%, 60%)`})]},N)})]}),ie.length>0&&l.jsxs("div",{className:"panel-alt panel",style:{padding:20},children:[l.jsx("h4",{style:{...d.menuHeader,margin:0,marginBottom:16},children:"DeFi Protocol Distribution"}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:16},children:[l.jsx(O,{data:ie,size:120,totalValue:X}),l.jsx("div",{style:{width:"100%"},children:l.jsx(gf,{columns:[{id:"marker",width:20,render:L=>l.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[L.logo?l.jsx("img",{src:L.logo,alt:L.name,style:{width:16,height:16,borderRadius:"50%",border:`1px solid ${a.border}`},onError:N=>{N.currentTarget.style.display="none";const S=N.currentTarget.nextElementSibling;S&&(S.style.display="block")}}):null,l.jsx("div",{style:{width:12,height:12,borderRadius:"50%",background:L.color,display:L.logo?"none":"block"}})]})},{id:"protocol",label:"PROTOCOL",render:L=>l.jsx("div",{style:{...d.normal,wordBreak:"break-word",maxWidth:120},children:L.name})},{id:"pct",label:"%",width:70,align:"center",render:L=>l.jsxs("div",{style:{...d.normal,color:a.textSecondary,fontWeight:600,whiteSpace:"nowrap"},children:[L.percentage,"%"]})},{id:"value",label:"VALUE",width:100,align:"right",render:L=>l.jsx("div",{style:{...d.normal,fontWeight:500,whiteSpace:"nowrap"},children:i(s(L.value))})}],rows:ie,rowKey:(L,N)=>`${L.name}-${N}`,zebra:!0,hover:!1,className:"mt-2"})})]})]})]}),l.jsxs("div",{className:"panel-alt panel",style:{padding:20},children:[l.jsx("h4",{style:{...d.menuHeader,margin:0,marginBottom:16},children:"Portfolio Metrics"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:16},children:[l.jsxs("div",{style:{textAlign:"center",padding:16},children:[l.jsx("div",{style:{fontSize:24,fontWeight:700,color:a.textPrimary,marginBottom:4},children:C.length}),l.jsx("div",{style:{...d.small,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Active Categories"})]}),l.jsxs("div",{style:{textAlign:"center",padding:16},children:[l.jsx("div",{style:{fontSize:24,fontWeight:700,color:a.textPrimary,marginBottom:4},children:e.length}),l.jsx("div",{style:{...d.small,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Total Assets"})]}),l.jsxs("div",{style:{textAlign:"center",padding:16},children:[l.jsx("div",{style:{fontSize:24,fontWeight:700,color:a.textPrimary,marginBottom:4},children:g.length+x.length+w.length}),l.jsx("div",{style:{...d.small,textTransform:"uppercase",letterSpacing:"0.5px"},children:"DeFi Positions"})]}),l.jsxs("div",{style:{textAlign:"center",padding:16},children:[l.jsxs("div",{style:{fontSize:24,fontWeight:700,color:"#10b981",marginBottom:4},children:[((I=C.find(L=>L.label==="Wallet Assets"))==null?void 0:I.percentage)||"0","%"]}),l.jsx("div",{style:{...d.small,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Liquid Assets"})]})]})]})]})},W1=({walletTokens:e,getLiquidityPoolsData:t,getLendingAndBorrowingData:n,getStakingData:r,getTotalPortfolioValue:o,getPortfolioBreakdown:i,maskValue:s,formatPrice:a,theme:c,groupDefiByProtocol:u,filterLendingDefiTokens:f,showLendingDefiTokens:d})=>{const h=i?i():null,v=h?h.totalNet:o(),g=h?h.walletValue:0,x=t(),w=n(),p=r(),m=h?h.defiNet:v-g;return h&&h.defiGross,h&&h.lendingBorrowed,h&&h.lendingSupplied,h&&h.stakingValue,l.jsxs("div",{className:"summary-panel panel-unified",style:{marginTop:18},children:[l.jsxs("div",{className:"summary-header",children:[l.jsx("div",{className:"circle-32 bg-primary-subtle",style:{marginTop:2},children:l.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:c.textPrimary,strokeWidth:"2",children:[l.jsx("path",{d:"M9 11H1l6-6 6 6"}),l.jsx("path",{d:"M9 17l3-3 3 3"}),l.jsx("path",{d:"M22 18.5c0 2.485 0 4.5-4 4.5s-4-2.015-4-4.5S14 14 18 14s4 2.015 4 4.5"}),l.jsx("circle",{cx:"18",cy:"5",r:"3"})]})}),l.jsxs("div",{className:"",children:[l.jsx("h2",{className:"panel-heading",style:{fontSize:20,fontWeight:600},children:"Portfolio Summary"}),l.jsx("p",{className:"summary-sub text-secondary",children:"Overview of your DeFi portfolio"})]})]}),l.jsxs("div",{className:"summary-grid",children:[l.jsxs("div",{className:"metric-card",children:[l.jsx("div",{className:"metric-label",children:"Total Portfolio"}),l.jsx("div",{className:"metric-value-lg text-primary",children:s(a(v))})]}),l.jsxs("div",{className:"metric-card",children:[l.jsx("div",{className:"metric-label",children:"Wallet Assets"}),l.jsx("div",{className:"metric-value-md text-primary mb-1",children:s(a(g))}),l.jsxs("div",{className:"text-xs text-secondary",children:[e.length," tokens"]})]}),l.jsxs("div",{className:"metric-card",children:[l.jsx("div",{className:"metric-label",children:"DeFi Positions"}),l.jsx("div",{className:"metric-value-md text-primary mb-1",children:s(a(m))}),l.jsxs("div",{className:"text-xs text-secondary",children:[x.length+w.length+p.length," positions"]})]})]}),l.jsxs("div",{className:"quick-stats",children:[x.length>0&&l.jsxs("div",{className:"quick-stat",children:[l.jsx("div",{className:"quick-dot liquidity"}),l.jsxs("span",{className:"fs-13 text-secondary",children:[x.length," Liquidity Pool",x.length!==1?"s":""]})]}),w.length>0&&l.jsxs("div",{className:"quick-stat",children:[l.jsx("div",{className:"quick-dot lending"}),l.jsxs("span",{className:"fs-13 text-secondary",children:[w.length," Lending Position",w.length!==1?"s":""]})]}),p.length>0&&l.jsxs("div",{className:"quick-stat",children:[l.jsx("div",{className:"quick-dot staking"}),l.jsxs("span",{className:"fs-13 text-secondary",children:[p.length," Staking Position",p.length!==1?"s":""]})]})]}),l.jsx(O1,{walletTokens:e,getLiquidityPoolsData:t,getLendingAndBorrowingData:n,getStakingData:r,getTotalPortfolioValue:o,maskValue:s,formatPrice:a,theme:c,groupDefiByProtocol:u,filterLendingDefiTokens:f,showLendingDefiTokens:d})]})},D1=({value:e="table",onChange:t})=>{const{theme:n}=Ct(),r=[{id:"chart",label:"Chart",icon:l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",children:l.jsx("path",{d:"M2 15V9M6 15V3M10 15V7M14 15V5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})},{id:"table",label:"Table",icon:l.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",children:[l.jsx("rect",{x:"2",y:"3",width:"14",height:"12",rx:"1.5",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M2 7H16M2 11H16",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})},{id:"cards",label:"Cards",icon:l.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",children:[l.jsx("rect",{x:"2",y:"2",width:"6",height:"6",rx:"1.5",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("rect",{x:"10",y:"2",width:"6",height:"6",rx:"1.5",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("rect",{x:"2",y:"10",width:"6",height:"6",rx:"1.5",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("rect",{x:"10",y:"10",width:"6",height:"6",rx:"1.5",stroke:"currentColor",strokeWidth:"1.5"})]})},{id:"strategies",label:"Strategies",icon:l.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",children:[l.jsx("circle",{cx:"9",cy:"9",r:"6",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("circle",{cx:"9",cy:"9",r:"2.5",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M9 3V6M9 12V15M3 9H6M12 9H15",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}];return l.jsx("div",{style:{display:"inline-flex",gap:4,padding:4,backgroundColor:n.bgSecondary,borderRadius:8,border:`1px solid ${n.border}`},children:r.map(o=>{const i=e===o.id;return l.jsx("button",{onClick:()=>t(o.id),title:o.label,style:{display:"flex",alignItems:"center",justifyContent:"center",width:36,height:36,backgroundColor:i?n.bgPanel:"transparent",color:i?n.textPrimary:n.textSecondary,border:"none",borderRadius:6,cursor:"pointer",transition:"all 0.2s ease",outline:"none"},onMouseEnter:s=>{i||(s.currentTarget.style.backgroundColor=n.bgHover,s.currentTarget.style.color=n.textPrimary)},onMouseLeave:s=>{i||(s.currentTarget.style.backgroundColor="transparent",s.currentTarget.style.color=n.textSecondary)},children:o.icon},o.id)})})},U1=({data:e=[]})=>{const{theme:t}=Ct(),{maskValue:n}=In(),{getIcon:r}=Is();return!e||e.length===0?l.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:t.textSecondary,fontSize:14},children:"No lending positions found"}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(340px, 1fr))",gap:20,padding:"8px 0",maxWidth:"100%"},children:e.map((o,i)=>{var y,k,z,T,C;const s=o.position||o,a=s.protocol||o.protocol||{},c=s.tokens||[],f=(((y=s.label)==null?void 0:y.toLowerCase())||((k=s.key)==null?void 0:k.toLowerCase())||"").includes("borrow")||c.some(P=>{var M;return((M=P.type)==null?void 0:M.toLowerCase())==="borrowed"}),d=c.filter(P=>{var M;return((M=P.type)==null?void 0:M.toLowerCase())==="supplied"||!P.type&&(P.balance||0)>0&&!P.debt}),h=c.filter(P=>{var M;return((M=P.type)==null?void 0:M.toLowerCase())==="borrowed"||P.debt||(P.balance||0)<0}),v=d.reduce((P,M)=>{var ie;const D=((ie=M.financials)==null?void 0:ie.totalPrice)||M.totalPrice||0;return P+D},0),g=Math.abs(h.reduce((P,M)=>{var ie;const D=((ie=M.financials)==null?void 0:ie.totalPrice)||M.totalPrice||0;return P+D},0)),x=s.supplyRate||s.apy||((z=o.additionalData)==null?void 0:z.apy)||0,w=s.borrowRate||s.borrowApy||((T=o.additionalData)==null?void 0:T.apy)||0,p=f?h[0]||c[0]:d[0]||c[0],m=f?"Borrow":"Supply";return l.jsxs("div",{style:{backgroundColor:t.bgPanel,border:`1px solid ${t.border}`,borderRadius:12,padding:16,transition:"all 0.2s ease",cursor:"pointer",display:"flex",flexDirection:"column"},onMouseEnter:P=>{P.currentTarget.style.borderColor=t.accent,P.currentTarget.style.transform="translateY(-2px)",P.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.15)"},onMouseLeave:P=>{P.currentTarget.style.borderColor=t.border,P.currentTarget.style.transform="translateY(0)",P.currentTarget.style.boxShadow="none"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:12},children:[l.jsx("div",{style:{display:"flex",alignItems:"center",position:"relative"},children:(p==null?void 0:p.logo)&&l.jsx("div",{style:{width:36,height:36,borderRadius:"50%",overflow:"hidden",border:`2px solid ${t.bgPanel}`,backgroundColor:t.bgPanel,zIndex:2},children:l.jsx("img",{src:p.logo,alt:p.symbol,style:{width:"100%",height:"100%",objectFit:"fill"},onError:P=>P.currentTarget.style.display="none"})})}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:6},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[(a.logo||a.icon)&&l.jsx("img",{src:a.logo||a.icon,alt:a.name,style:{width:16,height:16,borderRadius:"50%"},onError:P=>P.currentTarget.style.display="none"}),l.jsx("span",{style:{fontSize:12,fontWeight:600,color:t.textPrimary},children:a.name||"Unknown"})]}),(p==null?void 0:p.chain)&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[r(p.chain)&&l.jsx("img",{src:r(p.chain),alt:p.chain,style:{width:16,height:16,borderRadius:"50%"},onError:P=>P.currentTarget.style.display="none"}),l.jsx("span",{style:{fontSize:12,fontWeight:600,color:t.textSecondary},children:p.chain.charAt(0).toUpperCase()+p.chain.slice(1)})]})]})]}),l.jsx("div",{style:{marginBottom:16},children:l.jsxs("div",{style:{fontSize:16,fontWeight:700,color:t.textPrimary,display:"flex",alignItems:"center",gap:8},children:[(p==null?void 0:p.symbol)||"Unknown",l.jsx("span",{style:{fontSize:11,fontWeight:600,padding:"2px 8px",borderRadius:4,backgroundColor:f?"rgba(239, 68, 68, 0.15)":"rgba(16, 185, 129, 0.15)",color:f?"#ef4444":"#10b981"},children:m})]})}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[l.jsx("span",{style:{fontSize:13,color:t.textSecondary},children:"Amount"}),l.jsxs("span",{style:{fontSize:14,fontWeight:700,color:t.textPrimary},children:[n(Kr(((C=p==null?void 0:p.financials)==null?void 0:C.balanceFormatted)||(p==null?void 0:p.balance)||0,p==null?void 0:p.native))," ",(p==null?void 0:p.symbol)||""]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[l.jsx("span",{style:{fontSize:13,color:t.textSecondary},children:"Value"}),l.jsx("span",{style:{fontSize:14,fontWeight:700,color:t.textPrimary},children:n(Qe(f?g:v))})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{style:{fontSize:14,color:t.textSecondary},children:"APY"}),l.jsx("span",{style:{fontSize:16,fontWeight:700,color:t.textPrimary},children:f?w?`${w.toFixed(2)}%`:"0.00%":x?`${x.toFixed(2)}%`:"0.00%"})]})]})]},i)})})},V1=({data:e=[]})=>{const{theme:t}=Ct(),{maskValue:n}=In(),{getIcon:r}=Is(),[o,i]=ye.useState({}),[s,a]=ye.useState({}),[c,u]=ye.useState({});return!e||e.length===0?l.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:t.textSecondary,fontSize:14},children:"No pool positions found"}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(340px, 1fr))",gap:20,padding:"8px 0",maxWidth:"100%"},children:e.map((f,d)=>{var E,$,he,de,ve,Fe,Q,_e,Y;const h=f.position||f,v=h.protocol||f.protocol||{},g=h.tokens||[],x=h.rewards||[],w=f.additionalInfo||h.additionalInfo||{},p=o[d]||!1,m=s[d]||!1,y=c[d]||!1,k=()=>{i(re=>({...re,[d]:!re[d]}))},z=()=>{a(re=>({...re,[d]:!re[d]}))},T=()=>{u(re=>({...re,[d]:!re[d]}))},P=(re=>{if(!re)return"-";const Ce=new Date(re),De=new Date-Ce,Be=Math.floor(De/(1e3*60*60*24));if(Be===0)return"Today";if(Be===1)return"1 day";if(Be<30)return`${Be} days`;const dt=Math.floor(Be/30);if(dt===1)return"1 month";if(dt<12)return`${dt} months`;const zt=Math.floor(dt/12);return zt===1?"1 year":`${zt} years`})(w.createdAt),M=g.filter(re=>(re.type||"").toLowerCase()!=="liquidityuncollectedfee"),D=g.filter(re=>(re.type||"").toLowerCase()==="liquidityuncollectedfee"),ie=M.reduce((re,Ce)=>{var De;const fe=((De=Ce.financials)==null?void 0:De.totalPrice)||Ce.totalPrice||0;return re+fe},0);x.reduce((re,Ce)=>re+(Ce.totalPrice||0),0);const X=M[0],O=M[1],_=p?O:X,I=p?X:O,L=h.apr||h.apy||0,N=w.range||((E=f.additionalData)==null?void 0:E.range)||h.range||null,S=(N==null?void 0:N.inRange)??!0;let b=h.uncollectedFees||w.uncollectedFees||(($=f.additionalData)==null?void 0:$.uncollectedFees)||null;!b&&D.length>0&&(b={},D.forEach(re=>{var Pt,lt,Wt,_t,gt,Tt,sn,kn,Gt,H;const Ce=(re.symbol||"").toLowerCase(),fe=(re.contractAddress||"").toLowerCase(),De=((X==null?void 0:X.symbol)||"").toLowerCase(),Be=((X==null?void 0:X.contractAddress)||"").toLowerCase(),dt=((O==null?void 0:O.symbol)||"").toLowerCase(),zt=((O==null?void 0:O.contractAddress)||"").toLowerCase();Ce&&Ce===De||fe&&fe===Be?b.token0={amount:((Pt=re.financials)==null?void 0:Pt.amountFormatted)||((lt=re.financials)==null?void 0:lt.balanceFormatted)||0,balance:((Wt=re.financials)==null?void 0:Wt.balanceFormatted)||0,value:((_t=re.financials)==null?void 0:_t.totalPrice)||0,totalPrice:((gt=re.financials)==null?void 0:gt.totalPrice)||0}:(Ce&&Ce===dt||fe&&fe===zt)&&(b.token1={amount:((Tt=re.financials)==null?void 0:Tt.amountFormatted)||((sn=re.financials)==null?void 0:sn.balanceFormatted)||0,balance:((kn=re.financials)==null?void 0:kn.balanceFormatted)||0,value:((Gt=re.financials)==null?void 0:Gt.totalPrice)||0,totalPrice:((H=re.financials)==null?void 0:H.totalPrice)||0})}));const A=N&&p&&N.current&&N.lower&&N.upper?{...N,current:1/N.current,lower:1/N.upper,upper:1/N.lower}:N;return l.jsxs("div",{style:{backgroundColor:t.bgPanel,border:`1px solid ${t.border}`,borderRadius:12,padding:16,transition:"all 0.2s ease",cursor:"pointer",display:"flex",flexDirection:"column"},onMouseEnter:re=>{re.currentTarget.style.borderColor=t.accent,re.currentTarget.style.transform="translateY(-2px)",re.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.15)"},onMouseLeave:re=>{re.currentTarget.style.borderColor=t.border,re.currentTarget.style.transform="translateY(0)",re.currentTarget.style.boxShadow="none"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:12},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",position:"relative"},children:[(_==null?void 0:_.logo)&&l.jsx("div",{style:{width:36,height:36,borderRadius:"50%",overflow:"hidden",border:`2px solid ${t.bgPanel}`,backgroundColor:t.bgPanel,zIndex:2},children:l.jsx("img",{src:_.logo,alt:_.symbol,style:{width:"100%",height:"100%",objectFit:"fill"},onError:re=>re.currentTarget.style.display="none"})}),(I==null?void 0:I.logo)&&l.jsx("div",{style:{width:36,height:36,borderRadius:"50%",overflow:"hidden",border:`2px solid ${t.bgPanel}`,backgroundColor:t.bgPanel,marginLeft:-16,zIndex:1},children:l.jsx("img",{src:I.logo,alt:I.symbol,style:{width:"100%",height:"100%",objectFit:"fill"},onError:re=>re.currentTarget.style.display="none"})})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:6},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[(v.logo||v.icon)&&l.jsx("img",{src:v.logo||v.icon,alt:v.name,style:{width:16,height:16,borderRadius:"50%"},onError:re=>re.currentTarget.style.display="none"}),l.jsx("span",{style:{fontSize:12,fontWeight:600,color:t.textPrimary},children:v.name||"Unknown"})]}),(_==null?void 0:_.chain)&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[r(_.chain)&&l.jsx("img",{src:r(_.chain),alt:_.chain,style:{width:16,height:16,borderRadius:"50%"},onError:re=>re.currentTarget.style.display="none"}),l.jsx("span",{style:{fontSize:12,fontWeight:600,color:t.textSecondary},children:_.chain.charAt(0).toUpperCase()+_.chain.slice(1)})]})]})]}),l.jsx("div",{style:{marginBottom:16},children:l.jsxs("div",{style:{fontSize:16,fontWeight:700,color:t.textPrimary,display:"flex",alignItems:"center",gap:8},children:[(_==null?void 0:_.symbol)||"Unknown"," / ",(I==null?void 0:I.symbol)||"Unknown",l.jsx("button",{onClick:k,style:{background:"none",border:"none",cursor:"pointer",padding:4,display:"flex",alignItems:"center",justifyContent:"center",color:t.textSecondary,transition:"all 0.2s ease",transform:p?"rotate(180deg)":"rotate(0deg)"},onMouseEnter:re=>{re.currentTarget.style.color=t.accent},onMouseLeave:re=>{re.currentTarget.style.color=t.textSecondary},title:"Flip pair",children:l.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[l.jsx("path",{d:"M8 2L8 14M8 14L4 10M8 14L12 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M8 2L8 14M8 2L4 6M8 2L12 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.3"})]})}),l.jsx("span",{style:{fontSize:11,fontWeight:600,padding:"2px 8px",borderRadius:4,backgroundColor:S?"rgba(16, 185, 129, 0.15)":"rgba(239, 68, 68, 0.15)",color:S?"#10b981":"#ef4444"},children:S?"In Range":"Out of Range"})]})}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:6},children:[l.jsx("div",{style:{fontSize:13,fontWeight:600,color:t.textSecondary,marginBottom:8},children:"Amount"}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6,paddingLeft:8},children:[l.jsx("span",{style:{fontSize:13,color:t.textSecondary},children:(_==null?void 0:_.symbol)||"Token"}),l.jsxs("span",{style:{fontSize:14,fontWeight:700,color:t.textPrimary},children:[n(Kr(((he=_==null?void 0:_.financials)==null?void 0:he.balanceFormatted)||(_==null?void 0:_.balance)||0,_==null?void 0:_.native))," ",(_==null?void 0:_.symbol)||""]})]}),I&&l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6,paddingLeft:8},children:[l.jsx("span",{style:{fontSize:13,color:t.textSecondary},children:(I==null?void 0:I.symbol)||"Token"}),l.jsxs("span",{style:{fontSize:14,fontWeight:700,color:t.textPrimary},children:[n(Kr(((de=I==null?void 0:I.financials)==null?void 0:de.balanceFormatted)||(I==null?void 0:I.balance)||0,I==null?void 0:I.native))," ",(I==null?void 0:I.symbol)||""]})]})]}),l.jsxs("div",{style:{marginBottom:10},children:[l.jsx("div",{style:{fontSize:13,fontWeight:600,color:t.textSecondary,marginBottom:8},children:"Value"}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6,paddingLeft:8},children:[l.jsx("span",{style:{fontSize:13,color:t.textSecondary},children:(_==null?void 0:_.symbol)||"Token"}),l.jsx("span",{style:{fontSize:14,fontWeight:700,color:t.textPrimary},children:n(Qe(((ve=_==null?void 0:_.financials)==null?void 0:ve.totalPrice)||(_==null?void 0:_.totalPrice)||0))})]}),I&&l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6,paddingLeft:8},children:[l.jsx("span",{style:{fontSize:13,color:t.textSecondary},children:(I==null?void 0:I.symbol)||"Token"}),l.jsx("span",{style:{fontSize:14,fontWeight:700,color:t.textPrimary},children:n(Qe(((Fe=I==null?void 0:I.financials)==null?void 0:Fe.totalPrice)||(I==null?void 0:I.totalPrice)||0))})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:8,paddingTop:8,borderTop:`1px solid ${t.border}`},children:[l.jsx("span",{style:{fontSize:13,fontWeight:600,color:t.textSecondary},children:"Total"}),l.jsx("span",{style:{fontSize:14,fontWeight:700,color:t.textPrimary},children:n(Qe(ie))})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[l.jsx("span",{style:{fontSize:14,color:t.textSecondary},children:"APR"}),l.jsx("span",{style:{fontSize:16,fontWeight:700,color:t.textPrimary},children:L?`${L.toFixed(2)}%`:"0.00%"})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:N?10:0},children:[l.jsx("span",{style:{fontSize:14,color:t.textSecondary},children:"Age"}),l.jsx("span",{style:{fontSize:14,fontWeight:600,color:t.textPrimary},children:P})]}),A&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[l.jsx("span",{style:{fontSize:14,color:t.textSecondary},children:"Range"}),l.jsx(vu,{range:A,width:90,height:14})]}),A.lower&&A.upper&&A.current&&l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8,cursor:"pointer"},onClick:z,children:[l.jsx("span",{style:{fontSize:13,color:t.textSecondary},children:"Position"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[l.jsx("span",{style:{fontSize:13,fontWeight:600,color:(()=>{const{lower:re,upper:Ce,current:fe}=A;return fe<re||fe>Ce?"#ef4444":"#10b981"})()},children:(()=>{const{lower:re,upper:Ce,current:fe}=A;return fe<re?`${((re-fe)/re*100).toFixed(1)}% below`:fe>Ce?`${((fe-Ce)/Ce*100).toFixed(1)}% above`:`${((fe-re)/(Ce-re)*100).toFixed(1)}% in range`})()}),l.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",style:{transform:m?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"},children:l.jsx("path",{d:"M3 5L6 8L9 5",stroke:t.textSecondary,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),m&&l.jsxs("div",{style:{backgroundColor:t.bgSecondary,borderRadius:8,padding:"6px 12px 12px 12px",marginTop:4,marginBottom:8},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6},children:[l.jsx("span",{style:{fontSize:12,color:t.textSecondary},children:"Upper"}),l.jsxs("span",{style:{fontSize:12,fontWeight:600,color:t.textPrimary},children:["$",((Q=A.upper)==null?void 0:Q.toFixed(A.upper<.01?8:A.upper<1?4:2))||"0.00"]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6},children:[l.jsx("span",{style:{fontSize:12,color:t.textSecondary},children:"Current"}),l.jsxs("span",{style:{fontSize:12,fontWeight:600,color:t.textPrimary},children:["$",((_e=A.current)==null?void 0:_e.toFixed(A.current<.01?8:A.current<1?4:2))||"0.00"]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{style:{fontSize:12,color:t.textSecondary},children:"Lower"}),l.jsxs("span",{style:{fontSize:12,fontWeight:600,color:t.textPrimary},children:["$",((Y=A.lower)==null?void 0:Y.toFixed(A.lower<.01?8:A.lower<1?4:2))||"0.00"]})]})]})]}),b&&(b.token0||b.token1)&&(()=>{var Ce,fe,De,Be;const re=(((Ce=b.token0)==null?void 0:Ce.value)||((fe=b.token0)==null?void 0:fe.totalPrice)||0)+(((De=b.token1)==null?void 0:De.value)||((Be=b.token1)==null?void 0:Be.totalPrice)||0);return l.jsxs("div",{style:{marginTop:10,paddingTop:10,borderTop:`1px solid ${t.border}`},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8,cursor:"pointer"},onClick:T,children:[l.jsx("span",{style:{fontSize:14,color:t.textSecondary},children:"Uncollected Fees"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[l.jsx("span",{style:{fontSize:14,fontWeight:600,color:"#10b981"},children:n(Qe(re))}),l.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",style:{transform:y?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"},children:l.jsx("path",{d:"M3 5L6 8L9 5",stroke:t.textSecondary,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),y&&l.jsxs("div",{style:{backgroundColor:t.bgSecondary,borderRadius:8,padding:"6px 12px 12px 12px",marginTop:4},children:[b.token0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6},children:[l.jsxs("span",{style:{fontSize:12,color:t.textSecondary},children:[(_==null?void 0:_.symbol)||"Token"," Amount"]}),l.jsxs("span",{style:{fontSize:12,fontWeight:600,color:t.textPrimary},children:[n(Kr(b.token0.amount||b.token0.balance||0,_==null?void 0:_.native))," ",(_==null?void 0:_.symbol)||""]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:b.token1?10:0},children:[l.jsxs("span",{style:{fontSize:12,color:t.textSecondary},children:[(_==null?void 0:_.symbol)||"Token"," Value"]}),l.jsx("span",{style:{fontSize:12,fontWeight:600,color:"#10b981"},children:n(Qe(b.token0.value||b.token0.totalPrice||0))})]})]}),b.token1&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6},children:[l.jsxs("span",{style:{fontSize:12,color:t.textSecondary},children:[(I==null?void 0:I.symbol)||"Token"," Amount"]}),l.jsxs("span",{style:{fontSize:12,fontWeight:600,color:t.textPrimary},children:[n(Kr(b.token1.amount||b.token1.balance||0,I==null?void 0:I.native))," ",(I==null?void 0:I.symbol)||""]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("span",{style:{fontSize:12,color:t.textSecondary},children:[(I==null?void 0:I.symbol)||"Token"," Value"]}),l.jsx("span",{style:{fontSize:12,fontWeight:600,color:"#10b981"},children:n(Qe(b.token1.value||b.token1.totalPrice||0))})]})]})]})]})})()]})]},d)})})},H1=({data:e=[]})=>{const{theme:t}=Ct(),{maskValue:n}=In();return!e||e.length===0?l.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:t.textSecondary,fontSize:14},children:"No staking positions found"}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:16,padding:"8px 0"},children:e.map((r,o)=>{const i=r.position||r,s=i.protocol||{},a=i.tokens||[],c=i.rewards||[],u=a.reduce((d,h)=>d+(h.totalPrice||0),0),f=c.reduce((d,h)=>d+(h.totalPrice||0),0);return l.jsxs("div",{style:{backgroundColor:t.bgPanel,border:`1px solid ${t.border}`,borderRadius:12,padding:16,transition:"all 0.2s ease",cursor:"pointer"},onMouseEnter:d=>{d.currentTarget.style.borderColor=t.accent,d.currentTarget.style.transform="translateY(-2px)",d.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)"},onMouseLeave:d=>{d.currentTarget.style.borderColor=t.border,d.currentTarget.style.transform="translateY(0)",d.currentTarget.style.boxShadow="none"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:10,paddingBottom:12,borderBottom:`1px solid ${t.border}`},children:[s.icon&&l.jsx("img",{src:s.icon,alt:s.name,style:{width:28,height:28,borderRadius:"50%",border:`1px solid ${t.border}`},onError:d=>d.currentTarget.style.display="none"}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:600,fontSize:14,color:t.textPrimary,marginBottom:2},children:s.name||"Unknown Protocol"}),l.jsx("div",{style:{fontSize:12,color:t.textSecondary},children:"Staking Position"})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginBottom:10},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:11,color:t.textSecondary,marginBottom:4},children:"Staked Value"}),l.jsx("div",{style:{fontSize:16,fontWeight:700,color:t.textPrimary},children:n(Qe(u))})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:11,color:t.textSecondary,marginBottom:4},children:"Rewards"}),l.jsx("div",{style:{fontSize:16,fontWeight:700,color:f>0?"#10b981":t.textPrimary},children:n(Qe(f))})]})]}),l.jsxs("div",{children:[l.jsxs("div",{style:{fontSize:12,color:t.textSecondary,marginBottom:8,fontWeight:600},children:["Staked Assets (",a.length,")"]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[a.slice(0,2).map((d,h)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px",backgroundColor:t.bgSecondary,borderRadius:8},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[d.logo&&l.jsx("img",{src:d.logo,alt:d.symbol,style:{width:20,height:20,borderRadius:"50%"},onError:v=>v.currentTarget.style.display="none"}),l.jsx("span",{style:{fontSize:13,fontWeight:500,color:t.textPrimary},children:d.symbol})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsx("div",{style:{fontSize:13,fontWeight:600,color:t.textPrimary},children:n(Qe(d.totalPrice||0))}),l.jsx("div",{style:{fontSize:11,color:t.textSecondary},children:n(Kr(d.balance||0,d.native))})]})]},h)),a.length>2&&l.jsxs("div",{style:{fontSize:12,color:t.textSecondary,textAlign:"center",padding:"4px 0"},children:["+",a.length-2," more assets"]})]})]})]},o)})})};async function G1(e,t,n){let r=0;const o="0".repeat(t);for(;;){const i=e+r.toString(),s=await q1(i);if(r%5e3===0&&n&&n(r,s),s.startsWith(o))return{nonce:r,hash:s};r++,r%1e4===0&&await new Promise(a=>setTimeout(a,0))}}async function q1(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(r)).map(s=>s.toString(16).padStart(2,"0")).join("")}const mg=({isOpen:e,onClose:t,onSelectWallet:n,availableWallets:r})=>{if(!e)return null;const i=Uo.map(s=>({...s,available:r[s.id]||!1})).filter(s=>s.available);return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"20px"},onClick:t,children:l.jsxs("div",{style:{background:"var(--mw-bg-primary, #0f1419)",borderRadius:20,maxWidth:480,width:"100%",maxHeight:"85vh",display:"flex",flexDirection:"column",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5)",border:"1px solid var(--mw-border, #2a3441)"},onClick:s=>s.stopPropagation(),children:[l.jsxs("div",{style:{padding:"28px 28px 20px",borderBottom:"1px solid var(--mw-border, #2a3441)",flexShrink:0},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[l.jsx("h2",{style:{margin:0,fontSize:22,fontWeight:600,color:"var(--mw-text-primary, #e4e7eb)"},children:"Connect Wallet"}),l.jsx("button",{onClick:t,style:{background:"transparent",border:"none",cursor:"pointer",padding:8,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:8,transition:"background 0.2s"},onMouseEnter:s=>{s.currentTarget.style.background="var(--mw-bg-secondary, #1a2028)"},onMouseLeave:s=>{s.currentTarget.style.background="transparent"},children:l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"var(--mw-text-secondary, #9ca3af)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})})]}),l.jsx("p",{style:{margin:0,fontSize:14,color:"var(--mw-text-secondary, #9ca3af)",lineHeight:1.5},children:"Choose a wallet to connect to your account"})]}),l.jsx("div",{style:{flex:1,overflowY:"auto",padding:"20px 28px 28px",minHeight:0},children:i.length===0?l.jsxs("div",{style:{padding:"32px 24px",textAlign:"center",color:"var(--mw-text-secondary, #9ca3af)",background:"var(--mw-bg-secondary, #1a2028)",borderRadius:12},children:[l.jsx("div",{style:{width:48,height:48,margin:"0 auto 16px",borderRadius:"50%",background:"var(--mw-border, #2a3441)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:24},children:""}),l.jsx("p",{style:{margin:"0 0 8px 0",fontSize:15,fontWeight:600},children:"No wallet extension detected"}),l.jsx("p",{style:{margin:0,fontSize:13,lineHeight:1.5},children:"Please install any supported wallet to continue"})]}):l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:i.map(s=>l.jsxs("button",{onClick:()=>n(s.id),style:{display:"flex",alignItems:"center",gap:14,padding:"14px 16px",background:"var(--mw-bg-secondary, #1a2028)",border:"1px solid var(--mw-border, #2a3441)",borderRadius:12,cursor:"pointer",transition:"all 0.2s",width:"100%"},onMouseEnter:a=>{a.currentTarget.style.transform="translateX(4px)",a.currentTarget.style.borderColor=s.color,a.currentTarget.style.background=`${s.color}08`},onMouseLeave:a=>{a.currentTarget.style.transform="translateX(0)",a.currentTarget.style.borderColor="var(--mw-border, #2a3441)",a.currentTarget.style.background="var(--mw-bg-secondary, #1a2028)"},children:[l.jsx("div",{style:{width:44,height:44,borderRadius:10,background:s.color,display:"flex",alignItems:"center",justifyContent:"center",fontSize:22,flexShrink:0},children:s.icon}),l.jsxs("div",{style:{textAlign:"left",flex:1,minWidth:0},children:[l.jsx("div",{style:{fontSize:15,fontWeight:600,color:"var(--mw-text-primary, #e4e7eb)",marginBottom:2},children:s.name}),l.jsx("div",{style:{fontSize:12,color:"var(--mw-text-secondary, #9ca3af)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:s.description})]}),l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"var(--mw-text-secondary, #9ca3af)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{flexShrink:0},children:l.jsx("path",{d:"m9 18 6-6-6-6"})})]},s.id))})})]})})},K1=({isOpen:e,onClose:t,onGroupCreated:n,onGroupSelected:r,currentWalletAddress:o,onConnectToGroup:i,initialGroupId:s})=>{const{theme:a}=Ct(),{groups:c,loading:u,error:f,createGroup:d,updateGroup:h,deleteGroup:v,clearError:g}=lg(),[x,w]=R.useState("list"),[p,m]=R.useState(null),[y,k]=R.useState(null),[z,T]=R.useState(""),[C,P]=R.useState(""),[M,D]=R.useState(""),[ie,X]=R.useState(""),[O,_]=R.useState(!1),[I,L]=R.useState(["","",""]),[N,S]=R.useState([null,null,null]),[b,A]=R.useState(null),[E,$]=R.useState("idle"),[he,de]=R.useState(""),[ve,Fe]=R.useState(!1),[Q,_e]=R.useState(null),[Y,re]=R.useState([!1,!1,!1]);R.useEffect(()=>{e||(w("list"),m(null),k(null),T(""),P(""),D(""),X(""),_(!1),L(["","",""]),S([null,null,null]),A(null),$("idle"),de(""),re([!1,!1,!1]),g())},[e,g]),R.useEffect(()=>{e&&s&&(console.log("[WalletGroupModal] Opening in connect mode with ID:",s),w("connect"),T(s))},[e,s]);const Ce=(H,ee)=>{const Pe=[...I];if(Pe[H]=ee.trim(),L(Pe),!ee.trim()){const ze=[...Y];ze[H]=!1,re(ze)}const Je=[...N];if(ee.trim().length>0){const ze=Wx(ee.trim());Je[H]=ze.valid?null:ze.error||null}else Je[H]=null;S(Je);const Ye=Pe.filter(ze=>ze.length>0);if(Ye.length>0){const ze=gc(Ye);A(ze.valid?null:ze.error||null)}else A(null)},fe=H=>{const ee=[...I];ee[H]="",L(ee);const Pe=[...Y];Pe[H]=!1,re(Pe);const Je=[...N];Je[H]=null,S(Je),A(null)},De=async H=>{var Pe;if(Q===null)return;Fe(!1);const ee=Rh(H);if(ee)try{let Je=null;if(ee.type==="solana"?Je=(await window.solana.connect({onlyIfTrusted:!1})).publicKey.toString():ee.type==="evm"&&(Je=(await(H==="rabby"&&window.rabby?window.rabby:window.ethereum).request({method:"eth_requestAccounts"}))[0]),Je){Ce(Q,Je);const Ye=[...Y];Ye[Q]=!0,re(Ye)}}catch(Je){Je.code!==4001&&!((Pe=Je.message)!=null&&Pe.includes("User rejected"))&&(console.error("Error connecting wallet:",Je),alert(`Failed to connect ${ee.name}. Please try again.`))}finally{_e(null)}},Be=async()=>{const H=I.filter(ee=>ee.length>0);if(H.length===0){A("Please add at least one wallet address");return}if(!O&&(!ie||ie.length<8)){A('Password must be at least 8 characters or check "Create without password"');return}try{let ee;if(O)console.log("[WalletGroup] Creating group without password..."),ee=await d({wallets:H,displayName:M.trim()||void 0});else{$("solving"),de("Initializing secure connection..."),console.log("[WalletGroup] Requesting challenge from server...");const Pe=await _x();console.log("[WalletGroup] Challenge received:",{challenge:Pe.challenge.substring(0,16)+"...",difficulty:Pe.difficulty,expiresAt:Pe.expiresAt}),de("Creating wallet group securely...");const{nonce:Je,hash:Ye}=await G1(Pe.challenge,Pe.difficulty,(ze,st)=>{de("Processing wallet group...")});console.log("[WalletGroup] Challenge solved, creating group..."),$("solved"),de("Finalizing wallet group..."),ee=await d({wallets:H,displayName:M.trim()||void 0,password:ie,challenge:Pe.challenge,nonce:Je.toString()})}ee?(console.log("[WalletGroup] Group created successfully:",ee.id),lt(),$("idle"),de(""),n&&n(ee.id),w("list")):(console.error("[WalletGroup] Failed to create group - no result returned"),$("error"),de("Failed to create group"))}catch(ee){console.error("[WalletGroup] Error creating group:",ee),$("error"),de(""),A(ee.message||"Failed to create group")}},dt=async()=>{if(!p)return;const H=I.filter(Pe=>Pe.length>0);if(H.length===0){A("Please add at least one wallet address");return}await h(p,{wallets:H,displayName:M.trim()||void 0})&&(lt(),w("list"),m(null))},zt=H=>{const ee=c.find(Je=>Je.id===H);if(!ee)return;m(H),D(ee.displayName||"");const Pe=[...ee.wallets];for(;Pe.length<3;)Pe.push("");L(Pe),S([null,null,null]),A(null),w("edit")},Pt=async()=>{if(!y)return;const H=c.find(Ye=>Ye.id===y);if(!H)return;const ee=I.filter(Ye=>Ye.length>0);if(ee.length===0){A("Please add at least one wallet address");return}const Pe=[...H.wallets,...ee];await h(y,{wallets:Pe,displayName:H.displayName||void 0})&&(lt(),w("list"))},lt=()=>{D(""),X(""),L(["","",""]),S([null,null,null]),A(null),m(null),k(null),T(""),P(""),re([!1,!1,!1])},Wt=()=>{lt(),w("list")},_t=H=>{navigator.clipboard.writeText(H).then(()=>{console.log("[WalletGroup] Group ID copied to clipboard:",H)}).catch(ee=>{console.error("[WalletGroup] Failed to copy group ID:",ee)})},gt=H=>{if(window.confirm("Disconnect from this wallet group? You can reconnect later using the Group ID."))try{Bl(H);const ee=c.filter(Pe=>Pe.id!==H);localStorage.setItem("defi10_wallet_groups",JSON.stringify(ee)),console.log("[WalletGroup] Disconnected from group:",H),window.location.reload()}catch(ee){console.error("[WalletGroup] Failed to disconnect:",ee)}},Tt=async H=>{window.confirm("Are you sure you want to delete this wallet group?")&&await v(H)},sn=async()=>{var ee,Pe;const H=z.trim();if(!H){A("Please enter a Group ID");return}try{A(null),console.log("[WalletGroup] Connecting to group:",H);const Ye=await hc(H,C?{password:C}:{});console.log("[WalletGroup] Authentication successful, group data received");const ze={id:Ye.walletGroupId,wallets:Ye.wallets,displayName:Ye.displayName,createdAt:Ye.createdAt},st=c.find(Zt=>Zt.id===ze.id);let $t;if(st)if(s)console.log("[WalletGroup] Reconnected - updating existing group"),$t=c.map(Zt=>Zt.id===ze.id?ze:Zt);else{A("This group is already in your list");return}else $t=[...c,ze];localStorage.setItem("defi10_wallet_groups",JSON.stringify($t)),console.log("[WalletGroup] Group connected and saved to local storage"),r&&r(ze.id),t()}catch(Je){console.error("[WalletGroup] Error connecting to group:",Je),((ee=Je.response)==null?void 0:ee.status)===401||((Pe=Je.response)==null?void 0:Pe.status)===404?A("Invalid Group ID or password. Please check and try again."):A(Je.message||"Failed to connect to group. Please try again.")}};if(!e)return null;const kn=N.some(H=>H!==null),Gt=I.some(H=>H.length>0)&&!kn&&!b;return l.jsxs("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(4px)",WebkitBackdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:20},children:[l.jsxs("div",{style:{background:a.bgPanel,borderRadius:20,maxWidth:700,width:"100%",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5)",border:`1px solid ${a.border}`,overflow:"hidden",boxSizing:"border-box"},children:[l.jsxs("div",{style:{padding:"24px 28px",borderBottom:`1px solid ${a.border}`,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsxs("div",{children:[l.jsx("h2",{style:{margin:0,fontSize:22,fontWeight:600,color:a.textPrimary,letterSpacing:.3},children:"Wallet Groups"}),l.jsx("p",{style:{margin:"4px 0 0 0",fontSize:13,color:a.textSecondary},children:x==="list"?"Manage your wallet collections":x==="create"?"Create a new wallet group":x==="addWallet"?"Add wallet to group":x==="connect"?"Connect to existing group":"Edit wallet group"})]}),l.jsx("button",{onClick:t,style:{background:"transparent",border:"none",width:36,height:36,borderRadius:10,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:a.textSecondary,transition:"all 0.15s"},onMouseEnter:H=>{H.currentTarget.style.background=a.bgPanelHover,H.currentTarget.style.color=a.textPrimary},onMouseLeave:H=>{H.currentTarget.style.background="transparent",H.currentTarget.style.color=a.textSecondary},children:l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})})]}),l.jsx("div",{style:{padding:"24px 28px",overflowY:"auto",overflowX:"hidden",flex:1,boxSizing:"border-box"},children:x==="list"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{display:"flex",gap:12,marginBottom:24},children:[l.jsxs("button",{onClick:()=>{lt(),w("create")},style:{flex:1,padding:"14px 20px",background:`linear-gradient(135deg, ${a.primary}, ${a.accent})`,border:"none",borderRadius:12,color:"#fff",fontSize:14,fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8,transition:"transform 0.15s, box-shadow 0.15s"},onMouseEnter:H=>{H.currentTarget.style.transform="translateY(-1px)",H.currentTarget.style.boxShadow="0 8px 20px rgba(0, 0, 0, 0.3)"},onMouseLeave:H=>{H.currentTarget.style.transform="translateY(0)",H.currentTarget.style.boxShadow="none"},children:[l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M12 5v14M5 12h14"})}),"Create New Group"]}),l.jsxs("button",{onClick:()=>{lt(),w("connect")},style:{flex:1,padding:"14px 20px",background:"transparent",border:`2px solid ${a.border}`,borderRadius:12,color:a.textPrimary,fontSize:14,fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8,transition:"all 0.15s"},onMouseEnter:H=>{H.currentTarget.style.background=a.bgPanelHover,H.currentTarget.style.borderColor=a.primary},onMouseLeave:H=>{H.currentTarget.style.background="transparent",H.currentTarget.style.borderColor=a.border},children:[l.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),l.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]}),"Connect to Group"]})]}),c.length===0?l.jsxs("div",{style:{textAlign:"center",padding:"48px 20px",color:a.textSecondary},children:[l.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",style:{margin:"0 auto 16px",opacity:.5},children:[l.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),l.jsx("circle",{cx:"9",cy:"7",r:"4"}),l.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),l.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),l.jsx("p",{style:{fontSize:14,margin:0},children:"No wallet groups yet"}),l.jsx("p",{style:{fontSize:12,margin:"8px 0 0 0",opacity:.7},children:"Create your first group to get started"})]}):l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:c.map(H=>l.jsxs("div",{style:{background:a.bgApp,border:`1px solid ${a.border}`,borderRadius:14,padding:18,transition:"border-color 0.15s"},onMouseEnter:ee=>{ee.currentTarget.style.borderColor=a.borderHover||a.border},onMouseLeave:ee=>{ee.currentTarget.style.borderColor=a.border},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:12},children:[l.jsxs("div",{style:{flex:1,minWidth:0},children:[l.jsx("h4",{style:{margin:0,fontSize:16,fontWeight:600,color:a.textPrimary,marginBottom:4},children:H.displayName||"Unnamed Group"}),l.jsxs("p",{style:{margin:0,fontSize:12,color:a.textSecondary},children:[H.wallets.length," wallet",H.wallets.length!==1?"s":""," "," ","Created ",new Date(H.createdAt).toLocaleDateString()]})]}),l.jsxs("div",{style:{display:"flex",gap:6,flexShrink:0,marginLeft:12},children:[r&&l.jsx("button",{onClick:()=>{r(H.id),t()},disabled:u,style:{padding:"6px 14px",background:a.primarySubtle,border:`1px solid ${a.border}`,borderRadius:8,color:a.textPrimary,fontSize:12,fontWeight:600,cursor:u?"not-allowed":"pointer",opacity:u?.5:1,transition:"all 0.15s"},onMouseEnter:ee=>{u||(ee.currentTarget.style.background=a.primary)},onMouseLeave:ee=>{u||(ee.currentTarget.style.background=a.primarySubtle)},children:"Select"}),l.jsxs("button",{onClick:()=>_t(H.id),disabled:u,style:{padding:"6px 14px",background:"transparent",border:`1px solid ${a.border}`,borderRadius:8,color:a.accent||a.primary,fontSize:12,fontWeight:600,cursor:u?"not-allowed":"pointer",opacity:u?.5:1,transition:"all 0.15s",display:"flex",alignItems:"center",gap:4},onMouseEnter:ee=>{u||(ee.currentTarget.style.background=a.bgPanelHover)},onMouseLeave:ee=>{u||(ee.currentTarget.style.background="transparent")},children:[l.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),l.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2h9a2 2 0 0 1 2 2v1"})]}),"Copy ID"]}),l.jsxs("button",{onClick:()=>gt(H.id),disabled:u,style:{padding:"6px 14px",background:"transparent",border:`1px solid ${a.border}`,borderRadius:8,color:a.warning||"#f59e0b",fontSize:12,fontWeight:600,cursor:u?"not-allowed":"pointer",opacity:u?.5:1,transition:"all 0.15s",display:"flex",alignItems:"center",gap:4},onMouseEnter:ee=>{u||(ee.currentTarget.style.background="rgba(245, 158, 11, 0.1)",ee.currentTarget.style.borderColor=a.warning||"#f59e0b")},onMouseLeave:ee=>{u||(ee.currentTarget.style.background="transparent",ee.currentTarget.style.borderColor=a.border)},children:[l.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),l.jsx("polyline",{points:"16 17 21 12 16 7"}),l.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Disconnect"]}),l.jsx("button",{onClick:()=>zt(H.id),disabled:u,style:{padding:"6px 14px",background:"transparent",border:`1px solid ${a.border}`,borderRadius:8,color:a.textPrimary,fontSize:12,fontWeight:600,cursor:u?"not-allowed":"pointer",opacity:u?.5:1,transition:"all 0.15s"},onMouseEnter:ee=>{u||(ee.currentTarget.style.background=a.bgPanelHover)},onMouseLeave:ee=>{u||(ee.currentTarget.style.background="transparent")},children:"Edit"}),l.jsx("button",{onClick:()=>Tt(H.id),disabled:u,style:{padding:"6px 10px",background:"transparent",border:`1px solid ${a.border}`,borderRadius:8,color:a.danger||"#ef4444",cursor:u?"not-allowed":"pointer",opacity:u?.5:1,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.15s"},onMouseEnter:ee=>{u||(ee.currentTarget.style.background="rgba(239, 68, 68, 0.1)",ee.currentTarget.style.borderColor=a.danger||"#ef4444")},onMouseLeave:ee=>{u||(ee.currentTarget.style.background="transparent",ee.currentTarget.style.borderColor=a.border)},children:l.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M3 6h18M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})})})]})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:H.wallets.map((ee,Pe)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,padding:"8px 12px",background:a.bgPanel,border:`1px solid ${a.border}`,borderRadius:10,fontSize:13},children:[l.jsx("span",{style:{padding:"3px 8px",background:a.primarySubtle,borderRadius:6,fontSize:11,fontWeight:600,color:a.textPrimary,textTransform:"uppercase",letterSpacing:.5},children:cs(ee)}),l.jsx("code",{style:{flex:1,color:a.textSecondary,fontFamily:"monospace",fontSize:12,overflow:"hidden",textOverflow:"ellipsis",wordBreak:"break-all"},children:Dx(ee,10)})]},Pe))})]},H.id))})]}):x==="connect"?l.jsx(l.Fragment,{children:l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[s&&l.jsxs("div",{style:{padding:"12px 16px",background:a.warning?`${a.warning}15`:"#f59e0b15",border:`1px solid ${a.warning||"#f59e0b"}`,borderRadius:8,fontSize:13,lineHeight:1.5,color:a.textPrimary},children:[l.jsx("p",{style:{margin:"0 0 8px 0",fontWeight:600,color:a.warning||"#f59e0b"},children:" Session Expired"}),l.jsx("p",{style:{margin:0,color:a.textSecondary},children:"Your authentication session has expired. Please enter your password to reconnect to this wallet group."})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"group-id",style:{display:"block",fontSize:13,fontWeight:600,color:a.textPrimary,marginBottom:8},children:"Group ID"}),l.jsx("input",{id:"group-id",type:"text",placeholder:"Enter the wallet group ID",value:z,readOnly:!!s,onChange:H=>{s||(T(H.target.value),A(null))},style:{width:"100%",padding:"12px 14px",borderRadius:10,border:`1px solid ${b?a.danger||"#ef4444":a.border}`,background:s?a.bgElevated||a.bgPanel:a.bgApp,color:a.textPrimary,fontSize:14,fontFamily:"monospace",outline:"none",transition:"border-color 0.15s",boxSizing:"border-box",cursor:s?"not-allowed":"text",opacity:s?.7:1},onFocus:H=>!s&&(H.currentTarget.style.borderColor=b?a.danger||"#ef4444":a.primary),onBlur:H=>!s&&(H.currentTarget.style.borderColor=b?a.danger||"#ef4444":a.border)})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"connect-password",style:{display:"block",fontSize:13,fontWeight:600,color:a.textPrimary,marginBottom:8},children:["Password ",l.jsx("span",{style:{opacity:.5},children:"(if required)"})]}),l.jsx("input",{id:"connect-password",type:"password",placeholder:"Enter password if group is protected",value:C,onChange:H=>{P(H.target.value),A(null)},style:{width:"100%",padding:"12px 14px",borderRadius:10,border:`1px solid ${b?a.danger||"#ef4444":a.border}`,background:a.bgApp,color:a.textPrimary,fontSize:14,outline:"none",transition:"border-color 0.15s",boxSizing:"border-box"},onFocus:H=>H.currentTarget.style.borderColor=b?a.danger||"#ef4444":a.primary,onBlur:H=>H.currentTarget.style.borderColor=b?a.danger||"#ef4444":a.border}),b&&l.jsx("p",{style:{margin:"8px 0 0 0",fontSize:12,color:a.danger||"#ef4444"},children:b}),!b&&l.jsx("p",{style:{margin:"6px 0 0",fontSize:12,color:a.textSecondary,opacity:.7},children:"Leave empty if the group has no password"})]}),l.jsx("div",{style:{padding:"16px",background:a.bgPanel,borderRadius:10,border:`1px solid ${a.border}`},children:l.jsxs("p",{style:{margin:0,fontSize:13,color:a.textSecondary,lineHeight:1.6},children:[l.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{verticalAlign:"text-bottom",marginRight:6},children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("path",{d:"M12 16v-4M12 8h.01"})]}),"Enter the Group ID from another device to sync your wallet collections across devices."]})}),f&&l.jsx("div",{style:{padding:"12px 16px",background:"rgba(239, 68, 68, 0.1)",border:`1px solid ${a.danger||"#ef4444"}`,borderRadius:10,color:a.danger||"#ef4444",fontSize:13},children:f})]})}):l.jsx(l.Fragment,{children:l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[x!=="addWallet"&&l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"group-name",style:{display:"block",fontSize:13,fontWeight:600,color:a.textPrimary,marginBottom:8},children:["Group Name ",l.jsx("span",{style:{opacity:.5},children:"(optional)"})]}),l.jsx("input",{id:"group-name",type:"text",placeholder:"e.g., Main Portfolio",value:M,onChange:H=>D(H.target.value),maxLength:50,style:{width:"100%",padding:"12px 14px",borderRadius:10,border:`1px solid ${a.border}`,background:a.bgApp,color:a.textPrimary,fontSize:14,outline:"none",transition:"border-color 0.15s",boxSizing:"border-box"},onFocus:H=>H.currentTarget.style.borderColor=a.primary,onBlur:H=>H.currentTarget.style.borderColor=a.border})]}),x==="create"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:10,cursor:"pointer",fontSize:13,color:a.textPrimary},children:[l.jsx("input",{type:"checkbox",checked:O,onChange:H=>{_(H.target.checked),H.target.checked&&X("")},style:{width:18,height:18,cursor:"pointer"}}),l.jsx("span",{children:"Create without password"})]}),O&&l.jsxs("div",{style:{padding:"12px 16px",background:"rgba(245, 158, 11, 0.1)",border:`1px solid ${a.warning||"#f59e0b"}`,borderRadius:10,display:"flex",gap:10,alignItems:"flex-start"},children:[l.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:a.warning||"#f59e0b",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{flexShrink:0,marginTop:2},children:[l.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),l.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),l.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),l.jsxs("div",{style:{flex:1},children:[l.jsx("p",{style:{margin:0,fontSize:12,fontWeight:600,color:a.warning||"#f59e0b",marginBottom:4},children:" Security Warning"}),l.jsx("p",{style:{margin:0,fontSize:12,color:a.textSecondary,lineHeight:1.5},children:"Anyone with the Group ID will be able to view and modify this wallet group. We recommend using a password for better security."})]})]})]}),!O&&l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"group-password",style:{display:"block",fontSize:13,fontWeight:600,color:a.textPrimary,marginBottom:8},children:["Password ",l.jsx("span",{style:{opacity:.5},children:"(min 8 characters)"})]}),l.jsx("input",{id:"group-password",type:"password",placeholder:"Enter a secure password",value:ie,onChange:H=>X(H.target.value),minLength:8,style:{width:"100%",padding:"12px 14px",borderRadius:10,border:`1px solid ${ie.length>0&&ie.length<8?a.danger||"#ef4444":a.border}`,background:a.bgApp,color:a.textPrimary,fontSize:14,outline:"none",transition:"border-color 0.15s",boxSizing:"border-box"},onFocus:H=>H.currentTarget.style.borderColor=a.primary,onBlur:H=>H.currentTarget.style.borderColor=ie.length>0&&ie.length<8?a.danger||"#ef4444":a.border}),ie.length>0&&ie.length<8&&l.jsx("p",{style:{margin:"6px 0 0",fontSize:12,color:a.danger||"#ef4444"},children:"Password must be at least 8 characters"}),l.jsx("p",{style:{margin:"6px 0 0",fontSize:12,color:a.textSecondary,opacity:.7},children:" This password is required to access and modify this wallet group. Use a strong password - there is no recovery option if forgotten."})]})]}),x==="addWallet"&&l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:13,fontWeight:600,color:a.textPrimary,marginBottom:8},children:"Adding to Group"}),l.jsx("div",{style:{padding:"12px 14px",borderRadius:10,background:a.bgPanel,color:a.textPrimary,fontSize:14,border:`1px solid ${a.border}`},children:M||"Unnamed Group"})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:13,fontWeight:600,color:a.textPrimary,marginBottom:8},children:["Wallet Addresses ",l.jsx("span",{style:{opacity:.5},children:"(max 3)"})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:I.map((H,ee)=>l.jsx("div",{children:l.jsxs("div",{style:{display:"flex",gap:8,alignItems:"flex-start"},children:[l.jsx("span",{style:{width:24,height:24,borderRadius:6,background:a.primarySubtle,color:a.textPrimary,fontSize:11,fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,marginTop:8},children:ee+1}),l.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:6},children:[l.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[l.jsxs("div",{style:{position:"relative",flex:1},children:[l.jsx("input",{id:`wallet-${ee}`,type:"text",placeholder:`0x... or Solana address ${ee===0?"(required)":""}`,value:H,onChange:Pe=>Ce(ee,Pe.target.value),readOnly:Y[ee],style:{width:"100%",padding:H&&!N[ee]?"12px 70px 12px 14px":"12px 14px",borderRadius:10,border:`1px solid ${N[ee]?a.danger||"#ef4444":a.border}`,background:Y[ee]?a.primarySubtle:a.bgApp,color:a.textPrimary,fontSize:13,fontFamily:"monospace",outline:"none",transition:"border-color 0.15s, padding 0.15s, background 0.15s",boxSizing:"border-box",cursor:Y[ee]?"not-allowed":"text"},onFocus:Pe=>{Y[ee]||(Pe.currentTarget.style.borderColor=N[ee]?a.danger||"#ef4444":a.primary)},onBlur:Pe=>Pe.currentTarget.style.borderColor=N[ee]?a.danger||"#ef4444":a.border}),H&&!N[ee]&&l.jsxs("div",{style:{position:"absolute",right:12,top:"50%",transform:"translateY(-50%)",display:"flex",alignItems:"center",gap:8},children:[l.jsx("span",{style:{padding:"4px 8px",background:a.success+"20"||"#10b98120",color:a.success||"#10b981",borderRadius:6,fontSize:10,fontWeight:600,textTransform:"uppercase",letterSpacing:.5},children:cs(H)}),Y[ee]?l.jsx("button",{type:"button",onClick:()=>fe(ee),title:"Disconnect wallet",style:{padding:"4px 8px",borderRadius:6,border:"none",background:a.danger+"20"||"#ef444420",color:a.danger||"#ef4444",fontSize:10,fontWeight:600,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:4},onMouseEnter:Pe=>{Pe.currentTarget.style.background=a.danger||"#ef4444",Pe.currentTarget.style.color="#fff"},onMouseLeave:Pe=>{Pe.currentTarget.style.background=a.danger+"20"||"#ef444420",Pe.currentTarget.style.color=a.danger||"#ef4444"},children:l.jsxs("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),l.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}):l.jsxs("button",{type:"button",onClick:()=>{_e(ee),Fe(!0)},title:"Connect wallet",style:{padding:"4px 8px",borderRadius:6,border:"none",background:a.primary+"20",color:a.primary,fontSize:10,fontWeight:600,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:4,whiteSpace:"nowrap"},onMouseEnter:Pe=>{Pe.currentTarget.style.background=a.primary,Pe.currentTarget.style.color="#fff"},onMouseLeave:Pe=>{Pe.currentTarget.style.background=a.primary+"20",Pe.currentTarget.style.color=a.primary},children:[l.jsxs("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1"}),l.jsx("path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4"})]}),"Connect"]})]})]}),l.jsxs("button",{type:"button",onClick:()=>{_e(ee),Fe(!0)},title:"Connect wallet",style:{padding:"8px 12px",borderRadius:8,border:`1px solid ${a.border}`,background:a.bgApp,color:a.textPrimary,fontSize:11,fontWeight:600,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:6,flexShrink:0,whiteSpace:"nowrap"},onMouseEnter:Pe=>{Pe.currentTarget.style.background=a.primarySubtle,Pe.currentTarget.style.borderColor=a.primary},onMouseLeave:Pe=>{Pe.currentTarget.style.background=a.bgApp,Pe.currentTarget.style.borderColor=a.border},children:[l.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1"}),l.jsx("path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4"})]}),"Connect"]})]}),N[ee]&&l.jsx("div",{style:{marginLeft:32,fontSize:12,color:a.danger||"#ef4444"},children:N[ee]})]})]})},ee))})]}),(b||f)&&l.jsx("div",{style:{padding:"12px 16px",background:(a.danger||"#ef4444")+"15",border:`1px solid ${a.danger||"#ef4444"}`,borderRadius:10,color:a.danger||"#ef4444",fontSize:13},children:b||f}),x==="create"&&E!=="idle"&&l.jsxs("div",{style:{padding:"12px 16px",background:E==="error"?(a.danger||"#ef4444")+"15":E==="solved"?(a.primary||"#45b773")+"15":a.primarySubtle,border:`1px solid ${E==="error"?a.danger||"#ef4444":E==="solved"?a.primary:a.border}`,borderRadius:10,color:E==="error"?a.danger||"#ef4444":E==="solved"?a.primary:a.textPrimary,fontSize:13,display:"flex",alignItems:"center",gap:10},children:[E==="solving"&&l.jsx("div",{style:{width:16,height:16,border:`2px solid ${a.primary}`,borderTopColor:"transparent",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),E==="solved"&&l.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M20 6 9 17l-5-5"})}),l.jsx("span",{children:he}),E==="solving"&&l.jsx("span",{style:{fontSize:11,opacity:.7,marginLeft:"auto"},children:"This may take a moment..."})]})]})})}),l.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `}),x!=="list"&&l.jsxs("div",{style:{padding:"20px 28px",borderTop:`1px solid ${a.border}`,display:"flex",gap:10,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:Wt,style:{padding:"10px 20px",background:"transparent",border:`1px solid ${a.border}`,borderRadius:10,color:a.textPrimary,fontSize:13,fontWeight:600,cursor:"pointer",transition:"all 0.15s"},onMouseEnter:H=>{H.currentTarget.style.background=a.bgPanelHover},onMouseLeave:H=>{H.currentTarget.style.background="transparent"},children:"Cancel"}),l.jsx("button",{onClick:x==="edit"?dt:x==="addWallet"?Pt:x==="connect"?sn:Be,disabled:u||E==="solving"||(x==="connect"?!z.trim():!Gt),style:{padding:"10px 24px",background:u||E==="solving"||(x==="connect"?!z.trim():!Gt)?a.textMuted:`linear-gradient(135deg, ${a.primary}, ${a.accent})`,border:"none",borderRadius:10,color:"#fff",fontSize:13,fontWeight:600,cursor:u||E==="solving"||(x==="connect"?!z.trim():!Gt)?"not-allowed":"pointer",opacity:u||E==="solving"||(x==="connect"?!z.trim():!Gt)?.5:1,transition:"all 0.15s"},onMouseEnter:H=>{!u&&E!=="solving"&&(x==="connect"?z.trim():Gt)&&(H.currentTarget.style.transform="translateY(-1px)",H.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.3)")},onMouseLeave:H=>{!u&&E!=="solving"&&(x==="connect"?z.trim():Gt)&&(H.currentTarget.style.transform="translateY(0)",H.currentTarget.style.boxShadow="none")},children:u||E==="solving"?E==="solving"?"Solving Challenge...":"Connecting...":x==="edit"?"Update Group":x==="addWallet"?"Add Wallets":x==="connect"?"Connect to Group":"Create Group"})]})]}),l.jsx(mg,{isOpen:ve,onClose:()=>{Fe(!1),_e(null)},onSelectWallet:De,availableWallets:Lh()})]})},Y1=({isOpen:e,onClose:t,walletName:n,walletIcon:r,walletColor:o})=>(R.useEffect(()=>{if(!e)return;const i=setTimeout(()=>{console.warn("[WalletConnectionPending] Auto-closing after 30s timeout"),t()},3e4);return()=>clearTimeout(i)},[e,t]),e?l.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px",animation:"fadeIn 0.2s ease-out"},children:[l.jsx("style",{children:`
          @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
          }
          @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
          }
          @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
          }
        `}),l.jsxs("div",{style:{background:"var(--mw-bg-primary, #0f1419)",borderRadius:24,maxWidth:420,width:"100%",padding:"48px 40px",border:"1px solid var(--mw-border, #2a3441)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5)",textAlign:"center",position:"relative"},children:[l.jsx("button",{onClick:t,style:{position:"absolute",top:20,right:20,background:"transparent",border:"none",cursor:"pointer",padding:8,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:8,transition:"background 0.2s",color:"var(--mw-text-secondary, #9ca3af)"},onMouseEnter:i=>{i.currentTarget.style.background="var(--mw-bg-secondary, #1a2028)"},onMouseLeave:i=>{i.currentTarget.style.background="transparent"},children:l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})}),l.jsx("button",{onClick:t,style:{position:"absolute",top:20,left:20,background:"transparent",border:"none",cursor:"pointer",padding:8,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:8,transition:"background 0.2s",color:"var(--mw-text-secondary, #9ca3af)"},onMouseEnter:i=>{i.currentTarget.style.background="var(--mw-bg-secondary, #1a2028)"},onMouseLeave:i=>{i.currentTarget.style.background="transparent"},children:l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"m15 18-6-6 6-6"})})}),l.jsx("div",{style:{width:120,height:120,margin:"0 auto 32px",borderRadius:24,background:o||"#8697FF",display:"flex",alignItems:"center",justifyContent:"center",fontSize:60,animation:"pulse 2s ease-in-out infinite",boxShadow:`0 8px 32px ${o}40`},children:r||""}),l.jsx("h2",{style:{margin:"0 0 12px 0",fontSize:24,fontWeight:600,color:"var(--mw-text-primary, #e4e7eb)"},children:n||"Wallet"}),l.jsx("p",{style:{margin:"0 0 8px 0",fontSize:18,fontWeight:600,color:"var(--mw-text-primary, #e4e7eb)"},children:"Requesting Connection"}),l.jsxs("p",{style:{margin:"0 0 24px 0",fontSize:14,color:"var(--mw-text-secondary, #9ca3af)",lineHeight:1.6},children:["Open the ",n||"wallet"," browser extension to connect your wallet."]}),l.jsx("div",{style:{display:"flex",justifyContent:"center",gap:8,margin:"24px 0 0"},children:[0,1,2].map(i=>l.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:o||"#8697FF",animation:`pulse 1.4s ease-in-out ${i*.2}s infinite`}},i))})]})]}):null),il="wallet_account",Q1=48,J1=qe.API_BASE_URL+"/api/v1",co={showBalanceColumn:!0,showUnitPriceColumn:!0},uo={tokensExpanded:!0,liquidityPoolsExpanded:!0},ha={showOnlyPositiveBalance:!0};function X1(){const[e,t]=R.useState(null),[n,r]=R.useState(null),[o,i]=R.useState(null),[s,a]=R.useState(!1),[c,u]=R.useState(null),[f,d]=R.useState(!1),[h,v]=R.useState(!1),g=R.useRef(null),x=R.useRef(0),w=R.useRef(!1),p=R.useRef(20),m=R.useRef(5e3),y=R.useRef(null),k=R.useRef(null),z=R.useRef(!1),T=R.useRef(0),C=R.useRef(null),P=()=>{g.current&&(clearTimeout(g.current),g.current=null)},M=R.useCallback(()=>{P(),t(null),r(null),i(null),a(!1),u(null),d(!1),v(!1),x.current=0,w.current=!1,p.current=20,m.current=5e3,C.current=null},[]),D=R.useCallback(async(I,L=null,{isGroup:N=!1}={})=>{if(z.current)return null;z.current=!0;try{M(),d(!0);const S=N?Nt.buildStartAggregationBodyV2({walletGroupId:I}):Nt.buildStartAggregationBody(I,L||void 0),b={"Content-Type":"application/json"};if(N){const he=Fi(I);he&&(b.Authorization=`Bearer ${he}`)}const A=await fetch(Nt.startAggregation(),{method:"POST",headers:b,body:S});if(A.status===401&&N)throw console.warn("[useAggregationJob] Token expired for wallet group:",I),as(I),new Error("Authentication required");if(!A.ok)throw new Error(`Start failed: ${A.status}`);const E=await A.json();let $=E.jobId;if(!$&&Array.isArray(E.jobs)&&($=Nt.pickAggregationJob(E.jobs)),!$)throw new Error("Missing jobId in start response");return t($),y.current=N?null:I,k.current=null,C.current=N?I:null,x.current=0,m.current=5e3,$}catch(S){return u(S),d(!1),null}finally{z.current=!1}},[M]),ie=R.useCallback(async(I,L=null,{force:N=!1,isGroup:S=!1}={})=>{if(!I)return null;const b=Date.now();if(!N&&b-T.current<500||(T.current=b,!N&&e&&!s&&!S&&y.current===I)||z.current)return e;z.current=!0;try{d(!0),M(),d(!0);const A=S?Nt.buildStartAggregationBodyV2({walletGroupId:I}):Nt.buildStartAggregationBody(I),E={"Content-Type":"application/json"};if(S){const ve=Fi(I);ve&&(E.Authorization=`Bearer ${ve}`)}const $=await fetch(Nt.startAggregation(),{method:"POST",headers:E,body:A});if($.status===401&&S)throw console.warn("[useAggregationJob] Token expired for wallet group:",I),as(I),new Error("Authentication required");if(!$.ok)throw new Error(`Start failed: ${$.status}`);const he=await $.json();let de=he.jobId;if(!de&&Array.isArray(he.jobs)&&(de=Nt.pickAggregationJob(he.jobs)),!de)throw new Error("Missing jobId in start response");return t(de),y.current=S?null:I,k.current=null,C.current=S?I:null,x.current=0,m.current=5e3,de}catch(A){return u(A),d(!1),null}finally{z.current=!1}},[e,s,M]),X=R.useCallback(async I=>{try{const L={};if(C.current){const b=Fi(C.current);b&&(L.Authorization=`Bearer ${b}`)}const N=await fetch(Nt.getAggregation(I),{headers:L});if(N.status===404)throw a(!0),new Error("Job not found (expired or invalid id)");if(!N.ok)throw new Error(`Aggregation fetch failed: ${N.status}`);const S=await N.json();if(S.summary&&typeof S.summary=="object"){const b=S.summary,A={TotalTokens:b.TotalTokens??b.totalTokens??b.total_tokens??b.tokens??null,TotalAaveSupplies:b.TotalAaveSupplies??b.totalAaveSupplies??b.aaveSupplies??null,TotalAaveBorrows:b.TotalAaveBorrows??b.totalAaveBorrows??b.aaveBorrows??null,TotalUniswapPositions:b.TotalUniswapPositions??b.totalUniswapPositions??b.uniswapPositions??null,ProvidersCompleted:b.ProvidersCompleted||b.providersCompleted||b.providers||b.providers_completed||[]};i(A)}if(Array.isArray(S.processed))if(S.processed.length>0&&S.processed.every(A=>!A||A.provider==="0")&&S.summary){const A=(S.summary.ProvidersCompleted||S.summary.providersCompleted||S.summary.providers||[]).filter(E=>typeof E=="string").map(E=>({provider:E,status:"Success",error:null}));S.processed=A}else{const A=new Map;S.processed.forEach(E=>{!E||!E.provider||A.set(E.provider,E)}),S.processed=Array.from(A.values())}else if((!S.processed||!S.processed.length)&&S.summary){const b=(S.summary.ProvidersCompleted||S.summary.providersCompleted||S.summary.providers||[]).filter(A=>typeof A=="string").map(A=>({provider:A,status:"Success",error:null}));b.length&&(S.processed=b)}r(S),/^(Completed|CompletedWithErrors)$/i.test(S.status)?v(!0):S.status==="TimedOut"?(console.log(`Job TimedOut (attempt ${x.current}), continuing with progressive polling...`),v(!1)):S.isCompleted&&v(!0)}catch(L){u(L)}},[]),O=R.useCallback(()=>{const I=x.current;return I<=2?5e3:I<=5?1e4:I<=10?2e4:I<=15?3e4:6e4},[]);R.useEffect(()=>{if(!e||w.current)return;const I=async()=>{if(!w.current){if(x.current>=p.current){console.warn(`Polling stopped: reached maximum attempts (${p.current})`),u(new Error(`Aggregation polling timeout after ${p.current} attempts`)),d(!1);return}x.current+=1,await X(e),!w.current&&!h?(m.current=O(),console.log(`Scheduling next poll in ${m.current}ms (attempt ${x.current}/${p.current})`),g.current=setTimeout(I,m.current)):d(!1)}};return I(),()=>{w.current=!0,P()}},[e,h,X,O]);const _=(n==null?void 0:n.progress)??(n&&n.expected>0?((n.succeeded||0)+(n.failed||0)+(n.timedOut||0))/n.expected:0);return{jobId:e,snapshot:n,error:c,loading:f,isCompleted:h,progress:_,expected:(n==null?void 0:n.expected)??null,succeeded:(n==null?void 0:n.succeeded)??null,failed:(n==null?void 0:n.failed)??null,timedOut:(n==null?void 0:n.timedOut)??null,status:(n==null?void 0:n.status)||(h?"Completed":"Running"),summary:o,expired:s,pending:(n==null?void 0:n.pending)||[],processed:(n==null?void 0:n.processed)||[],pollingAttempt:x.current,maxPollingAttempts:p.current,nextPollInterval:m.current,start:D,ensure:ie,reset:M}}function Z1(){const[e,t]=R.useState(null),[n,r]=R.useState(!1),[o,i]=R.useState([]),[s,a]=R.useState(!1),c=R.useRef(!1),[u,f]=R.useState(!1),[d,h]=R.useState({}),[v,g]=R.useState(null),x=R.useCallback(async({force:P}={})=>{if(!(c.current&&!P)){c.current||(c.current=!0);try{a(!0);const M=await fetch(`${J1}/wallets/supported-chains`);if(M.ok){const D=await M.json();Array.isArray(D)?i(D):D&&(Array.isArray(D.supportedChains)?i(D.supportedChains):Array.isArray(D.chains)?i(D.chains):Array.isArray(D.data)&&i(D.data))}else console.error("Failed to fetch supported chains",M.status)}catch(M){console.error("Error fetching supported chains",M)}finally{a(!1)}}},[]),w=R.useCallback((P=!1)=>x({force:P}),[x]);function p(P){const M={account:P,timestamp:Date.now()};localStorage.setItem(il,JSON.stringify(M)),t(P)}function m(){const P=localStorage.getItem(il);if(!P)return null;try{const M=JSON.parse(P),D=Date.now()-M.timestamp,ie=Q1*60*60*1e3;return D>ie?(localStorage.removeItem(il),null):M.account}catch{return localStorage.removeItem(il),null}}async function y(){if(!Zy()){alert(`No wallet found. Please install ${e0()}.`);return}h(Lh()),f(!0)}async function k(P){var ie;f(!1);const M=Rh(P);if(!M){console.error(`Unknown wallet type: ${P}`);return}console.log(`[Connect] Starting connection to ${M.name}`);const D=Date.now();g({walletName:M.name,walletIcon:M.icon,walletColor:M.color});try{if(M.type==="solana"){console.log("[Connect] Requesting Solana connection...");const I=(await window.solana.connect({onlyIfTrusted:!1})).publicKey.toString();console.log("[Connect] Solana connected:",I),p(I)}else if(M.type==="evm"){const _=P==="rabby"&&window.rabby?window.rabby:window.ethereum;console.log(`[Connect] Requesting EVM accounts from ${P}...`);const L=(await _.request({method:"eth_requestAccounts"}))[0];console.log("[Connect] EVM connected:",L),p(L)}const X=Date.now()-D,O=Math.max(0,500-X);O>0&&(console.log(`[Connect] Waiting ${O}ms before closing...`),await new Promise(_=>setTimeout(_,O))),console.log("[Connect] Success - closing pending screen"),g(null)}catch(X){console.error(`[Connect] Error connecting ${M.name}:`,X),g(null),X.code===4001||((ie=X.message)==null?void 0:ie.includes("User rejected"))?console.log("[Connect] User rejected the connection"):alert(`Failed to connect ${M.name}. Please try again.`)}}async function z(){if(e)try{await navigator.clipboard.writeText(e),alert("Address copied!")}catch(P){console.error("Copy failed:",P)}}async function T(){if(localStorage.removeItem(il),t(null),window.solana&&window.solana.isPhantom&&window.solana.isConnected)try{await window.solana.disconnect()}catch(P){console.error("Error disconnecting Phantom:",P)}}R.useEffect(()=>{const P=m();P&&t(P)},[]),R.useEffect(()=>{var D,ie,X,O,_,I;const P=L=>{L.length===0?T():p(L[0])},M=L=>{L?p(L.toString()):T()};return window.ethereum&&((ie=(D=window.ethereum).on)==null||ie.call(D,"accountsChanged",P)),window.solana&&window.solana.isPhantom&&((O=(X=window.solana).on)==null||O.call(X,"accountChanged",M),(I=(_=window.solana).on)==null||I.call(_,"disconnect",T)),()=>{var L,N,S,b,A,E;window.ethereum&&((N=(L=window.ethereum).removeListener)==null||N.call(L,"accountsChanged",P)),window.solana&&window.solana.isPhantom&&((b=(S=window.solana).removeListener)==null||b.call(S,"accountChanged",M),(E=(A=window.solana).removeListener)==null||E.call(A,"disconnect",T))}},[]);const C=R.useCallback(async P=>{if(!P)return null;try{const M=await fetch(Nt.getRebalances(P));return M.ok?await M.json():null}catch(M){return console.error("getRebalances failed",M),null}},[]);return{account:e,loading:n,setLoading:r,supportedChains:o,chainsLoading:s,refreshSupportedChains:w,connectWallet:y,connectToWallet:k,showWalletSelector:u,setShowWalletSelector:f,availableWallets:d,pendingConnection:v,setPendingConnection:g,copyAddress:z,disconnect:T,getRebalances:C}}function ev(){const[e,t]=R.useState(null),[n,r]=R.useState({x:0,y:0});function o(s,a,c){const u=s.target.getBoundingClientRect();r({x:u.left+u.width/2,y:u.top-10}),t(`${a}-${c}`)}function i(){t(null)}return{tooltipVisible:e,tooltipPosition:n,showTooltip:o,hideTooltip:i,setTooltipPosition:r}}const fo={};function tv(){const{theme:e,mode:t,toggleTheme:n}=Ct(),[r,o]=R.useState(!1),i=()=>o(j=>!j);R.useEffect(()=>{try{const j=localStorage.getItem("defi10_mask_values");j==="true"&&o(!0),j==="false"&&o(!1)}catch{}},[]),R.useEffect(()=>{try{localStorage.setItem("defi10_mask_values",String(r))}catch{}},[r]);const s=typeof window<"u"?window.innerWidth:1200,[a,c]=R.useState(s);R.useEffect(()=>{const j=()=>c(typeof window<"u"?window.innerWidth:s);return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]);const u=a>=1100?"4%":a>=800?"2%":a>=480?"20px":"0",f=a<700,d=a<900,h=a<600,{account:v,loading:g,connectWallet:x,connectToWallet:w,showWalletSelector:p,setShowWalletSelector:m,availableWallets:y,pendingConnection:k,setPendingConnection:z,disconnect:T,supportedChains:C,chainsLoading:P,refreshSupportedChains:M}=Z1(),D=R.useRef(!1),[ie,X]=R.useState(!1),[O,_]=R.useState(!1),[I,L]=R.useState(!1),[N,S]=R.useState(null),[b,A]=R.useState(null),[E,$]=R.useState(!1),[he,de]=R.useState(null),[ve,Fe]=R.useState(!1),Q=()=>{T(),S(null),window.history.pushState({},"","/")},_e=async()=>{Fe(!0);try{const j=await fetch(Nt.getProtocolsStatus());if(j.ok){const q=await j.json();de(q)}else de({error:"Failed to load status"})}catch(j){de({error:j.message})}finally{Fe(!1)}};R.useEffect(()=>{const q=window.location.pathname.match(/^\/portfolio\/([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})\/?$/i);if(q){const K=q[1];try{const ue=localStorage.getItem("defi10_wallet_groups"),nt=(ue?JSON.parse(ue):[]).find(Me=>Me.id===K),mn=localStorage.getItem("defi10_wallet_group_tokens"),ge=(mn?JSON.parse(mn):[]).find(Me=>Me.walletGroupId===K),Re=ge&&new Date(ge.expiresAt)>new Date;nt&&Re?S(K):(A(K),L(!0))}catch(ue){console.error("[App] Error checking local wallet groups:",ue),A(K),L(!0)}}},[]),R.useEffect(()=>{const j=zx(q=>{q===N&&(A(q),L(!0))});return()=>j()},[N]),R.useEffect(()=>{if(v&&!D.current){X(!0),D.current=!0;const j=setTimeout(()=>X(!1),1600);return()=>clearTimeout(j)}},[v]),R.useEffect(()=>{v&&window.location.pathname==="/"&&window.history.pushState({},"","/portfolio")},[v]);const[Y,re]=R.useState(null),Ce=()=>{},[fe,De]=R.useState(null),[Be,dt]=R.useState(null),zt=async(j,q=null)=>{if(!j&&!q){dt(null);return}try{const K=q?Nt.getStrategiesByGroup(q):Nt.getStrategies(j),ue=await fetch(K);if(!ue.ok){dt(null);return}const Ue=await ue.json();dt(Ue)}catch{dt(null)}},{tooltipVisible:Pt,tooltipPosition:lt}=ev(),[Wt,_t]=R.useState(ha==null?void 0:ha.showOnlyPositiveBalance),[gt,Tt]=R.useState(uo==null?void 0:uo.tokensExpanded),[sn,kn]=R.useState(uo==null?void 0:uo.liquidityPoolsExpanded),[Gt,H]=R.useState(!0),[ee,Pe]=R.useState(!0),[Je,Ye]=R.useState(co==null?void 0:co.showBalanceColumn),[ze,st]=R.useState(co==null?void 0:co.showUnitPriceColumn),[$t,Zt]=R.useState(!1),[Un,fr]=R.useState(!1),[Mt,pr]=R.useState(null),[Zn,te]=R.useState("table"),[me,$e]=R.useState({}),[F,U]=R.useState({});R.useEffect(()=>{const j=[...We()||[],...Dt()||[],...so()||[]];if(!j.length)return;const q=new Set;j.forEach(K=>{var Ue,nt,mn,Hn;const ue=((Ue=K.protocol)==null?void 0:Ue.name)||((mn=(nt=K.position)==null?void 0:nt.protocol)==null?void 0:mn.name)||((Hn=K.position)==null?void 0:Hn.name)||K.protocolName||K.name;ue&&q.add(ue)}),U(K=>{let ue=!1;const Ue={...K};return q.forEach(nt=>{Ue[nt]===void 0&&(Ue[nt]=!0,ue=!0)}),ue?Ue:K})},[Y]);const B=j=>U(q=>({...q,[j]:!q[j]})),[V,oe]=R.useState(""),se=()=>{const j=(V||"").trim();if(!j){alert("Please enter a wallet address");return}zt(j),we(j)};R.useEffect(()=>{v||(Se.current=null,pr(null))},[v]),R.useEffect(()=>{},[v,N]);const{ensure:J,jobId:ke,snapshot:G,summary:ae,isCompleted:be,expired:Ae,expected:pe,succeeded:Ne,failed:et,timedOut:en,status:Et,error:mt}=X1();R.useEffect(()=>{if(be)try{M(!0)}catch{}},[be,M]);const He=typeof import.meta<"u"&&((fo==null?void 0:fo.VITE_FORCE_AGG_OVERLAY)==="1"||(fo==null?void 0:fo.VITE_FORCE_AGG_OVERLAY)==="true"),ne=be&&!!Y,Se=ye.useRef(null),[ce,Ee]=R.useState(0);R.useEffect(()=>{if(!G||!Array.isArray(G.items)){re(null);return}const j={Wallet:Co.WALLET,LiquidityPool:Co.LIQUIDITY_POOL,LendingAndBorrowing:Co.LENDING_AND_BORROWING,Staking:Co.STAKING},q=G.items.map(K=>{const ue=j[K.type]??K.type;return{...K,type:ue}});re({items:q,aggregationJobId:ke,aggregationSummary:ae,rawAggregation:G}),De(null)},[G,ke,ae]),R.useEffect(()=>{if(mt){const j=mt.message||String(mt);De(j)}else be&&Ae?De("Aggregation timed out. Please try again."):be&&et&&et>0&&Ne===0&&De("Failed to load data from all sources.")},[mt,be,Ae,et,Ne]);const[Te,we]=R.useState(null),[rt,Ge]=R.useState(null),[ft,qt]=R.useState(0);R.useEffect(()=>{v&&!V&&!N&&(we(v),Ge(null))},[v,V,N]),R.useEffect(()=>{N&&(Ge(N),we(null))},[N]),R.useEffect(()=>{rt?J(rt,"Base",{isGroup:!0}):Te&&J(Te,"Base")},[Te,rt,ft]),R.useEffect(()=>{if(!Y){Se.current=null,Ee(q=>q+1);try{console.log("[Chains] Snapshot cleared (no walletData). Version bumped.")}catch{}return}let j=null;try{typeof structuredClone=="function"?j=structuredClone(Y):j=JSON.parse(JSON.stringify(Y))}catch{try{j={...Y}}catch{}}Se.current=j,Ee(q=>q+1)},[Y]);const xe=()=>Y?Y.items&&Array.isArray(Y.items)?mi(Y.items):Y.data&&Array.isArray(Y.data)?mi(Y.data):Y.tokens||[]:[],We=()=>Y?Y.items&&Array.isArray(Y.items)?yi(Y.items):Y.data&&Array.isArray(Y.data)?yi(Y.data):Array.isArray(Y.deFi)?Y.deFi.filter(j=>{var q,K;return(((q=j.position)==null?void 0:q.label)||((K=j.position)==null?void 0:K.name))==="Liquidity"}):Y.liquidityPools||[]:[],Le=(j,q)=>Array.isArray(j)?q?j:j.filter(K=>{const ue=(K.type||"").toString().toLowerCase();return ue==="defi-token"||ue==="internal"||K.isInternal||K.internal||K.category==="internal"?!1:ue?["supplied","supply","deposit","borrowed","borrow","debt","reward","rewards"].includes(ue):!0}):[],it=(j,q)=>Array.isArray(j)?q?j:j.filter(K=>{const ue=(K.type||"").toString().toLowerCase();return ue==="defi-token"||ue==="internal"||K.isInternal||K.internal||K.category==="internal"?!1:ue==="reward"||ue==="rewards"||ue==="staked"}):[],Dt=()=>Y?Y.items&&Array.isArray(Y.items)?dl(Y.items):Y.data&&Array.isArray(Y.data)?dl(Y.data):Array.isArray(Y.deFi)?Y.deFi.filter(j=>{var q,K;return(((q=j.position)==null?void 0:q.label)||((K=j.position)==null?void 0:K.name))!=="Liquidity"}):Y.lendingAndBorrowing||[]:[],so=()=>Y?Y.items&&Array.isArray(Y.items)?xi(Y.items):Y.data&&Array.isArray(Y.data)?xi(Y.data):Y.staking||[]:[],wu=()=>Y?Y.items&&Array.isArray(Y.items)?af(Y.items):Y.data&&Array.isArray(Y.data)?af(Y.data):[]:[],bu=()=>Y?Y.items&&Array.isArray(Y.items)?cf(Y.items):Y.data&&Array.isArray(Y.data)?cf(Y.data):[]:[],Su=()=>{const j=nf(xe(),Wt),q=_i(We()),K=_i(Dt()),ue=so(),Ue=n1({walletTokens:j,liquidityGroups:q,lendingGroups:K,stakingPositions:ue,filterLendingDefiTokens:Le,filterStakingDefiTokens:it,showLendingDefiTokens:$t,showStakingDefiTokens:Un});try{r1(Ue.totalNet)}catch{}return Ue},Fs=()=>Su().totalNet,Or=(j,q={})=>{if(!r)return j;const{short:K=!1}=q;return K?"":""};let hr=[],ku=0;const ju=R.useRef(!1);R.useEffect(()=>{C&&C.length>0&&!ju.current&&(ju.current=!0,pr(null))},[C]);const Go=j=>{if(j!=null)return String(j).trim().toLowerCase()},Jl=Mt===null||Mt&&C&&Mt.size===C.length&&C.every(j=>{const q=Go(j.displayName||j.name||j.shortName||j.id||j.chainId||j.chain||j.network||j.networkId);return Mt.has(q)}),yg=j=>{pr(q=>{if(!q)return new Set([j]);const K=new Set(q);if(K.has(j)){if(K.size===1)return K;K.delete(j)}else K.add(j);return K})},Cu=ye.useMemo(()=>{const j={};return Array.isArray(C)&&C.forEach(q=>{const K=q.displayName||q.name||q.shortName||q.id||q.chainId||q.chain||q.network||q.networkId,ue=Go(K);[q.id,q.chainId,q.chainID,q.chain,q.networkId,q.network,q.displayName,q.name,q.shortName,K].filter(nt=>nt!=null&&nt!=="").forEach(nt=>{j[Go(nt)]=ue})}),j},[C]),xg=j=>{if(!j||typeof j!="object")return;const q=j.chainId||j.chainID||j.chain_id||j.chain||j.networkId||j.network||j.chainName;if(q)return q;const K=j.protocol;if(K&&typeof K=="object")return K.chainId||K.chainID||K.chain||K.networkId||K.network||K.chainName;for(const ue in j)if(Object.prototype.hasOwnProperty.call(j,ue)&&/(chain|network)/i.test(ue)){const Ue=j[ue];if(Ue&&(typeof Ue=="string"||typeof Ue=="number"))return Ue}},qo=j=>{const q=xg(j);if(q==null)return;const K=Go(q);return Cu[K]||K},zs=j=>{if(!Mt||Jl)return!0;const q=j&&j.position?j.position:j,K=qo(q);if(K&&Mt.has(K))return!0;const ue=Array.isArray(q==null?void 0:q.tokens)?q.tokens:[];for(let Ue=0;Ue<ue.length;Ue++){const nt=qo(ue[Ue]);if(nt&&Mt.has(nt))return!0}return!1};hr=ye.useMemo(()=>{const j=nf(xe(),Wt);return!Mt||Jl?j:j.filter(q=>{const K=q.token||q,ue=qo(K)||qo(q);return ue?Mt.has(ue):!1})},[Y,Wt,Mt,Jl,Cu]),ku=hr.reduce((j,q)=>{const K=q.token||q;return j+(parseFloat(K.totalPrice)||0)},0),Xn(ku,Fs());const{mergedTotals:Ko,rawTotals:rv}=ye.useMemo(()=>{const j=Se.current||{},q={},K=(ge,Re)=>{if(ge==null)return;const Me=String(ge);q[Me]||(q[Me]=0),q[Me]+=parseFloat(Re)||0},ue=ge=>{if(!ge||typeof ge!="object")return;const Re=ge.chainId||ge.chainID||ge.chain_id||ge.chain||ge.networkId||ge.network||ge.chainName;if(Re)return Re;const Me=ge.protocol;if(Me&&typeof Me=="object")return Me.chainId||Me.chainID||Me.chain||Me.networkId||Me.network||Me.chainName;for(const Ie in ge)if(Object.prototype.hasOwnProperty.call(ge,Ie)&&/(chain|network)/i.test(Ie)){const at=ge[Ie];if(at&&(typeof at=="string"||typeof at=="number"))return at}},Ue=(ge,Re)=>{var at;const Me=((ge==null?void 0:ge.type)||"").toLowerCase(),Ie=Math.abs(parseFloat(ge==null?void 0:ge.totalPrice)||0);if(Me==="borrowed"||Me==="borrow"||Me==="debt")return-Ie;if(!Me){const yt=(((at=Re==null?void 0:Re.position)==null?void 0:at.label)||(Re==null?void 0:Re.label)||"").toLowerCase();if(yt.includes("borrow")||yt.includes("debt"))return-Ie}return Ie};try{const ge=j;let Re=[];ge&&(ge.items&&Array.isArray(ge.items)?Re=mi(ge.items):ge.data&&Array.isArray(ge.data)?Re=mi(ge.data):Re=ge.tokens||[]),Re.forEach(Me=>{const Ie=Me.token||Me,at=ue(Ie)||ue(Me);if(at===void 0)return;let yt=Ie.totalPrice;yt===void 0&&Ie.financials&&(yt=Ie.financials.totalPrice),yt===void 0&&Ie.financials&&Ie.financials.price!=null&&Ie.financials.amount!=null&&(yt=parseFloat(Ie.financials.price)*parseFloat(Ie.financials.amount)),yt===void 0&&Ie.price!=null&&Ie.amount!=null&&(yt=parseFloat(Ie.price)*parseFloat(Ie.amount)),K(at,yt)})}catch{}const nt=ge=>ge&&ge.position?ge.position:ge,mn={liquidity:0,lending:0,staking:0};try{let ge=[];const Re=j;Re&&(Re.items&&Array.isArray(Re.items)?ge=yi(Re.items):Re.data&&Array.isArray(Re.data)?ge=yi(Re.data):Array.isArray(Re.deFi)?ge=Re.deFi.filter(Me=>{var Ie,at;return(((Ie=Me.position)==null?void 0:Ie.label)||((at=Me.position)==null?void 0:at.name))==="Liquidity"}):ge=Re.liquidityPools||[]),ge.forEach(Me=>{const Ie=nt(Me),at=ue(Ie)||ue(Me);(Array.isArray(Ie==null?void 0:Ie.tokens)?Ie.tokens:[]).forEach(Xe=>{const pt=ue(Xe)||at;let Oe=Xe.totalPrice;Oe===void 0&&Xe.financials&&(Oe=Xe.financials.totalPrice),Oe===void 0&&Xe.financials&&Xe.financials.price!=null&&Xe.financials.amount!=null&&(Oe=parseFloat(Xe.financials.price)*parseFloat(Xe.financials.amount)),Oe===void 0&&Xe.price!=null&&Xe.amount!=null&&(Oe=parseFloat(Xe.price)*parseFloat(Xe.amount));const bt=parseFloat(Oe)||0;pt===void 0?mn.liquidity+=bt:K(pt,bt)}),Array.isArray(Ie==null?void 0:Ie.rewards)&&Ie.rewards.forEach(Xe=>{const pt=ue(Xe)||at;let Oe=Xe.totalPrice;Oe===void 0&&Xe.financials&&(Oe=Xe.financials.totalPrice),Oe===void 0&&Xe.financials&&Xe.financials.price!=null&&Xe.financials.amount!=null&&(Oe=parseFloat(Xe.financials.price)*parseFloat(Xe.financials.amount)),Oe===void 0&&Xe.price!=null&&Xe.amount!=null&&(Oe=parseFloat(Xe.price)*parseFloat(Xe.amount));const bt=parseFloat(Oe)||0;pt===void 0?mn.liquidity+=bt:K(pt,bt)})})}catch{}try{let ge=[];const Re=j;Re&&(Re.items&&Array.isArray(Re.items)?ge=dl(Re.items):Re.data&&Array.isArray(Re.data)?ge=dl(Re.data):Array.isArray(Re.deFi)?ge=Re.deFi.filter(Me=>{var Ie,at;return(((Ie=Me.position)==null?void 0:Ie.label)||((at=Me.position)==null?void 0:at.name))!=="Liquidity"}):ge=Re.lendingAndBorrowing||[]),ge.forEach(Me=>{const Ie=nt(Me),at=ue(Ie)||ue(Me),yt=Array.isArray(Ie==null?void 0:Ie.tokens)?Ie.tokens:[];($t?yt:yt.filter(pt=>{const Oe=(pt.type||"").toLowerCase();return Oe==="defi-token"||Oe==="internal"||pt.isInternal||pt.internal||pt.category==="internal"?!1:Oe?["supplied","supply","deposit","borrowed","borrow","debt","reward","rewards"].includes(Oe):!0})).forEach(pt=>{const Oe=ue(pt)||at;let bt=pt.totalPrice;bt===void 0&&pt.financials&&(bt=pt.financials.totalPrice),bt===void 0&&pt.financials&&pt.financials.price!=null&&pt.financials.amount!=null&&(bt=parseFloat(pt.financials.price)*parseFloat(pt.financials.amount)),bt===void 0&&pt.price!=null&&pt.amount!=null&&(bt=parseFloat(pt.price)*parseFloat(pt.amount));const Fn=Ue({...pt,totalPrice:bt},Ie);Oe===void 0?mn.lending+=Fn:K(Oe,Fn)})})}catch{}try{let ge=[];const Re=j;Re&&(Re.items&&Array.isArray(Re.items)?ge=xi(Re.items):Re.data&&Array.isArray(Re.data)?ge=xi(Re.data):ge=Re.staking||[]),ge.forEach(Me=>{const Ie=nt(Me),at=ue(Ie)||ue(Me);let yt=!1;const Xe=Array.isArray(Ie==null?void 0:Ie.tokens)?Ie.tokens:[];if((Un?Xe:Xe.filter(Oe=>{const bt=(Oe.type||"").toLowerCase();return bt==="defi-token"||bt==="internal"||Oe.isInternal||Oe.internal||Oe.category==="internal"?!1:bt==="reward"||bt==="rewards"||bt==="staked"})).forEach(Oe=>{yt=!0;const bt=ue(Oe)||at;let Fn=Oe.totalPrice;Fn===void 0&&Oe.financials&&(Fn=Oe.financials.totalPrice),Fn===void 0&&Oe.financials&&Oe.financials.price!=null&&Oe.financials.amount!=null&&(Fn=parseFloat(Oe.financials.price)*parseFloat(Oe.financials.amount)),Fn===void 0&&Oe.price!=null&&Oe.amount!=null&&(Fn=parseFloat(Oe.price)*parseFloat(Oe.amount));const Pu=parseFloat(Fn)||0;bt===void 0?mn.staking+=Pu:K(bt,Pu)}),!yt){const Oe=parseFloat(Ie==null?void 0:Ie.balance);isNaN(Oe)||(at===void 0?mn.staking+=Oe:K(at,Oe))}})}catch{}const Hn={};return Array.isArray(C)&&C.length>0?C.forEach(ge=>{const Re=String(ge.displayName||ge.name||ge.shortName||ge.id||ge.chainId||ge.chain),Me=[ge.id,ge.chainId,ge.chainID,ge.chain,ge.networkId,ge.network,ge.displayName,ge.name,ge.shortName,Re].filter(yt=>yt!=null&&yt!=="").map(yt=>String(yt)),at=Array.from(new Set(Me)).reduce((yt,Xe)=>yt+(q[Xe]||0),0);Hn[Re]=at}):Object.assign(Hn,q),{mergedTotals:Hn,rawTotals:q}},[ce,$t,Un,C]),vg=ye.useMemo(()=>{if(!C||C.length===0)return 0;const j=new Set;let q=0;return C.forEach(K=>{const ue=String(K.displayName||K.name||K.shortName||K.id||K.chainId||K.chain||K.network||K.networkId);if(j.has(ue))return;j.add(ue);const Ue=Ko[ue];typeof Ue=="number"&&!isNaN(Ue)&&(q+=Ue)}),q},[C,Ko]),Vn=Zn==="chart"?"summary":Zn==="strategies"?"strategies":"overview";return R.useEffect(()=>{Vn==="strategies"&&!N&&te("table")},[Vn,N]),R.useEffect(()=>{let j=!1;return(async()=>{if(!(Vn!=="strategies"||!be)){if(!v&&!N){dt(null);return}try{const q=N?Nt.getRebalancesByGroup(N):Nt.getRebalances(v),K=await fetch(q);if(!K.ok){j||dt(null);return}const ue=await K.json();j||dt(ue)}catch{j||dt(null)}}})(),()=>{j=!0}},[Vn,v,N,be]),l.jsx(o0,{value:{maskValues:r,toggleMaskValues:i,setMaskValues:o,maskValue:Or},children:l.jsxs(o1,{supportedChains:C,children:[l.jsx("style",{children:"@keyframes defiPulse{0%{transform:scale(.55);opacity:.65}60%{transform:scale(1.9);opacity:0}100%{transform:scale(1.9);opacity:0}}@keyframes defiSpin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}"}),!v&&!N&&l.jsx(t0,{theme:e,onConnect:x,onManageGroups:()=>L(!0)}),(v||N)&&!ne&&!fe&&l.jsx(Vx,{theme:e}),(v||N)&&fe&&l.jsx(r0,{theme:e,error:fe,onRetry:()=>{De(null),qt(j=>j+1)},onGoBack:()=>{De(null),v?T():(S(null),window.history.pushState({},"","/"))}}),(v||N)&&ne&&!fe&&l.jsxs(l.Fragment,{children:[l.jsx(Ux,{account:v,onSearch:()=>se(),onRefresh:()=>v&&Ce(),onDisconnect:Q,onConnect:x,onManageGroups:()=>L(!0),selectedWalletGroupId:N,onSelectWalletGroup:j=>{S(j),window.history.pushState({},"",j?`/portfolio/${j}`:"/portfolio")},copyToClipboard:j=>{try{navigator.clipboard.writeText(j)}catch{}},searchAddress:V,setSearchAddress:oe}),l.jsx("div",{className:"w-full flex flex-column",style:{minHeight:"100vh"},children:l.jsxs("div",{className:"w-full",style:{padding:`8px ${u} 0px ${u}`,boxSizing:"border-box"},children:[ne&&C&&C.length>0&&l.jsxs("div",{className:"mb-16",style:{display:"flex",justifyContent:"flex-end",alignItems:"center",gap:12},children:[l.jsx(D1,{value:Zn,onChange:te}),l.jsx(Xy,{supportedChains:C,selectedChains:Mt,onSelectionChange:pr})]}),ne&&Vn==="overview"&&l.jsxs("div",{className:"mt-18",children:[P&&(!C||C.length===0)&&l.jsx("div",{className:"text-base",style:{color:e.textSecondary},children:"Loading chains..."}),C&&C.length>0&&l.jsxs("div",{className:"panel-unified relative mt-18",children:[l.jsx("div",{className:"panel-heading",children:"Supported Chains"}),l.jsx("div",{style:{display:"flex",gap:14,overflowX:"auto",paddingBottom:4,scrollbarWidth:"thin"},children:C.map((j,q)=>{const K=j.displayName||j.name||j.shortName||`Chain ${q+1}`,ue=j.displayName||j.name||j.shortName||j.id||j.chainId||j.chain||j.network||j.networkId,Ue=String(ue),nt=Go(Ue),mn=String(j.id||j.chainId||j.chainID||j.chain||j.networkId||j.network||K),Hn=Ko[Ue]??Ko[mn]??Ko[Ue.toLowerCase()]??0,ge=Mt===null||Mt.has(nt),Re=Xn(Hn,vg);return l.jsx("div",{onClick:()=>yg(nt),style:{minWidth:130,background:"transparent",border:"none",borderRadius:14,padding:"8px 10px",display:"flex",flexDirection:"column",justifyContent:"center",gap:4,cursor:"pointer",userSelect:"none",opacity:ge?1:.35,transition:"opacity .18s"},title:ge?"Clique para desselecionar":"Clique para selecionar",onMouseEnter:Me=>{ge||(Me.currentTarget.style.opacity=.55)},onMouseLeave:Me=>{ge||(Me.currentTarget.style.opacity=.35)},children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:j.iconUrl?"32px 1fr":"1fr",columnGap:8,rowGap:2,alignItems:"center"},children:[j.iconUrl&&l.jsx("div",{style:{width:32,height:32,gridRow:"1 / span 2",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:10,overflow:"hidden"},children:l.jsx("img",{src:j.iconUrl,alt:K,style:{width:"100%",height:"100%",objectFit:"contain"},onError:Me=>{Me.currentTarget.style.display="none"}})}),l.jsx("div",{style:{fontSize:12,fontWeight:600,color:e.textPrimary,lineHeight:1.2},children:K}),l.jsxs("div",{style:{fontSize:11,color:e.textSecondary,display:"flex",flexDirection:"column",gap:2},children:[l.jsx("span",{style:{fontWeight:600,color:e.textPrimary,fontSize:12},children:Or(Qe(Hn))}),l.jsx("span",{style:{fontSize:10,color:e.textMuted},children:Re})]})]})},Ue)})})]})]}),(He||ke)&&l.jsx("div",{"aria-busy":!be,"aria-live":"polite",style:{position:"fixed",inset:0,background:"linear-gradient(155deg, rgba(0,0,0,0.72), rgba(0,0,0,0.55))",backdropFilter:"blur(5px)",WebkitBackdropFilter:"blur(5px)",zIndex:2e3,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:f?"24px 16px 32px 16px":"32px 32px 48px 32px",color:e.textPrimary,overflowY:"auto",pointerEvents:be?"none":"auto",opacity:be?0:1,transition:"opacity .55s ease"},children:l.jsxs("div",{style:{width:"100%",maxWidth:f?380:520,textAlign:"center",padding:"0 12px"},children:[l.jsx("div",{style:{width:f?52:72,height:f?52:72,margin:f?"0 auto 22px auto":"0 auto 32px auto",border:f?"5px solid rgba(255,255,255,0.15)":"6px solid rgba(255,255,255,0.15)",borderTop:f?"5px solid #35f7a5":"6px solid #35f7a5",borderRight:f?"5px solid #2fbfd9":"6px solid #2fbfd9",borderRadius:"50%",animation:be?"none":"defiSpin 0.85s linear infinite"}}),l.jsx("h2",{style:{margin:"0 0 12px 0",fontSize:f?20:24,fontWeight:600,letterSpacing:".5px"},children:be?"Synchronized":"Synchronizing your account"}),l.jsx("p",{style:{fontSize:f?13:14,lineHeight:1.5,opacity:.9,margin:"0 0 18px 0"},children:be?"Data ready  unlocking interface.":"Aggregating your DeFi positions across multiple providers."}),l.jsx("div",{style:{fontSize:f?12:13,fontWeight:500,marginBottom:6},children:(()=>{const j=pe||(G==null?void 0:G.expected),q=Ne||(G==null?void 0:G.succeeded)||0,K=et||(G==null?void 0:G.failed)||0,ue=en||(G==null?void 0:G.timedOut)||0;if(!j||j<=0)return"Initializing sources...";const Ue=q+K+ue,nt=Math.min(100,Math.max(0,Math.round(Ue/j*100)));return be?"Complete":`Sources ${Ue}/${j}  ${nt}%`})()}),l.jsxs("div",{style:{fontSize:f?11:12,opacity:.75,marginBottom:4},children:["Status:"," ",be?"Done":Et]}),l.jsx("div",{style:{fontSize:f?10:11,opacity:.5},children:be?"Closing...":"This may take a few seconds depending on the number of protocols."}),l.jsx("div",{style:{marginTop:f?16:22,fontSize:f?10:11,opacity:.55},children:(()=>{const j=et||(G==null?void 0:G.failed)||0,q=en||(G==null?void 0:G.timedOut)||0;return j===0&&q===0?null:`Partial issues - failed: ${j}${q>0?`, timed out: ${q}`:""}`})()})]})}),ne&&l.jsxs(l.Fragment,{children:[Vn==="summary"&&l.jsx(W1,{walletTokens:hr,getLiquidityPoolsData:We,getLendingAndBorrowingData:Dt,getStakingData:so,getTotalPortfolioValue:Fs,getPortfolioBreakdown:Su,maskValue:Or,formatPrice:Qe,theme:e,groupDefiByProtocol:_i,filterLendingDefiTokens:Le,showLendingDefiTokens:$t}),Vn==="strategies"&&l.jsx(M1,{walletTokens:hr,getLiquidityPoolsData:We,getLendingAndBorrowingData:Dt,getStakingData:so,getDepositingData:bu,getLockingData:wu,account:v,selectedWalletGroupId:N,theme:e,initialSavedKey:Be==null?void 0:Be.key,initialSavedCount:Be==null?void 0:Be.count,initialSavedItems:Be==null?void 0:Be.items,onRebalancesSaved:async()=>{try{const j=N?Nt.getRebalancesByGroup(N):Nt.getRebalances(v),q=await fetch(j);if(q.ok){const K=await q.json();dt(K)}}catch(j){console.error("Failed to reload rebalances:",j)}}}),Vn==="pools"&&l.jsx(h1,{getLiquidityPoolsData:We}),Vn==="overview"&&l.jsxs(l.Fragment,{children:[Vn==="liquidity"&&l.jsxs("div",{style:{background:e.bgPanel,border:`1px solid ${e.border}`,borderRadius:16,padding:"32px 40px",marginBottom:32,textAlign:"center"},children:[l.jsx("h2",{style:{margin:0,fontSize:20,fontWeight:600,letterSpacing:.5},children:"Liquidity (beta)"}),l.jsx("p",{style:{fontSize:13,opacity:.75,margin:"12px 0 0 0"},children:"Upcoming view to consolidate pool positions and APY metrics."})]}),hr.length>0&&(()=>{hr.map((q,K)=>{const ue=q.token||q;return{key:ue.contractAddress||ue.tokenAddress||`${ue.symbol}-${K}`,token:l.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[ue.logo&&l.jsx("img",{src:ue.logo,alt:ue.symbol,style:{width:24,height:24,marginRight:10,borderRadius:"50%",border:`1px solid ${e.border}`},onError:Ue=>Ue.currentTarget.style.display="none"}),l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:600,fontSize:14,color:e.textPrimary,marginBottom:2},children:ue.symbol}),l.jsx("div",{style:{fontSize:12,color:e.textSecondary},children:ue.name})]})]}),amount:!h&&Je?Or(Kr(ue.balance,ue.native),{short:!0}):void 0,price:!d&&ze?Or(Qe(ue.price),{short:!0}):void 0,value:Or(Qe(ue.totalPrice))}}),`${hr.length}`;const j=l.jsxs("div",{style:{padding:"6px 0"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 12px",cursor:"pointer",fontSize:13},children:[l.jsx("input",{type:"checkbox",checked:!Wt,onChange:q=>_t(!q.target.checked)}),"Show assets with no balance"]}),l.jsx("div",{style:{height:1,background:"#e5e7eb",margin:"6px 0"}}),l.jsx("div",{style:{fontSize:11,color:"#6b7280",fontWeight:700,padding:"6px 12px"},children:"Visible Columns"}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 12px",cursor:"pointer",fontSize:13},children:[l.jsx("input",{type:"checkbox",checked:Je,onChange:q=>Ye(q.target.checked)}),"Amount"]}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 12px",cursor:"pointer",fontSize:13},children:[l.jsx("input",{type:"checkbox",checked:ze,onChange:q=>st(q.target.checked)}),"Price"]}),l.jsx("div",{style:{fontSize:11,color:"#9ca3af",padding:"6px 12px",fontStyle:"italic"},children:"Token and Total Value are always visible. On small screens some columns may hide automatically."})]});return l.jsx(gg,{title:"Wallet",icon:l.jsx("div",{style:{width:22,height:22,borderRadius:"50%",border:"none",display:"flex",alignItems:"center",justifyContent:"center",background:"transparent",overflow:"hidden"},children:l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-wallet-icon lucide-wallet",children:[l.jsx("path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1"}),l.jsx("path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4"})]})}),isExpanded:gt,onToggle:()=>Tt(!gt),transparentBody:!0,optionsMenu:j,customContent:l.jsx("div",{style:{background:"transparent",border:"none",borderRadius:8},children:(()=>{const q=!h&&Je,K=!d&&ze;return l.jsx(x1,{tokens:hr,showBalanceColumn:q,showUnitPriceColumn:K})})()})})})(),Zn==="cards"?l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:32},children:[(()=>{const j=Dt().filter(zs);return j.length>0&&l.jsxs("div",{children:[l.jsx("h3",{style:{fontSize:18,fontWeight:600,color:e.textPrimary,marginBottom:16},children:"Lending & Borrowing"}),l.jsx(U1,{data:j})]})})(),(()=>{const j=We().filter(zs);return j.length>0&&l.jsxs("div",{children:[l.jsx("h3",{style:{fontSize:18,fontWeight:600,color:e.textPrimary,marginBottom:16},children:"Liquidity Pools"}),l.jsx(V1,{data:j})]})})(),(()=>{const j=so().filter(zs);return j.length>0&&l.jsxs("div",{children:[l.jsx("h3",{style:{fontSize:18,fontWeight:600,color:e.textPrimary,marginBottom:16},children:"Staking"}),l.jsx(H1,{data:j})]})})()]}):l.jsx(n0,{children:l.jsx(R1,{getLiquidityPoolsData:We,getLendingAndBorrowingData:Dt,getStakingData:so,getLockingData:wu,getDepositingData:bu,selectedChains:Mt,isAllChainsSelected:Jl,getCanonicalFromObj:qo,filterLendingDefiTokens:Le,filterStakingDefiTokens:it,showLendingDefiTokens:$t,showStakingDefiTokens:Un,setShowLendingDefiTokens:Zt,setShowStakingDefiTokens:fr,protocolExpansions:F,toggleProtocolExpansion:B,calculatePercentage:Xn,getTotalPortfolioValue:Fs,maskValue:Or,theme:e})})]})]})]})}),Pt&&l.jsx("div",{style:{position:"fixed",left:lt.x-((Pt==null?void 0:Pt.length)||0)*3,top:lt.y-40,backgroundColor:t==="light"?"rgba(0,0,0,0.75)":"rgba(0, 0, 0, 0.9)",color:e.textPrimary,padding:"8px 12px",borderRadius:4,fontSize:12,whiteSpace:"pre-line",zIndex:1e3,maxWidth:300,wordWrap:"break-word",border:`1px solid ${e.border}`},children:Pt}),g&&l.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.45)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:l.jsx("div",{style:{backgroundColor:e.bgPanel,padding:20,borderRadius:10,fontSize:15,color:e.textPrimary,border:`1px solid ${e.border}`,boxShadow:e.shadowHover},children:"Loading wallet data..."})})]}),l.jsx(K1,{isOpen:I,onClose:()=>{L(!1),A(null)},initialGroupId:b,onGroupCreated:j=>{S(j),window.history.pushState({},"",`/portfolio/${j}`),L(!1),A(null)},onGroupSelected:j=>{S(j),window.history.pushState({},"",`/portfolio/${j}`),L(!1),A(null)}}),l.jsx(mg,{isOpen:p,onClose:()=>m(!1),onSelectWallet:w,availableWallets:y}),l.jsx(Y1,{isOpen:!!k,onClose:()=>z(null),walletName:k==null?void 0:k.walletName,walletIcon:k==null?void 0:k.walletIcon,walletColor:k==null?void 0:k.walletColor}),E&&l.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3,padding:20},onClick:()=>$(!1),children:l.jsxs("div",{style:{backgroundColor:e.bgPanel,padding:32,borderRadius:16,width:"90%",height:"90%",overflow:"hidden",border:`1px solid ${e.border}`,boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)",display:"flex",flexDirection:"column"},onClick:j=>j.stopPropagation(),children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[l.jsx("h2",{style:{margin:0,color:e.textPrimary,fontSize:28,fontWeight:600},children:"Protocol Status"}),l.jsx("button",{onClick:()=>$(!1),style:{background:"rgba(255, 255, 255, 0.1)",border:"none",color:e.textPrimary,cursor:"pointer",fontSize:24,padding:"8px 16px",borderRadius:8,transition:"background 0.2s"},onMouseEnter:j=>j.currentTarget.style.background="rgba(255, 255, 255, 0.2)",onMouseLeave:j=>j.currentTarget.style.background="rgba(255, 255, 255, 0.1)",children:""})]}),ve?l.jsx("div",{style:{textAlign:"center",padding:40,color:e.textSecondary,fontSize:16},children:"Loading protocol status..."}):he&&he.protocols?l.jsx("div",{style:{flex:1,overflow:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:e.bgCard,borderRadius:12,overflow:"hidden"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{backgroundColor:e.bgPanel,borderBottom:`2px solid ${e.border}`},children:[l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",color:e.textPrimary,fontWeight:600,fontSize:14,letterSpacing:"0.5px",position:"sticky",top:0,backgroundColor:e.bgPanel,zIndex:10},children:"Protocol"}),he.availableChains&&he.availableChains.map(j=>{let q=null;if(C&&C.length>0){const K=C.find(ue=>ue.name===j||ue.displayName===j||ue.shortName===j||String(ue.name||"").toLowerCase()===String(j).toLowerCase());K&&(q=K.iconUrl||K.icon||K.logo||K.image)}return l.jsx("th",{style:{padding:"16px 12px",textAlign:"center",color:e.textPrimary,fontWeight:600,fontSize:14,letterSpacing:"0.5px",position:"sticky",top:0,backgroundColor:e.bgPanel,zIndex:10},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:8},children:[q&&l.jsx("img",{src:q,alt:j,style:{width:20,height:20,borderRadius:"50%"},onError:K=>K.target.style.display="none"}),l.jsx("span",{children:j})]})},j)})]})}),l.jsx("tbody",{children:he.protocols.sort((j,q)=>(j.blockchainGroup||0)-(q.blockchainGroup||0)).map((j,q)=>l.jsxs("tr",{style:{backgroundColor:q%2===0?e.bgCard:e.bgPanel,borderBottom:`1px solid ${e.border}`,transition:"background-color 0.2s"},onMouseEnter:K=>K.currentTarget.style.backgroundColor=e.bgHover,onMouseLeave:K=>K.currentTarget.style.backgroundColor=q%2===0?e.bgCard:e.bgPanel,children:[l.jsx("td",{style:{padding:"16px 20px",color:e.textSecondary,fontSize:14},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[l.jsx("img",{src:j.iconUrl,alt:j.protocolName,style:{width:32,height:32,borderRadius:6,flexShrink:0},onError:K=>K.target.style.display="none"}),l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:500,color:e.textPrimary,marginBottom:4},children:j.protocolName}),j.website&&l.jsx("a",{href:j.website,target:"_blank",rel:"noopener noreferrer",style:{fontSize:12,color:e.textSecondary,textDecoration:"none",opacity:.7,transition:"opacity 0.2s"},onMouseEnter:K=>K.currentTarget.style.opacity=1,onMouseLeave:K=>K.currentTarget.style.opacity=.7,children:j.website.replace(/^https?:\/\//,"")})]})]})}),he.availableChains&&he.availableChains.map(K=>{const ue=j.chainSupport&&j.chainSupport[K],Ue=ue!=null,nt=ue===!0;return l.jsx("td",{style:{padding:"16px 12px",textAlign:"center"},children:Ue&&l.jsx("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:24,height:24,borderRadius:"50%",backgroundColor:nt?"rgba(34, 197, 94, 0.15)":"rgba(239, 68, 68, 0.15)",border:`2px solid ${nt?"#22c55e":"#ef4444"}`},children:l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",backgroundColor:nt?"#22c55e":"#ef4444"}})})},K)})]},j.protocolId))})]})}):l.jsx("div",{style:{textAlign:"center",padding:40,color:e.textSecondary,fontSize:16},children:"No data available"})]})}),l.jsx("div",{style:{position:"fixed",bottom:8,right:8,zIndex:100},children:l.jsx("button",{onClick:()=>{$(!0),_e()},style:{background:"transparent",border:"none",color:e.textSecondary,cursor:"pointer",fontSize:11,padding:"4px 8px",opacity:.3,transition:"opacity 0.2s"},onMouseEnter:j=>j.currentTarget.style.opacity="0.7",onMouseLeave:j=>j.currentTarget.style.opacity="0.3",children:"Status"})})]})})}const nv=Ah(document.getElementById("root"));nv.render(l.jsx(ye.StrictMode,{children:l.jsx(Jy,{children:l.jsx(tv,{})})}));
